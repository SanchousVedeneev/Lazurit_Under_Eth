ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"socket.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "ioLibrary_Driver-master/Ethernet/socket.c"
  18              		.section	.text.close,"ax",%progbits
  19              		.align	1
  20              		.global	close
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	close:
  26              	.LVL0:
  27              	.LFB1:
   1:ioLibrary_Driver-master/Ethernet/socket.c **** //*****************************************************************************
   2:ioLibrary_Driver-master/Ethernet/socket.c **** //
   3:ioLibrary_Driver-master/Ethernet/socket.c **** //! \file socket.c
   4:ioLibrary_Driver-master/Ethernet/socket.c **** //! \brief SOCKET APIs Implements file.
   5:ioLibrary_Driver-master/Ethernet/socket.c **** //! \details SOCKET APIs like as Berkeley Socket APIs. 
   6:ioLibrary_Driver-master/Ethernet/socket.c **** //! \version 1.0.3
   7:ioLibrary_Driver-master/Ethernet/socket.c **** //! \date 2013/10/21
   8:ioLibrary_Driver-master/Ethernet/socket.c **** //! \par  Revision history
   9:ioLibrary_Driver-master/Ethernet/socket.c **** //!       <2015/02/05> Notice
  10:ioLibrary_Driver-master/Ethernet/socket.c **** //!        The version history is not updated after this point.
  11:ioLibrary_Driver-master/Ethernet/socket.c **** //!        Download the latest version directly from GitHub. Please visit the our GitHub repository
  12:ioLibrary_Driver-master/Ethernet/socket.c **** //!        >> https://github.com/Wiznet/ioLibrary_Driver
  13:ioLibrary_Driver-master/Ethernet/socket.c **** //!       <2014/05/01> V1.0.3. Refer to M20140501
  14:ioLibrary_Driver-master/Ethernet/socket.c **** //!         1. Implicit type casting -> Explicit type casting.
  15:ioLibrary_Driver-master/Ethernet/socket.c **** //!         2. replace 0x01 with PACK_REMAINED in recvfrom()
  16:ioLibrary_Driver-master/Ethernet/socket.c **** //!         3. Validation a destination ip in connect() & sendto(): 
  17:ioLibrary_Driver-master/Ethernet/socket.c **** //!            It occurs a fatal error on converting unint32 address if uint8* addr parameter is no
  18:ioLibrary_Driver-master/Ethernet/socket.c **** //!            Copy 4 byte addr value into temporary uint32 variable and then compares it.
  19:ioLibrary_Driver-master/Ethernet/socket.c **** //!       <2013/12/20> V1.0.2 Refer to M20131220
  20:ioLibrary_Driver-master/Ethernet/socket.c **** //!                    Remove Warning.
  21:ioLibrary_Driver-master/Ethernet/socket.c **** //!       <2013/11/04> V1.0.1 2nd Release. Refer to "20131104".
  22:ioLibrary_Driver-master/Ethernet/socket.c **** //!                    In sendto(), Add to clear timeout interrupt status (Sn_IR_TIMEOUT)
  23:ioLibrary_Driver-master/Ethernet/socket.c **** //!       <2013/10/21> 1st Release
  24:ioLibrary_Driver-master/Ethernet/socket.c **** //! \author MidnightCow
  25:ioLibrary_Driver-master/Ethernet/socket.c **** //! \copyright
  26:ioLibrary_Driver-master/Ethernet/socket.c **** //!
  27:ioLibrary_Driver-master/Ethernet/socket.c **** //! Copyright (c)  2013, WIZnet Co., LTD.
  28:ioLibrary_Driver-master/Ethernet/socket.c **** //! All rights reserved.
  29:ioLibrary_Driver-master/Ethernet/socket.c **** //! 
  30:ioLibrary_Driver-master/Ethernet/socket.c **** //! Redistribution and use in source and binary forms, with or without 
  31:ioLibrary_Driver-master/Ethernet/socket.c **** //! modification, are permitted provided that the following conditions 
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 2


  32:ioLibrary_Driver-master/Ethernet/socket.c **** //! are met: 
  33:ioLibrary_Driver-master/Ethernet/socket.c **** //! 
  34:ioLibrary_Driver-master/Ethernet/socket.c **** //!     * Redistributions of source code must retain the above copyright 
  35:ioLibrary_Driver-master/Ethernet/socket.c **** //! notice, this list of conditions and the following disclaimer. 
  36:ioLibrary_Driver-master/Ethernet/socket.c **** //!     * Redistributions in binary form must reproduce the above copyright
  37:ioLibrary_Driver-master/Ethernet/socket.c **** //! notice, this list of conditions and the following disclaimer in the
  38:ioLibrary_Driver-master/Ethernet/socket.c **** //! documentation and/or other materials provided with the distribution. 
  39:ioLibrary_Driver-master/Ethernet/socket.c **** //!     * Neither the name of the <ORGANIZATION> nor the names of its 
  40:ioLibrary_Driver-master/Ethernet/socket.c **** //! contributors may be used to endorse or promote products derived 
  41:ioLibrary_Driver-master/Ethernet/socket.c **** //! from this software without specific prior written permission. 
  42:ioLibrary_Driver-master/Ethernet/socket.c **** //! 
  43:ioLibrary_Driver-master/Ethernet/socket.c **** //! THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  44:ioLibrary_Driver-master/Ethernet/socket.c **** //! AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
  45:ioLibrary_Driver-master/Ethernet/socket.c **** //! IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  46:ioLibrary_Driver-master/Ethernet/socket.c **** //! ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE 
  47:ioLibrary_Driver-master/Ethernet/socket.c **** //! LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
  48:ioLibrary_Driver-master/Ethernet/socket.c **** //! CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
  49:ioLibrary_Driver-master/Ethernet/socket.c **** //! SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  50:ioLibrary_Driver-master/Ethernet/socket.c **** //! INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
  51:ioLibrary_Driver-master/Ethernet/socket.c **** //! CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  52:ioLibrary_Driver-master/Ethernet/socket.c **** //! ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF 
  53:ioLibrary_Driver-master/Ethernet/socket.c **** //! THE POSSIBILITY OF SUCH DAMAGE.
  54:ioLibrary_Driver-master/Ethernet/socket.c **** //
  55:ioLibrary_Driver-master/Ethernet/socket.c **** //*****************************************************************************
  56:ioLibrary_Driver-master/Ethernet/socket.c **** #include "socket.h"
  57:ioLibrary_Driver-master/Ethernet/socket.c **** 
  58:ioLibrary_Driver-master/Ethernet/socket.c **** //M20150401 : Typing Error
  59:ioLibrary_Driver-master/Ethernet/socket.c **** //#define SOCK_ANY_PORT_NUM  0xC000;
  60:ioLibrary_Driver-master/Ethernet/socket.c **** #define SOCK_ANY_PORT_NUM  0xC000
  61:ioLibrary_Driver-master/Ethernet/socket.c **** 
  62:ioLibrary_Driver-master/Ethernet/socket.c **** static uint16_t sock_any_port = SOCK_ANY_PORT_NUM;
  63:ioLibrary_Driver-master/Ethernet/socket.c **** static uint16_t sock_io_mode = 0;
  64:ioLibrary_Driver-master/Ethernet/socket.c **** static uint16_t sock_is_sending = 0;
  65:ioLibrary_Driver-master/Ethernet/socket.c **** 
  66:ioLibrary_Driver-master/Ethernet/socket.c **** static uint16_t sock_remained_size[_WIZCHIP_SOCK_NUM_] = {0,0,};
  67:ioLibrary_Driver-master/Ethernet/socket.c **** 
  68:ioLibrary_Driver-master/Ethernet/socket.c **** //M20150601 : For extern decleation
  69:ioLibrary_Driver-master/Ethernet/socket.c **** //static uint8_t  sock_pack_info[_WIZCHIP_SOCK_NUM_] = {0,};
  70:ioLibrary_Driver-master/Ethernet/socket.c **** uint8_t  sock_pack_info[_WIZCHIP_SOCK_NUM_] = {0,};
  71:ioLibrary_Driver-master/Ethernet/socket.c **** //
  72:ioLibrary_Driver-master/Ethernet/socket.c **** 
  73:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5200
  74:ioLibrary_Driver-master/Ethernet/socket.c ****    static uint16_t sock_next_rd[_WIZCHIP_SOCK_NUM_] ={0,};
  75:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
  76:ioLibrary_Driver-master/Ethernet/socket.c **** 
  77:ioLibrary_Driver-master/Ethernet/socket.c **** //A20150601 : For integrating with W5300
  78:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300
  79:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t sock_remained_byte[_WIZCHIP_SOCK_NUM_] = {0,}; // set by wiz_recv_data()
  80:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
  81:ioLibrary_Driver-master/Ethernet/socket.c **** 
  82:ioLibrary_Driver-master/Ethernet/socket.c **** 
  83:ioLibrary_Driver-master/Ethernet/socket.c **** #define CHECK_SOCKNUM()   \
  84:ioLibrary_Driver-master/Ethernet/socket.c ****    do{                    \
  85:ioLibrary_Driver-master/Ethernet/socket.c ****       if(sn > _WIZCHIP_SOCK_NUM_) return SOCKERR_SOCKNUM;   \
  86:ioLibrary_Driver-master/Ethernet/socket.c ****    }while(0);             \
  87:ioLibrary_Driver-master/Ethernet/socket.c **** 
  88:ioLibrary_Driver-master/Ethernet/socket.c **** #define CHECK_SOCKMODE(mode)  \
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 3


  89:ioLibrary_Driver-master/Ethernet/socket.c ****    do{                     \
  90:ioLibrary_Driver-master/Ethernet/socket.c ****       if((getSn_MR(sn) & 0x0F) != mode) return SOCKERR_SOCKMODE;  \
  91:ioLibrary_Driver-master/Ethernet/socket.c ****    }while(0);              \
  92:ioLibrary_Driver-master/Ethernet/socket.c **** 
  93:ioLibrary_Driver-master/Ethernet/socket.c **** #define CHECK_SOCKINIT()   \
  94:ioLibrary_Driver-master/Ethernet/socket.c ****    do{                     \
  95:ioLibrary_Driver-master/Ethernet/socket.c ****       if((getSn_SR(sn) != SOCK_INIT)) return SOCKERR_SOCKINIT; \
  96:ioLibrary_Driver-master/Ethernet/socket.c ****    }while(0);              \
  97:ioLibrary_Driver-master/Ethernet/socket.c **** 
  98:ioLibrary_Driver-master/Ethernet/socket.c **** #define CHECK_SOCKDATA()   \
  99:ioLibrary_Driver-master/Ethernet/socket.c ****    do{                     \
 100:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len == 0) return SOCKERR_DATALEN;   \
 101:ioLibrary_Driver-master/Ethernet/socket.c ****    }while(0);              \
 102:ioLibrary_Driver-master/Ethernet/socket.c **** 
 103:ioLibrary_Driver-master/Ethernet/socket.c **** 
 104:ioLibrary_Driver-master/Ethernet/socket.c **** 
 105:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t socket(uint8_t sn, uint8_t protocol, uint16_t port, uint8_t flag)
 106:ioLibrary_Driver-master/Ethernet/socket.c **** {
 107:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
 108:ioLibrary_Driver-master/Ethernet/socket.c **** 	switch(protocol)
 109:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 110:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_TCP :
 111:ioLibrary_Driver-master/Ethernet/socket.c ****          {
 112:ioLibrary_Driver-master/Ethernet/socket.c ****             //M20150601 : Fixed the warning - taddr will never be NULL
 113:ioLibrary_Driver-master/Ethernet/socket.c **** 		    /*
 114:ioLibrary_Driver-master/Ethernet/socket.c ****             uint8_t taddr[4];
 115:ioLibrary_Driver-master/Ethernet/socket.c ****             getSIPR(taddr);
 116:ioLibrary_Driver-master/Ethernet/socket.c ****             */
 117:ioLibrary_Driver-master/Ethernet/socket.c ****             uint32_t taddr;
 118:ioLibrary_Driver-master/Ethernet/socket.c ****             getSIPR((uint8_t*)&taddr);
 119:ioLibrary_Driver-master/Ethernet/socket.c ****             if(taddr == 0) return SOCKERR_SOCKINIT;
 120:ioLibrary_Driver-master/Ethernet/socket.c **** 	    break;
 121:ioLibrary_Driver-master/Ethernet/socket.c ****          }
 122:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_UDP :
 123:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_MACRAW :
 124:ioLibrary_Driver-master/Ethernet/socket.c **** 	  case Sn_MR_IPRAW :
 125:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 126:ioLibrary_Driver-master/Ethernet/socket.c ****    #if ( _WIZCHIP_ < 5200 )
 127:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_PPPoE :
 128:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 129:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 130:ioLibrary_Driver-master/Ethernet/socket.c ****       default :
 131:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKMODE;
 132:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 133:ioLibrary_Driver-master/Ethernet/socket.c **** 	//M20150601 : For SF_TCP_ALIGN & W5300
 134:ioLibrary_Driver-master/Ethernet/socket.c **** 	//if((flag & 0x06) != 0) return SOCKERR_SOCKFLAG;
 135:ioLibrary_Driver-master/Ethernet/socket.c **** 	if((flag & 0x04) != 0) return SOCKERR_SOCKFLAG;
 136:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5200
 137:ioLibrary_Driver-master/Ethernet/socket.c ****    if(flag & 0x10) return SOCKERR_SOCKFLAG;
 138:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 139:ioLibrary_Driver-master/Ethernet/socket.c **** 	   
 140:ioLibrary_Driver-master/Ethernet/socket.c **** 	if(flag != 0)
 141:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 142:ioLibrary_Driver-master/Ethernet/socket.c ****    	switch(protocol)
 143:ioLibrary_Driver-master/Ethernet/socket.c ****    	{
 144:ioLibrary_Driver-master/Ethernet/socket.c ****    	   case Sn_MR_TCP:
 145:ioLibrary_Driver-master/Ethernet/socket.c ****    		  //M20150601 :  For SF_TCP_ALIGN & W5300
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 4


 146:ioLibrary_Driver-master/Ethernet/socket.c ****           #if _WIZCHIP_ == 5300
 147:ioLibrary_Driver-master/Ethernet/socket.c ****    		     if((flag & (SF_TCP_NODELAY|SF_IO_NONBLOCK|SF_TCP_ALIGN))==0) return SOCKERR_SOCKFLAG;
 148:ioLibrary_Driver-master/Ethernet/socket.c ****           #else
 149:ioLibrary_Driver-master/Ethernet/socket.c ****    		     if((flag & (SF_TCP_NODELAY|SF_IO_NONBLOCK))==0) return SOCKERR_SOCKFLAG;
 150:ioLibrary_Driver-master/Ethernet/socket.c ****           #endif
 151:ioLibrary_Driver-master/Ethernet/socket.c **** 
 152:ioLibrary_Driver-master/Ethernet/socket.c ****    	      break;
 153:ioLibrary_Driver-master/Ethernet/socket.c ****    	   case Sn_MR_UDP:
 154:ioLibrary_Driver-master/Ethernet/socket.c ****    	      if(flag & SF_IGMP_VER2)
 155:ioLibrary_Driver-master/Ethernet/socket.c ****    	      {
 156:ioLibrary_Driver-master/Ethernet/socket.c ****    	         if((flag & SF_MULTI_ENABLE)==0) return SOCKERR_SOCKFLAG;
 157:ioLibrary_Driver-master/Ethernet/socket.c ****    	      }
 158:ioLibrary_Driver-master/Ethernet/socket.c ****    	      #if _WIZCHIP_ == 5500
 159:ioLibrary_Driver-master/Ethernet/socket.c ****       	      if(flag & SF_UNI_BLOCK)
 160:ioLibrary_Driver-master/Ethernet/socket.c ****       	      {
 161:ioLibrary_Driver-master/Ethernet/socket.c ****       	         if((flag & SF_MULTI_ENABLE) == 0) return SOCKERR_SOCKFLAG;
 162:ioLibrary_Driver-master/Ethernet/socket.c ****       	      }
 163:ioLibrary_Driver-master/Ethernet/socket.c ****    	      #endif
 164:ioLibrary_Driver-master/Ethernet/socket.c ****    	      break;
 165:ioLibrary_Driver-master/Ethernet/socket.c ****    	   default:
 166:ioLibrary_Driver-master/Ethernet/socket.c ****    	      break;
 167:ioLibrary_Driver-master/Ethernet/socket.c ****    	}
 168:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 169:ioLibrary_Driver-master/Ethernet/socket.c **** 	close(sn);
 170:ioLibrary_Driver-master/Ethernet/socket.c **** 	//M20150601
 171:ioLibrary_Driver-master/Ethernet/socket.c **** 	#if _WIZCHIP_ == 5300
 172:ioLibrary_Driver-master/Ethernet/socket.c **** 	   setSn_MR(sn, ((uint16_t)(protocol | (flag & 0xF0))) | (((uint16_t)(flag & 0x02)) << 7) );
 173:ioLibrary_Driver-master/Ethernet/socket.c ****     #else
 174:ioLibrary_Driver-master/Ethernet/socket.c **** 	   setSn_MR(sn, (protocol | (flag & 0xF0)));
 175:ioLibrary_Driver-master/Ethernet/socket.c ****     #endif
 176:ioLibrary_Driver-master/Ethernet/socket.c **** 	if(!port)
 177:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 178:ioLibrary_Driver-master/Ethernet/socket.c **** 	   port = sock_any_port++;
 179:ioLibrary_Driver-master/Ethernet/socket.c **** 	   if(sock_any_port == 0xFFF0) sock_any_port = SOCK_ANY_PORT_NUM;
 180:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 181:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_PORT(sn,port);	
 182:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_OPEN);
 183:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_CR(sn));
 184:ioLibrary_Driver-master/Ethernet/socket.c ****    //A20150401 : For release the previous sock_io_mode
 185:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_io_mode &= ~(1 <<sn);
 186:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 187:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_io_mode |= ((flag & SF_IO_NONBLOCK) << sn);   
 188:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending &= ~(1<<sn);
 189:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_remained_size[sn] = 0;
 190:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150601 : repalce 0 with PACK_COMPLETED
 191:ioLibrary_Driver-master/Ethernet/socket.c ****    //sock_pack_info[sn] = 0;
 192:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_pack_info[sn] = PACK_COMPLETED;
 193:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 194:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_SR(sn) == SOCK_CLOSED);
 195:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int8_t)sn;
 196:ioLibrary_Driver-master/Ethernet/socket.c **** }	   
 197:ioLibrary_Driver-master/Ethernet/socket.c **** 
 198:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t close(uint8_t sn)
 199:ioLibrary_Driver-master/Ethernet/socket.c **** {
  28              		.loc 1 199 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 5


  31              		@ frame_needed = 0, uses_anonymous_args = 0
 200:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
  32              		.loc 1 200 2 view .LVU1
  33              		.loc 1 200 2 view .LVU2
  34 0000 0828     		cmp	r0, #8
  35 0002 02D9     		bls	.L10
  36 0004 4FF0FF30 		mov	r0, #-1
  37              	.LVL1:
 201:ioLibrary_Driver-master/Ethernet/socket.c **** //A20160426 : Applied the erratum 1 of W5300
 202:ioLibrary_Driver-master/Ethernet/socket.c **** #if   (_WIZCHIP_ == 5300) 
 203:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20160503 : Wrong socket parameter. s -> sn 
 204:ioLibrary_Driver-master/Ethernet/socket.c ****    //if( ((getSn_MR(s)& 0x0F) == Sn_MR_TCP) && (getSn_TX_FSR(s) != getSn_TxMAX(s)) ) 
 205:ioLibrary_Driver-master/Ethernet/socket.c ****    if( ((getSn_MR(sn)& 0x0F) == Sn_MR_TCP) && (getSn_TX_FSR(sn) != getSn_TxMAX(sn)) ) 
 206:ioLibrary_Driver-master/Ethernet/socket.c ****    { 
 207:ioLibrary_Driver-master/Ethernet/socket.c ****       uint8_t destip[4] = {0, 0, 0, 1};
 208:ioLibrary_Driver-master/Ethernet/socket.c ****       // TODO
 209:ioLibrary_Driver-master/Ethernet/socket.c ****       // You can wait for completing to sending data;
 210:ioLibrary_Driver-master/Ethernet/socket.c ****       // wait about 1 second;
 211:ioLibrary_Driver-master/Ethernet/socket.c ****       // if you have completed to send data, skip the code of erratum 1
 212:ioLibrary_Driver-master/Ethernet/socket.c ****       // ex> wait_1s();
 213:ioLibrary_Driver-master/Ethernet/socket.c ****       //     if (getSn_TX_FSR(s) == getSn_TxMAX(s)) continue;
 214:ioLibrary_Driver-master/Ethernet/socket.c ****       // 
 215:ioLibrary_Driver-master/Ethernet/socket.c ****       //M20160503 : The socket() of close() calls close() itself again. It occures a infinite loop 
 216:ioLibrary_Driver-master/Ethernet/socket.c ****       //socket(s,Sn_MR_UDP,0x3000,0);
 217:ioLibrary_Driver-master/Ethernet/socket.c ****       //sendto(s,destip,1,destip,0x3000); // send the dummy data to an unknown destination(0.0.0.1)
 218:ioLibrary_Driver-master/Ethernet/socket.c ****       setSn_MR(sn,Sn_MR_UDP);
 219:ioLibrary_Driver-master/Ethernet/socket.c ****       setSn_PORTR(sn, 0x3000);
 220:ioLibrary_Driver-master/Ethernet/socket.c ****       setSn_CR(sn,Sn_CR_OPEN);
 221:ioLibrary_Driver-master/Ethernet/socket.c ****       while(getSn_CR(sn) != 0);
 222:ioLibrary_Driver-master/Ethernet/socket.c ****       while(getSn_SR(sn) != SOCK_UDP);
 223:ioLibrary_Driver-master/Ethernet/socket.c ****       sendto(sn,destip,1,destip,0x3000); // send the dummy data to an unknown destination(0.0.0.1).
 224:ioLibrary_Driver-master/Ethernet/socket.c ****    };   
 225:ioLibrary_Driver-master/Ethernet/socket.c **** #endif 
 226:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_CLOSE);
 227:ioLibrary_Driver-master/Ethernet/socket.c ****    /* wait to process the command... */
 228:ioLibrary_Driver-master/Ethernet/socket.c **** 	while( getSn_CR(sn) );
 229:ioLibrary_Driver-master/Ethernet/socket.c **** 	/* clear all interrupt of the socket. */
 230:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_IR(sn, 0xFF);
 231:ioLibrary_Driver-master/Ethernet/socket.c **** 	//A20150401 : Release the sock_io_mode of socket n.
 232:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_io_mode &= ~(1<<sn);
 233:ioLibrary_Driver-master/Ethernet/socket.c **** 	//
 234:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_is_sending &= ~(1<<sn);
 235:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_remained_size[sn] = 0;
 236:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_pack_info[sn] = 0;
 237:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_SR(sn) != SOCK_CLOSED);
 238:ioLibrary_Driver-master/Ethernet/socket.c **** 	return SOCK_OK;
 239:ioLibrary_Driver-master/Ethernet/socket.c **** }
  38              		.loc 1 239 1 is_stmt 0 view .LVU3
  39 0008 7047     		bx	lr
  40              	.LVL2:
  41              	.L10:
 199:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
  42              		.loc 1 199 1 discriminator 2 view .LVU4
  43 000a 70B5     		push	{r4, r5, r6, lr}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 16
  46              		.cfi_offset 4, -16
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 6


  47              		.cfi_offset 5, -12
  48              		.cfi_offset 6, -8
  49              		.cfi_offset 14, -4
  50 000c 0546     		mov	r5, r0
 200:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
  51              		.loc 1 200 2 is_stmt 1 discriminator 2 view .LVU5
 200:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
  52              		.loc 1 200 17 discriminator 2 view .LVU6
 226:ioLibrary_Driver-master/Ethernet/socket.c ****    /* wait to process the command... */
  53              		.loc 1 226 2 discriminator 2 view .LVU7
  54 000e 8400     		lsls	r4, r0, #2
  55 0010 0134     		adds	r4, r4, #1
  56 0012 E400     		lsls	r4, r4, #3
  57 0014 04F58076 		add	r6, r4, #256
  58 0018 1021     		movs	r1, #16
  59 001a 3046     		mov	r0, r6
  60              	.LVL3:
 226:ioLibrary_Driver-master/Ethernet/socket.c ****    /* wait to process the command... */
  61              		.loc 1 226 2 is_stmt 0 discriminator 2 view .LVU8
  62 001c FFF7FEFF 		bl	WIZCHIP_WRITE
  63              	.LVL4:
 228:ioLibrary_Driver-master/Ethernet/socket.c **** 	/* clear all interrupt of the socket. */
  64              		.loc 1 228 2 is_stmt 1 discriminator 2 view .LVU9
  65              	.L3:
 228:ioLibrary_Driver-master/Ethernet/socket.c **** 	/* clear all interrupt of the socket. */
  66              		.loc 1 228 9 discriminator 1 view .LVU10
  67 0020 3046     		mov	r0, r6
  68 0022 FFF7FEFF 		bl	WIZCHIP_READ
  69              	.LVL5:
  70 0026 0028     		cmp	r0, #0
  71 0028 FAD1     		bne	.L3
 230:ioLibrary_Driver-master/Ethernet/socket.c **** 	//A20150401 : Release the sock_io_mode of socket n.
  72              		.loc 1 230 2 view .LVU11
  73 002a 1F21     		movs	r1, #31
  74 002c 04F50070 		add	r0, r4, #512
  75 0030 FFF7FEFF 		bl	WIZCHIP_WRITE
  76              	.LVL6:
 232:ioLibrary_Driver-master/Ethernet/socket.c **** 	//
  77              		.loc 1 232 2 view .LVU12
 232:ioLibrary_Driver-master/Ethernet/socket.c **** 	//
  78              		.loc 1 232 21 is_stmt 0 view .LVU13
  79 0034 0123     		movs	r3, #1
  80 0036 AB40     		lsls	r3, r3, r5
 232:ioLibrary_Driver-master/Ethernet/socket.c **** 	//
  81              		.loc 1 232 15 view .LVU14
  82 0038 DB43     		mvns	r3, r3
  83 003a 9BB2     		uxth	r3, r3
  84 003c 0A49     		ldr	r1, .L11
  85 003e 0A88     		ldrh	r2, [r1]
  86 0040 1A40     		ands	r2, r2, r3
  87 0042 0A80     		strh	r2, [r1]	@ movhi
 234:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_remained_size[sn] = 0;
  88              		.loc 1 234 2 is_stmt 1 view .LVU15
 234:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_remained_size[sn] = 0;
  89              		.loc 1 234 18 is_stmt 0 view .LVU16
  90 0044 094A     		ldr	r2, .L11+4
  91 0046 1188     		ldrh	r1, [r2]
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 7


  92 0048 0B40     		ands	r3, r3, r1
  93 004a 1380     		strh	r3, [r2]	@ movhi
 235:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_pack_info[sn] = 0;
  94              		.loc 1 235 2 is_stmt 1 view .LVU17
 235:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_pack_info[sn] = 0;
  95              		.loc 1 235 25 is_stmt 0 view .LVU18
  96 004c 0023     		movs	r3, #0
  97 004e 084A     		ldr	r2, .L11+8
  98 0050 22F81530 		strh	r3, [r2, r5, lsl #1]	@ movhi
 236:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_SR(sn) != SOCK_CLOSED);
  99              		.loc 1 236 2 is_stmt 1 view .LVU19
 236:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_SR(sn) != SOCK_CLOSED);
 100              		.loc 1 236 21 is_stmt 0 view .LVU20
 101 0054 074A     		ldr	r2, .L11+12
 102 0056 5355     		strb	r3, [r2, r5]
 237:ioLibrary_Driver-master/Ethernet/socket.c **** 	return SOCK_OK;
 103              		.loc 1 237 2 is_stmt 1 view .LVU21
 104              	.L4:
 237:ioLibrary_Driver-master/Ethernet/socket.c **** 	return SOCK_OK;
 105              		.loc 1 237 21 discriminator 1 view .LVU22
 237:ioLibrary_Driver-master/Ethernet/socket.c **** 	return SOCK_OK;
 106              		.loc 1 237 8 is_stmt 0 discriminator 1 view .LVU23
 107 0058 04F54070 		add	r0, r4, #768
 108 005c FFF7FEFF 		bl	WIZCHIP_READ
 109              	.LVL7:
 237:ioLibrary_Driver-master/Ethernet/socket.c **** 	return SOCK_OK;
 110              		.loc 1 237 21 discriminator 1 view .LVU24
 111 0060 0028     		cmp	r0, #0
 112 0062 F9D1     		bne	.L4
 238:ioLibrary_Driver-master/Ethernet/socket.c **** }
 113              		.loc 1 238 9 view .LVU25
 114 0064 0120     		movs	r0, #1
 115              		.loc 1 239 1 view .LVU26
 116 0066 70BD     		pop	{r4, r5, r6, pc}
 117              	.L12:
 118              		.align	2
 119              	.L11:
 120 0068 00000000 		.word	sock_io_mode
 121 006c 00000000 		.word	sock_is_sending
 122 0070 00000000 		.word	sock_remained_size
 123 0074 00000000 		.word	sock_pack_info
 124              		.cfi_endproc
 125              	.LFE1:
 127              		.section	.text.socket,"ax",%progbits
 128              		.align	1
 129              		.global	socket
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 134              	socket:
 135              	.LVL8:
 136              	.LFB0:
 106:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
 137              		.loc 1 106 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 8
 140              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 8


 107:ioLibrary_Driver-master/Ethernet/socket.c **** 	switch(protocol)
 141              		.loc 1 107 2 view .LVU28
 107:ioLibrary_Driver-master/Ethernet/socket.c **** 	switch(protocol)
 142              		.loc 1 107 2 view .LVU29
 143 0000 0828     		cmp	r0, #8
 144 0002 00F29480 		bhi	.L25
 106:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
 145              		.loc 1 106 1 is_stmt 0 view .LVU30
 146 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 147              	.LCFI1:
 148              		.cfi_def_cfa_offset 24
 149              		.cfi_offset 4, -24
 150              		.cfi_offset 5, -20
 151              		.cfi_offset 6, -16
 152              		.cfi_offset 7, -12
 153              		.cfi_offset 8, -8
 154              		.cfi_offset 14, -4
 155 000a 82B0     		sub	sp, sp, #8
 156              	.LCFI2:
 157              		.cfi_def_cfa_offset 32
 158 000c 0546     		mov	r5, r0
 159 000e 0F46     		mov	r7, r1
 160 0010 9046     		mov	r8, r2
 161 0012 1E46     		mov	r6, r3
 107:ioLibrary_Driver-master/Ethernet/socket.c **** 	switch(protocol)
 162              		.loc 1 107 2 is_stmt 1 view .LVU31
 107:ioLibrary_Driver-master/Ethernet/socket.c **** 	switch(protocol)
 163              		.loc 1 107 17 view .LVU32
 108:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 164              		.loc 1 108 2 view .LVU33
 165 0014 0129     		cmp	r1, #1
 166 0016 63D0     		beq	.L15
 167 0018 4BB2     		sxtb	r3, r1
 168              	.LVL9:
 108:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 169              		.loc 1 108 2 is_stmt 0 view .LVU34
 170 001a 002B     		cmp	r3, #0
 171 001c 00F08A80 		beq	.L26
 172 0020 8B1E     		subs	r3, r1, #2
 173 0022 DBB2     		uxtb	r3, r3
 174 0024 022B     		cmp	r3, #2
 175 0026 00F28880 		bhi	.L36
 176              	.LVL10:
 177              	.L16:
 135:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5200
 178              		.loc 1 135 2 is_stmt 1 view .LVU35
 135:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5200
 179              		.loc 1 135 4 is_stmt 0 view .LVU36
 180 002a 16F0040F 		tst	r6, #4
 181 002e 40F08780 		bne	.L28
 140:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 182              		.loc 1 140 2 is_stmt 1 view .LVU37
 140:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 183              		.loc 1 140 4 is_stmt 0 view .LVU38
 184 0032 1EB1     		cbz	r6, .L18
 142:ioLibrary_Driver-master/Ethernet/socket.c ****    	{
 185              		.loc 1 142 5 is_stmt 1 view .LVU39
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 9


 186 0034 012F     		cmp	r7, #1
 187 0036 60D0     		beq	.L19
 188 0038 022F     		cmp	r7, #2
 189 003a 64D0     		beq	.L20
 190              	.L18:
 169:ioLibrary_Driver-master/Ethernet/socket.c **** 	//M20150601
 191              		.loc 1 169 2 view .LVU40
 192 003c 2846     		mov	r0, r5
 193 003e FFF7FEFF 		bl	close
 194              	.LVL11:
 174:ioLibrary_Driver-master/Ethernet/socket.c ****     #endif
 195              		.loc 1 174 5 view .LVU41
 196 0042 AC00     		lsls	r4, r5, #2
 197 0044 0134     		adds	r4, r4, #1
 198 0046 E400     		lsls	r4, r4, #3
 199 0048 26F00F01 		bic	r1, r6, #15
 200 004c 3943     		orrs	r1, r1, r7
 201 004e 2046     		mov	r0, r4
 202 0050 FFF7FEFF 		bl	WIZCHIP_WRITE
 203              	.LVL12:
 176:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 204              		.loc 1 176 2 view .LVU42
 176:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 205              		.loc 1 176 4 is_stmt 0 view .LVU43
 206 0054 B8F1000F 		cmp	r8, #0
 207 0058 0AD1     		bne	.L22
 178:ioLibrary_Driver-master/Ethernet/socket.c **** 	   if(sock_any_port == 0xFFF0) sock_any_port = SOCK_ANY_PORT_NUM;
 208              		.loc 1 178 5 is_stmt 1 view .LVU44
 178:ioLibrary_Driver-master/Ethernet/socket.c **** 	   if(sock_any_port == 0xFFF0) sock_any_port = SOCK_ANY_PORT_NUM;
 209              		.loc 1 178 25 is_stmt 0 view .LVU45
 210 005a 3C4A     		ldr	r2, .L38
 211 005c B2F80080 		ldrh	r8, [r2]
 212 0060 08F10103 		add	r3, r8, #1
 213 0064 9BB2     		uxth	r3, r3
 214 0066 1380     		strh	r3, [r2]	@ movhi
 215              	.LVL13:
 179:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 216              		.loc 1 179 5 is_stmt 1 view .LVU46
 179:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 217              		.loc 1 179 7 is_stmt 0 view .LVU47
 218 0068 4FF6F072 		movw	r2, #65520
 219 006c 9342     		cmp	r3, r2
 220 006e 59D0     		beq	.L37
 221              	.LVL14:
 222              	.L22:
 181:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_OPEN);
 223              		.loc 1 181 4 is_stmt 1 view .LVU48
 224 0070 4FEA1821 		lsr	r1, r8, #8
 225 0074 04F58060 		add	r0, r4, #1024
 226 0078 FFF7FEFF 		bl	WIZCHIP_WRITE
 227              	.LVL15:
 181:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_OPEN);
 228              		.loc 1 181 4 view .LVU49
 229 007c 5FFA88F1 		uxtb	r1, r8
 230 0080 04F5A060 		add	r0, r4, #1280
 231 0084 FFF7FEFF 		bl	WIZCHIP_WRITE
 232              	.LVL16:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 10


 181:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_OPEN);
 233              		.loc 1 181 23 view .LVU50
 182:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_CR(sn));
 234              		.loc 1 182 4 view .LVU51
 235 0088 04F58077 		add	r7, r4, #256
 236 008c 0121     		movs	r1, #1
 237 008e 3846     		mov	r0, r7
 238 0090 FFF7FEFF 		bl	WIZCHIP_WRITE
 239              	.LVL17:
 183:ioLibrary_Driver-master/Ethernet/socket.c ****    //A20150401 : For release the previous sock_io_mode
 240              		.loc 1 183 4 view .LVU52
 241              	.L23:
 183:ioLibrary_Driver-master/Ethernet/socket.c ****    //A20150401 : For release the previous sock_io_mode
 242              		.loc 1 183 10 discriminator 1 view .LVU53
 243 0094 3846     		mov	r0, r7
 244 0096 FFF7FEFF 		bl	WIZCHIP_READ
 245              	.LVL18:
 246 009a 0028     		cmp	r0, #0
 247 009c FAD1     		bne	.L23
 185:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 248              		.loc 1 185 4 view .LVU54
 185:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 249              		.loc 1 185 24 is_stmt 0 view .LVU55
 250 009e 0123     		movs	r3, #1
 251 00a0 AB40     		lsls	r3, r3, r5
 185:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 252              		.loc 1 185 17 view .LVU56
 253 00a2 DB43     		mvns	r3, r3
 254 00a4 9BB2     		uxth	r3, r3
 255 00a6 2A49     		ldr	r1, .L38+4
 256 00a8 0A88     		ldrh	r2, [r1]
 257 00aa 1A40     		ands	r2, r2, r3
 258 00ac 0A80     		strh	r2, [r1]	@ movhi
 187:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending &= ~(1<<sn);
 259              		.loc 1 187 2 is_stmt 1 view .LVU57
 187:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending &= ~(1<<sn);
 260              		.loc 1 187 25 is_stmt 0 view .LVU58
 261 00ae 06F00106 		and	r6, r6, #1
 187:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending &= ~(1<<sn);
 262              		.loc 1 187 43 view .LVU59
 263 00b2 AE40     		lsls	r6, r6, r5
 187:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending &= ~(1<<sn);
 264              		.loc 1 187 15 view .LVU60
 265 00b4 3243     		orrs	r2, r2, r6
 266 00b6 0A80     		strh	r2, [r1]	@ movhi
 188:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_remained_size[sn] = 0;
 267              		.loc 1 188 4 is_stmt 1 view .LVU61
 188:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_remained_size[sn] = 0;
 268              		.loc 1 188 20 is_stmt 0 view .LVU62
 269 00b8 264A     		ldr	r2, .L38+8
 270 00ba 1188     		ldrh	r1, [r2]
 271 00bc 0B40     		ands	r3, r3, r1
 272 00be 1380     		strh	r3, [r2]	@ movhi
 189:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150601 : repalce 0 with PACK_COMPLETED
 273              		.loc 1 189 4 is_stmt 1 view .LVU63
 189:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150601 : repalce 0 with PACK_COMPLETED
 274              		.loc 1 189 27 is_stmt 0 view .LVU64
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 11


 275 00c0 0023     		movs	r3, #0
 276 00c2 254A     		ldr	r2, .L38+12
 277 00c4 22F81530 		strh	r3, [r2, r5, lsl #1]	@ movhi
 192:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 278              		.loc 1 192 4 is_stmt 1 view .LVU65
 192:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 279              		.loc 1 192 23 is_stmt 0 view .LVU66
 280 00c8 244A     		ldr	r2, .L38+16
 281 00ca 5355     		strb	r3, [r2, r5]
 194:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int8_t)sn;
 282              		.loc 1 194 4 is_stmt 1 view .LVU67
 283              	.L24:
 194:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int8_t)sn;
 284              		.loc 1 194 23 discriminator 1 view .LVU68
 194:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int8_t)sn;
 285              		.loc 1 194 10 is_stmt 0 discriminator 1 view .LVU69
 286 00cc 04F54070 		add	r0, r4, #768
 287 00d0 FFF7FEFF 		bl	WIZCHIP_READ
 288              	.LVL19:
 194:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int8_t)sn;
 289              		.loc 1 194 23 discriminator 1 view .LVU70
 290 00d4 0028     		cmp	r0, #0
 291 00d6 F9D0     		beq	.L24
 195:ioLibrary_Driver-master/Ethernet/socket.c **** }	   
 292              		.loc 1 195 4 is_stmt 1 view .LVU71
 195:ioLibrary_Driver-master/Ethernet/socket.c **** }	   
 293              		.loc 1 195 11 is_stmt 0 view .LVU72
 294 00d8 68B2     		sxtb	r0, r5
 295              	.LVL20:
 296              	.L14:
 196:ioLibrary_Driver-master/Ethernet/socket.c **** 
 297              		.loc 1 196 1 view .LVU73
 298 00da 02B0     		add	sp, sp, #8
 299              	.LCFI3:
 300              		.cfi_remember_state
 301              		.cfi_def_cfa_offset 24
 302              		@ sp needed
 303 00dc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 304              	.LVL21:
 305              	.L15:
 306              	.LCFI4:
 307              		.cfi_restore_state
 308              	.LBB2:
 117:ioLibrary_Driver-master/Ethernet/socket.c ****             getSIPR((uint8_t*)&taddr);
 309              		.loc 1 117 13 is_stmt 1 view .LVU74
 118:ioLibrary_Driver-master/Ethernet/socket.c ****             if(taddr == 0) return SOCKERR_SOCKINIT;
 310              		.loc 1 118 13 view .LVU75
 311 00e0 0422     		movs	r2, #4
 312              	.LVL22:
 118:ioLibrary_Driver-master/Ethernet/socket.c ****             if(taddr == 0) return SOCKERR_SOCKINIT;
 313              		.loc 1 118 13 is_stmt 0 view .LVU76
 314 00e2 0DEB0201 		add	r1, sp, r2
 315              	.LVL23:
 118:ioLibrary_Driver-master/Ethernet/socket.c ****             if(taddr == 0) return SOCKERR_SOCKINIT;
 316              		.loc 1 118 13 view .LVU77
 317 00e6 4FF47060 		mov	r0, #3840
 318              	.LVL24:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 12


 118:ioLibrary_Driver-master/Ethernet/socket.c ****             if(taddr == 0) return SOCKERR_SOCKINIT;
 319              		.loc 1 118 13 view .LVU78
 320 00ea FFF7FEFF 		bl	WIZCHIP_READ_BUF
 321              	.LVL25:
 119:ioLibrary_Driver-master/Ethernet/socket.c **** 	    break;
 322              		.loc 1 119 13 is_stmt 1 view .LVU79
 119:ioLibrary_Driver-master/Ethernet/socket.c **** 	    break;
 323              		.loc 1 119 22 is_stmt 0 view .LVU80
 324 00ee 019B     		ldr	r3, [sp, #4]
 119:ioLibrary_Driver-master/Ethernet/socket.c **** 	    break;
 325              		.loc 1 119 15 view .LVU81
 326 00f0 002B     		cmp	r3, #0
 327 00f2 9AD1     		bne	.L16
 119:ioLibrary_Driver-master/Ethernet/socket.c **** 	    break;
 328              		.loc 1 119 28 is_stmt 1 discriminator 1 view .LVU82
 119:ioLibrary_Driver-master/Ethernet/socket.c **** 	    break;
 329              		.loc 1 119 35 is_stmt 0 discriminator 1 view .LVU83
 330 00f4 6FF00200 		mvn	r0, #2
 331 00f8 EFE7     		b	.L14
 332              	.L19:
 333              	.LBE2:
 149:ioLibrary_Driver-master/Ethernet/socket.c ****           #endif
 334              		.loc 1 149 11 is_stmt 1 view .LVU84
 149:ioLibrary_Driver-master/Ethernet/socket.c ****           #endif
 335              		.loc 1 149 13 is_stmt 0 view .LVU85
 336 00fa 16F0210F 		tst	r6, #33
 337 00fe 9DD1     		bne	.L18
 149:ioLibrary_Driver-master/Ethernet/socket.c ****           #endif
 338              		.loc 1 149 66 view .LVU86
 339 0100 6FF00500 		mvn	r0, #5
 340 0104 E9E7     		b	.L14
 341              	.L20:
 154:ioLibrary_Driver-master/Ethernet/socket.c ****    	      {
 342              		.loc 1 154 11 is_stmt 1 view .LVU87
 154:ioLibrary_Driver-master/Ethernet/socket.c ****    	      {
 343              		.loc 1 154 13 is_stmt 0 view .LVU88
 344 0106 16F0200F 		tst	r6, #32
 345 010a 02D0     		beq	.L21
 156:ioLibrary_Driver-master/Ethernet/socket.c ****    	      }
 346              		.loc 1 156 14 is_stmt 1 view .LVU89
 156:ioLibrary_Driver-master/Ethernet/socket.c ****    	      }
 347              		.loc 1 156 16 is_stmt 0 view .LVU90
 348 010c 16F0800F 		tst	r6, #128
 349 0110 19D0     		beq	.L30
 350              	.L21:
 159:ioLibrary_Driver-master/Ethernet/socket.c ****       	      {
 351              		.loc 1 159 14 is_stmt 1 view .LVU91
 159:ioLibrary_Driver-master/Ethernet/socket.c ****       	      {
 352              		.loc 1 159 16 is_stmt 0 view .LVU92
 353 0112 16F0100F 		tst	r6, #16
 354 0116 91D0     		beq	.L18
 161:ioLibrary_Driver-master/Ethernet/socket.c ****       	      }
 355              		.loc 1 161 17 is_stmt 1 view .LVU93
 161:ioLibrary_Driver-master/Ethernet/socket.c ****       	      }
 356              		.loc 1 161 19 is_stmt 0 view .LVU94
 357 0118 16F0800F 		tst	r6, #128
 358 011c 8ED1     		bne	.L18
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 13


 161:ioLibrary_Driver-master/Ethernet/socket.c ****       	      }
 359              		.loc 1 161 58 view .LVU95
 360 011e 6FF00500 		mvn	r0, #5
 361 0122 DAE7     		b	.L14
 362              	.LVL26:
 363              	.L37:
 179:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 364              		.loc 1 179 33 is_stmt 1 discriminator 1 view .LVU96
 179:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 365              		.loc 1 179 47 is_stmt 0 discriminator 1 view .LVU97
 366 0124 094B     		ldr	r3, .L38
 367 0126 4FF44042 		mov	r2, #49152
 368 012a 1A80     		strh	r2, [r3]	@ movhi
 369 012c A0E7     		b	.L22
 370              	.LVL27:
 371              	.L25:
 372              	.LCFI5:
 373              		.cfi_def_cfa_offset 0
 374              		.cfi_restore 4
 375              		.cfi_restore 5
 376              		.cfi_restore 6
 377              		.cfi_restore 7
 378              		.cfi_restore 8
 379              		.cfi_restore 14
 107:ioLibrary_Driver-master/Ethernet/socket.c **** 	switch(protocol)
 380              		.loc 1 107 2 view .LVU98
 381 012e 4FF0FF30 		mov	r0, #-1
 382              	.LVL28:
 196:ioLibrary_Driver-master/Ethernet/socket.c **** 
 383              		.loc 1 196 1 view .LVU99
 384 0132 7047     		bx	lr
 385              	.LVL29:
 386              	.L26:
 387              	.LCFI6:
 388              		.cfi_def_cfa_offset 32
 389              		.cfi_offset 4, -24
 390              		.cfi_offset 5, -20
 391              		.cfi_offset 6, -16
 392              		.cfi_offset 7, -12
 393              		.cfi_offset 8, -8
 394              		.cfi_offset 14, -4
 108:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 395              		.loc 1 108 2 view .LVU100
 396 0134 6FF00400 		mvn	r0, #4
 397              	.LVL30:
 108:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 398              		.loc 1 108 2 view .LVU101
 399 0138 CFE7     		b	.L14
 400              	.LVL31:
 401              	.L36:
 108:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 402              		.loc 1 108 2 view .LVU102
 403 013a 6FF00400 		mvn	r0, #4
 404              	.LVL32:
 108:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 405              		.loc 1 108 2 view .LVU103
 406 013e CCE7     		b	.L14
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 14


 407              	.LVL33:
 408              	.L28:
 135:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5200
 409              		.loc 1 135 32 view .LVU104
 410 0140 6FF00500 		mvn	r0, #5
 411 0144 C9E7     		b	.L14
 412              	.L30:
 156:ioLibrary_Driver-master/Ethernet/socket.c ****    	      }
 413              		.loc 1 156 53 view .LVU105
 414 0146 6FF00500 		mvn	r0, #5
 415 014a C6E7     		b	.L14
 416              	.L39:
 417              		.align	2
 418              	.L38:
 419 014c 00000000 		.word	sock_any_port
 420 0150 00000000 		.word	sock_io_mode
 421 0154 00000000 		.word	sock_is_sending
 422 0158 00000000 		.word	sock_remained_size
 423 015c 00000000 		.word	sock_pack_info
 424              		.cfi_endproc
 425              	.LFE0:
 427              		.section	.text.listen,"ax",%progbits
 428              		.align	1
 429              		.global	listen
 430              		.syntax unified
 431              		.thumb
 432              		.thumb_func
 434              	listen:
 435              	.LVL34:
 436              	.LFB2:
 240:ioLibrary_Driver-master/Ethernet/socket.c **** 
 241:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t listen(uint8_t sn)
 242:ioLibrary_Driver-master/Ethernet/socket.c **** {
 437              		.loc 1 242 1 is_stmt 1 view -0
 438              		.cfi_startproc
 439              		@ args = 0, pretend = 0, frame = 0
 440              		@ frame_needed = 0, uses_anonymous_args = 0
 243:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
 441              		.loc 1 243 2 view .LVU107
 442              		.loc 1 243 2 view .LVU108
 443 0000 0828     		cmp	r0, #8
 444 0002 2AD8     		bhi	.L45
 242:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKNUM();
 445              		.loc 1 242 1 is_stmt 0 discriminator 2 view .LVU109
 446 0004 70B5     		push	{r4, r5, r6, lr}
 447              	.LCFI7:
 448              		.cfi_def_cfa_offset 16
 449              		.cfi_offset 4, -16
 450              		.cfi_offset 5, -12
 451              		.cfi_offset 6, -8
 452              		.cfi_offset 14, -4
 453 0006 0546     		mov	r5, r0
 454              		.loc 1 243 2 is_stmt 1 discriminator 2 view .LVU110
 455              		.loc 1 243 17 discriminator 2 view .LVU111
 244:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 456              		.loc 1 244 4 discriminator 2 view .LVU112
 457              		.loc 1 244 4 discriminator 2 view .LVU113
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 15


 458 0008 8400     		lsls	r4, r0, #2
 459 000a 0134     		adds	r4, r4, #1
 460 000c E400     		lsls	r4, r4, #3
 461 000e 2046     		mov	r0, r4
 462              	.LVL35:
 463              		.loc 1 244 4 is_stmt 0 discriminator 2 view .LVU114
 464 0010 FFF7FEFF 		bl	WIZCHIP_READ
 465              	.LVL36:
 466 0014 00F00F00 		and	r0, r0, #15
 467 0018 0128     		cmp	r0, #1
 468 001a 21D1     		bne	.L46
 469              		.loc 1 244 4 is_stmt 1 discriminator 2 view .LVU115
 470              		.loc 1 244 29 discriminator 2 view .LVU116
 245:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKINIT();
 471              		.loc 1 245 2 discriminator 2 view .LVU117
 472              		.loc 1 245 2 discriminator 2 view .LVU118
 473 001c 04F54076 		add	r6, r4, #768
 474 0020 3046     		mov	r0, r6
 475 0022 FFF7FEFF 		bl	WIZCHIP_READ
 476              	.LVL37:
 477 0026 1328     		cmp	r0, #19
 478 0028 1DD1     		bne	.L47
 479              		.loc 1 245 2 discriminator 2 view .LVU119
 480              		.loc 1 245 18 discriminator 2 view .LVU120
 246:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_LISTEN);
 481              		.loc 1 246 2 discriminator 2 view .LVU121
 482 002a 04F58074 		add	r4, r4, #256
 483 002e 0221     		movs	r1, #2
 484 0030 2046     		mov	r0, r4
 485 0032 FFF7FEFF 		bl	WIZCHIP_WRITE
 486              	.LVL38:
 247:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_CR(sn));
 487              		.loc 1 247 2 discriminator 2 view .LVU122
 488              	.L42:
 489              		.loc 1 247 8 discriminator 1 view .LVU123
 490 0036 2046     		mov	r0, r4
 491 0038 FFF7FEFF 		bl	WIZCHIP_READ
 492              	.LVL39:
 493 003c 0028     		cmp	r0, #0
 494 003e FAD1     		bne	.L42
 248:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_SR(sn) != SOCK_LISTEN)
 495              		.loc 1 248 4 view .LVU124
 496              		.loc 1 248 23 view .LVU125
 497              		.loc 1 248 10 is_stmt 0 view .LVU126
 498 0040 3046     		mov	r0, r6
 499 0042 FFF7FEFF 		bl	WIZCHIP_READ
 500              	.LVL40:
 501              		.loc 1 248 23 view .LVU127
 502 0046 1428     		cmp	r0, #20
 503 0048 01D1     		bne	.L44
 249:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 250:ioLibrary_Driver-master/Ethernet/socket.c ****          close(sn);
 251:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKCLOSED;
 252:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 253:ioLibrary_Driver-master/Ethernet/socket.c ****    return SOCK_OK;
 504              		.loc 1 253 11 view .LVU128
 505 004a 0120     		movs	r0, #1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 16


 506              	.L41:
 254:ioLibrary_Driver-master/Ethernet/socket.c **** }
 507              		.loc 1 254 1 view .LVU129
 508 004c 70BD     		pop	{r4, r5, r6, pc}
 509              	.L44:
 250:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKCLOSED;
 510              		.loc 1 250 10 is_stmt 1 view .LVU130
 511 004e 2846     		mov	r0, r5
 512 0050 FFF7FEFF 		bl	close
 513              	.LVL41:
 251:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 514              		.loc 1 251 10 view .LVU131
 251:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 515              		.loc 1 251 17 is_stmt 0 view .LVU132
 516 0054 6FF00300 		mvn	r0, #3
 517 0058 F8E7     		b	.L41
 518              	.LVL42:
 519              	.L45:
 520              	.LCFI8:
 521              		.cfi_def_cfa_offset 0
 522              		.cfi_restore 4
 523              		.cfi_restore 5
 524              		.cfi_restore 6
 525              		.cfi_restore 14
 243:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 526              		.loc 1 243 2 view .LVU133
 527 005a 4FF0FF30 		mov	r0, #-1
 528              	.LVL43:
 529              		.loc 1 254 1 view .LVU134
 530 005e 7047     		bx	lr
 531              	.L46:
 532              	.LCFI9:
 533              		.cfi_def_cfa_offset 16
 534              		.cfi_offset 4, -16
 535              		.cfi_offset 5, -12
 536              		.cfi_offset 6, -8
 537              		.cfi_offset 14, -4
 244:ioLibrary_Driver-master/Ethernet/socket.c **** 	CHECK_SOCKINIT();
 538              		.loc 1 244 4 view .LVU135
 539 0060 6FF00400 		mvn	r0, #4
 540 0064 F2E7     		b	.L41
 541              	.L47:
 245:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_LISTEN);
 542              		.loc 1 245 2 view .LVU136
 543 0066 6FF00200 		mvn	r0, #2
 544 006a EFE7     		b	.L41
 545              		.cfi_endproc
 546              	.LFE2:
 548              		.section	.text.connect,"ax",%progbits
 549              		.align	1
 550              		.global	connect
 551              		.syntax unified
 552              		.thumb
 553              		.thumb_func
 555              	connect:
 556              	.LVL44:
 557              	.LFB3:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 17


 255:ioLibrary_Driver-master/Ethernet/socket.c **** 
 256:ioLibrary_Driver-master/Ethernet/socket.c **** 
 257:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t connect(uint8_t sn, uint8_t * addr, uint16_t port)
 258:ioLibrary_Driver-master/Ethernet/socket.c **** {
 558              		.loc 1 258 1 is_stmt 1 view -0
 559              		.cfi_startproc
 560              		@ args = 0, pretend = 0, frame = 0
 561              		@ frame_needed = 0, uses_anonymous_args = 0
 259:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 562              		.loc 1 259 4 view .LVU138
 563              		.loc 1 259 4 view .LVU139
 564 0000 0828     		cmp	r0, #8
 565 0002 67D8     		bhi	.L59
 258:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 566              		.loc 1 258 1 is_stmt 0 discriminator 2 view .LVU140
 567 0004 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 568              	.LCFI10:
 569              		.cfi_def_cfa_offset 24
 570              		.cfi_offset 4, -24
 571              		.cfi_offset 5, -20
 572              		.cfi_offset 6, -16
 573              		.cfi_offset 7, -12
 574              		.cfi_offset 8, -8
 575              		.cfi_offset 14, -4
 576 0008 0746     		mov	r7, r0
 577 000a 0E46     		mov	r6, r1
 578 000c 9046     		mov	r8, r2
 579              		.loc 1 259 4 is_stmt 1 discriminator 2 view .LVU141
 580              		.loc 1 259 19 discriminator 2 view .LVU142
 260:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 581              		.loc 1 260 4 discriminator 2 view .LVU143
 582              		.loc 1 260 4 discriminator 2 view .LVU144
 583 000e 8400     		lsls	r4, r0, #2
 584 0010 0134     		adds	r4, r4, #1
 585 0012 E400     		lsls	r4, r4, #3
 586 0014 2046     		mov	r0, r4
 587              	.LVL45:
 588              		.loc 1 260 4 is_stmt 0 discriminator 2 view .LVU145
 589 0016 FFF7FEFF 		bl	WIZCHIP_READ
 590              	.LVL46:
 591              		.loc 1 260 4 discriminator 2 view .LVU146
 592 001a 00F00F00 		and	r0, r0, #15
 593 001e 0128     		cmp	r0, #1
 594 0020 5BD1     		bne	.L60
 595              		.loc 1 260 4 is_stmt 1 discriminator 2 view .LVU147
 596              		.loc 1 260 29 discriminator 2 view .LVU148
 261:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKINIT();
 597              		.loc 1 261 4 discriminator 2 view .LVU149
 598              		.loc 1 261 4 discriminator 2 view .LVU150
 599 0022 04F54075 		add	r5, r4, #768
 600 0026 2846     		mov	r0, r5
 601 0028 FFF7FEFF 		bl	WIZCHIP_READ
 602              	.LVL47:
 603 002c 1328     		cmp	r0, #19
 604 002e 57D1     		bne	.L61
 605              		.loc 1 261 4 discriminator 2 view .LVU151
 606              		.loc 1 261 20 discriminator 2 view .LVU152
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 18


 607              	.LBB3:
 262:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20140501 : For avoiding fatal error on memory align mismatched
 263:ioLibrary_Driver-master/Ethernet/socket.c ****    //if( *((uint32_t*)addr) == 0xFFFFFFFF || *((uint32_t*)addr) == 0) return SOCKERR_IPINVALID;
 264:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 265:ioLibrary_Driver-master/Ethernet/socket.c ****       uint32_t taddr;
 608              		.loc 1 265 7 discriminator 2 view .LVU153
 266:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = ((uint32_t)addr[0] & 0x000000FF);
 609              		.loc 1 266 7 discriminator 2 view .LVU154
 610              		.loc 1 266 30 is_stmt 0 discriminator 2 view .LVU155
 611 0030 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 612              	.LVL48:
 267:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = (taddr << 8) + ((uint32_t)addr[1] & 0x000000FF);
 613              		.loc 1 267 7 is_stmt 1 discriminator 2 view .LVU156
 614              		.loc 1 267 45 is_stmt 0 discriminator 2 view .LVU157
 615 0032 7378     		ldrb	r3, [r6, #1]	@ zero_extendqisi2
 616              		.loc 1 267 13 discriminator 2 view .LVU158
 617 0034 03EB0223 		add	r3, r3, r2, lsl #8
 618              	.LVL49:
 268:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = (taddr << 8) + ((uint32_t)addr[2] & 0x000000FF);
 619              		.loc 1 268 7 is_stmt 1 discriminator 2 view .LVU159
 620              		.loc 1 268 45 is_stmt 0 discriminator 2 view .LVU160
 621 0038 B278     		ldrb	r2, [r6, #2]	@ zero_extendqisi2
 622              		.loc 1 268 13 discriminator 2 view .LVU161
 623 003a 02EB0322 		add	r2, r2, r3, lsl #8
 624              	.LVL50:
 269:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = (taddr << 8) + ((uint32_t)addr[3] & 0x000000FF);
 625              		.loc 1 269 7 is_stmt 1 discriminator 2 view .LVU162
 626              		.loc 1 269 45 is_stmt 0 discriminator 2 view .LVU163
 627 003e F378     		ldrb	r3, [r6, #3]	@ zero_extendqisi2
 628              		.loc 1 269 13 discriminator 2 view .LVU164
 629 0040 03EB0223 		add	r3, r3, r2, lsl #8
 630              	.LVL51:
 270:ioLibrary_Driver-master/Ethernet/socket.c ****       if( taddr == 0xFFFFFFFF || taddr == 0) return SOCKERR_IPINVALID;
 631              		.loc 1 270 7 is_stmt 1 discriminator 2 view .LVU165
 632              		.loc 1 270 31 is_stmt 0 discriminator 2 view .LVU166
 633 0044 013B     		subs	r3, r3, #1
 634              	.LVL52:
 635              		.loc 1 270 9 discriminator 2 view .LVU167
 636 0046 13F1030F 		cmn	r3, #3
 637 004a 4CD8     		bhi	.L62
 638              	.LBE3:
 271:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 272:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 273:ioLibrary_Driver-master/Ethernet/socket.c **** 	
 274:ioLibrary_Driver-master/Ethernet/socket.c **** 	if(port == 0) return SOCKERR_PORTZERO;
 639              		.loc 1 274 2 is_stmt 1 view .LVU168
 640              		.loc 1 274 4 is_stmt 0 view .LVU169
 641 004c B8F1000F 		cmp	r8, #0
 642 0050 4CD0     		beq	.L63
 275:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_DIPR(sn,addr);
 643              		.loc 1 275 2 is_stmt 1 view .LVU170
 644 0052 0422     		movs	r2, #4
 645 0054 3146     		mov	r1, r6
 646 0056 04F54060 		add	r0, r4, #3072
 647 005a FFF7FEFF 		bl	WIZCHIP_WRITE_BUF
 648              	.LVL53:
 276:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_DPORT(sn,port);
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 19


 649              		.loc 1 276 2 view .LVU171
 650 005e 4FEA1821 		lsr	r1, r8, #8
 651 0062 04F58050 		add	r0, r4, #4096
 652 0066 FFF7FEFF 		bl	WIZCHIP_WRITE
 653              	.LVL54:
 654              		.loc 1 276 2 view .LVU172
 655 006a 5FFA88F1 		uxtb	r1, r8
 656 006e 04F58850 		add	r0, r4, #4352
 657 0072 FFF7FEFF 		bl	WIZCHIP_WRITE
 658              	.LVL55:
 659              		.loc 1 276 22 view .LVU173
 277:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_CONNECT);
 660              		.loc 1 277 2 view .LVU174
 661 0076 04F58076 		add	r6, r4, #256
 662              	.LVL56:
 663              		.loc 1 277 2 is_stmt 0 view .LVU175
 664 007a 0421     		movs	r1, #4
 665 007c 3046     		mov	r0, r6
 666 007e FFF7FEFF 		bl	WIZCHIP_WRITE
 667              	.LVL57:
 278:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_CR(sn));
 668              		.loc 1 278 4 is_stmt 1 view .LVU176
 669              	.L55:
 670              		.loc 1 278 10 discriminator 1 view .LVU177
 671 0082 3046     		mov	r0, r6
 672 0084 FFF7FEFF 		bl	WIZCHIP_READ
 673              	.LVL58:
 674 0088 0028     		cmp	r0, #0
 675 008a FAD1     		bne	.L55
 279:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_io_mode & (1<<sn)) return SOCK_BUSY;
 676              		.loc 1 279 4 view .LVU178
 677              		.loc 1 279 7 is_stmt 0 view .LVU179
 678 008c 1A4B     		ldr	r3, .L73
 679 008e 1B88     		ldrh	r3, [r3]
 680 0090 3B41     		asrs	r3, r3, r7
 681              		.loc 1 279 6 view .LVU180
 682 0092 13F0010F 		tst	r3, #1
 683 0096 2CD1     		bne	.L70
 684              	.L56:
 280:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_SR(sn) != SOCK_ESTABLISHED)
 685              		.loc 1 280 23 is_stmt 1 view .LVU181
 686              		.loc 1 280 10 is_stmt 0 view .LVU182
 687 0098 2846     		mov	r0, r5
 688 009a FFF7FEFF 		bl	WIZCHIP_READ
 689              	.LVL59:
 690              		.loc 1 280 23 view .LVU183
 691 009e 1728     		cmp	r0, #23
 692 00a0 16D0     		beq	.L71
 281:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 282:ioLibrary_Driver-master/Ethernet/socket.c **** 		if (getSn_IR(sn) & Sn_IR_TIMEOUT)
 693              		.loc 1 282 3 is_stmt 1 view .LVU184
 694              		.loc 1 282 7 is_stmt 0 view .LVU185
 695 00a2 04F50076 		add	r6, r4, #512
 696 00a6 3046     		mov	r0, r6
 697 00a8 FFF7FEFF 		bl	WIZCHIP_READ
 698              	.LVL60:
 699              		.loc 1 282 6 view .LVU186
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 20


 700 00ac 10F0080F 		tst	r0, #8
 701 00b0 07D1     		bne	.L72
 283:ioLibrary_Driver-master/Ethernet/socket.c **** 		{
 284:ioLibrary_Driver-master/Ethernet/socket.c **** 			setSn_IR(sn, Sn_IR_TIMEOUT);
 285:ioLibrary_Driver-master/Ethernet/socket.c ****             return SOCKERR_TIMEOUT;
 286:ioLibrary_Driver-master/Ethernet/socket.c **** 		}
 287:ioLibrary_Driver-master/Ethernet/socket.c **** 
 288:ioLibrary_Driver-master/Ethernet/socket.c **** 		if (getSn_SR(sn) == SOCK_CLOSED)
 702              		.loc 1 288 3 is_stmt 1 view .LVU187
 703              		.loc 1 288 7 is_stmt 0 view .LVU188
 704 00b2 2846     		mov	r0, r5
 705 00b4 FFF7FEFF 		bl	WIZCHIP_READ
 706              	.LVL61:
 707              		.loc 1 288 6 view .LVU189
 708 00b8 0028     		cmp	r0, #0
 709 00ba EDD1     		bne	.L56
 289:ioLibrary_Driver-master/Ethernet/socket.c **** 		{
 290:ioLibrary_Driver-master/Ethernet/socket.c **** 			return SOCKERR_SOCKCLOSED;
 710              		.loc 1 290 11 view .LVU190
 711 00bc 6FF00300 		mvn	r0, #3
 712 00c0 18E0     		b	.L54
 713              	.L72:
 284:ioLibrary_Driver-master/Ethernet/socket.c ****             return SOCKERR_TIMEOUT;
 714              		.loc 1 284 4 is_stmt 1 view .LVU191
 715 00c2 0821     		movs	r1, #8
 716 00c4 3046     		mov	r0, r6
 717 00c6 FFF7FEFF 		bl	WIZCHIP_WRITE
 718              	.LVL62:
 285:ioLibrary_Driver-master/Ethernet/socket.c **** 		}
 719              		.loc 1 285 13 view .LVU192
 285:ioLibrary_Driver-master/Ethernet/socket.c **** 		}
 720              		.loc 1 285 20 is_stmt 0 view .LVU193
 721 00ca 6FF00C00 		mvn	r0, #12
 722 00ce 11E0     		b	.L54
 723              	.L71:
 291:ioLibrary_Driver-master/Ethernet/socket.c **** 		}
 292:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 293:ioLibrary_Driver-master/Ethernet/socket.c ****    
 294:ioLibrary_Driver-master/Ethernet/socket.c ****    return SOCK_OK;
 724              		.loc 1 294 11 view .LVU194
 725 00d0 0120     		movs	r0, #1
 726 00d2 0FE0     		b	.L54
 727              	.LVL63:
 728              	.L59:
 729              	.LCFI11:
 730              		.cfi_def_cfa_offset 0
 731              		.cfi_restore 4
 732              		.cfi_restore 5
 733              		.cfi_restore 6
 734              		.cfi_restore 7
 735              		.cfi_restore 8
 736              		.cfi_restore 14
 259:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 737              		.loc 1 259 4 view .LVU195
 738 00d4 4FF0FF30 		mov	r0, #-1
 739              	.LVL64:
 295:ioLibrary_Driver-master/Ethernet/socket.c **** }
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 21


 740              		.loc 1 295 1 view .LVU196
 741 00d8 7047     		bx	lr
 742              	.LVL65:
 743              	.L60:
 744              	.LCFI12:
 745              		.cfi_def_cfa_offset 24
 746              		.cfi_offset 4, -24
 747              		.cfi_offset 5, -20
 748              		.cfi_offset 6, -16
 749              		.cfi_offset 7, -12
 750              		.cfi_offset 8, -8
 751              		.cfi_offset 14, -4
 260:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKINIT();
 752              		.loc 1 260 4 view .LVU197
 753 00da 6FF00400 		mvn	r0, #4
 754 00de 09E0     		b	.L54
 755              	.L61:
 261:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20140501 : For avoiding fatal error on memory align mismatched
 756              		.loc 1 261 4 view .LVU198
 757 00e0 6FF00200 		mvn	r0, #2
 758 00e4 06E0     		b	.L54
 759              	.LVL66:
 760              	.L62:
 761              	.LBB4:
 270:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 762              		.loc 1 270 53 view .LVU199
 763 00e6 6FF00B00 		mvn	r0, #11
 764 00ea 03E0     		b	.L54
 765              	.L63:
 766              	.LBE4:
 274:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_DIPR(sn,addr);
 767              		.loc 1 274 23 view .LVU200
 768 00ec 6FF00A00 		mvn	r0, #10
 769 00f0 00E0     		b	.L54
 770              	.LVL67:
 771              	.L70:
 279:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_SR(sn) != SOCK_ESTABLISHED)
 772              		.loc 1 279 38 view .LVU201
 773 00f2 0020     		movs	r0, #0
 774              	.LVL68:
 775              	.L54:
 776              		.loc 1 295 1 view .LVU202
 777 00f4 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 778              	.L74:
 779              		.align	2
 780              	.L73:
 781 00f8 00000000 		.word	sock_io_mode
 782              		.cfi_endproc
 783              	.LFE3:
 785              		.section	.text.disconnect,"ax",%progbits
 786              		.align	1
 787              		.global	disconnect
 788              		.syntax unified
 789              		.thumb
 790              		.thumb_func
 792              	disconnect:
 793              	.LVL69:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 22


 794              	.LFB4:
 296:ioLibrary_Driver-master/Ethernet/socket.c **** 
 297:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t disconnect(uint8_t sn)
 298:ioLibrary_Driver-master/Ethernet/socket.c **** {
 795              		.loc 1 298 1 is_stmt 1 view -0
 796              		.cfi_startproc
 797              		@ args = 0, pretend = 0, frame = 0
 798              		@ frame_needed = 0, uses_anonymous_args = 0
 299:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 799              		.loc 1 299 4 view .LVU204
 800              		.loc 1 299 4 view .LVU205
 801 0000 0828     		cmp	r0, #8
 802 0002 38D8     		bhi	.L80
 298:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 803              		.loc 1 298 1 is_stmt 0 discriminator 2 view .LVU206
 804 0004 70B5     		push	{r4, r5, r6, lr}
 805              	.LCFI13:
 806              		.cfi_def_cfa_offset 16
 807              		.cfi_offset 4, -16
 808              		.cfi_offset 5, -12
 809              		.cfi_offset 6, -8
 810              		.cfi_offset 14, -4
 811 0006 0646     		mov	r6, r0
 812              		.loc 1 299 4 is_stmt 1 discriminator 2 view .LVU207
 813              		.loc 1 299 19 discriminator 2 view .LVU208
 300:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 814              		.loc 1 300 4 discriminator 2 view .LVU209
 815              		.loc 1 300 4 discriminator 2 view .LVU210
 816 0008 8400     		lsls	r4, r0, #2
 817 000a 0134     		adds	r4, r4, #1
 818 000c E400     		lsls	r4, r4, #3
 819 000e 2046     		mov	r0, r4
 820              	.LVL70:
 821              		.loc 1 300 4 is_stmt 0 discriminator 2 view .LVU211
 822 0010 FFF7FEFF 		bl	WIZCHIP_READ
 823              	.LVL71:
 824 0014 00F00F00 		and	r0, r0, #15
 825 0018 0128     		cmp	r0, #1
 826 001a 2FD1     		bne	.L81
 827              		.loc 1 300 4 is_stmt 1 discriminator 2 view .LVU212
 828              		.loc 1 300 29 discriminator 2 view .LVU213
 301:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_DISCON);
 829              		.loc 1 301 2 discriminator 2 view .LVU214
 830 001c 04F58075 		add	r5, r4, #256
 831 0020 0821     		movs	r1, #8
 832 0022 2846     		mov	r0, r5
 833 0024 FFF7FEFF 		bl	WIZCHIP_WRITE
 834              	.LVL72:
 302:ioLibrary_Driver-master/Ethernet/socket.c **** 	/* wait to process the command... */
 303:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_CR(sn));
 835              		.loc 1 303 2 discriminator 2 view .LVU215
 836              	.L77:
 837              		.loc 1 303 8 discriminator 1 view .LVU216
 838 0028 2846     		mov	r0, r5
 839 002a FFF7FEFF 		bl	WIZCHIP_READ
 840              	.LVL73:
 841 002e 0028     		cmp	r0, #0
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 23


 842 0030 FAD1     		bne	.L77
 304:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_is_sending &= ~(1<<sn);
 843              		.loc 1 304 2 view .LVU217
 844              		.loc 1 304 24 is_stmt 0 view .LVU218
 845 0032 0123     		movs	r3, #1
 846 0034 B340     		lsls	r3, r3, r6
 847              		.loc 1 304 18 view .LVU219
 848 0036 DB43     		mvns	r3, r3
 849 0038 1BB2     		sxth	r3, r3
 850 003a 134A     		ldr	r2, .L89
 851 003c 1188     		ldrh	r1, [r2]
 852 003e 0B40     		ands	r3, r3, r1
 853 0040 1380     		strh	r3, [r2]	@ movhi
 305:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_io_mode & (1<<sn)) return SOCK_BUSY;
 854              		.loc 1 305 4 is_stmt 1 view .LVU220
 855              		.loc 1 305 7 is_stmt 0 view .LVU221
 856 0042 124B     		ldr	r3, .L89+4
 857 0044 1B88     		ldrh	r3, [r3]
 858 0046 3341     		asrs	r3, r3, r6
 859              		.loc 1 305 6 view .LVU222
 860 0048 13F0010F 		tst	r3, #1
 861 004c 19D1     		bne	.L87
 862              	.L78:
 306:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_SR(sn) != SOCK_CLOSED)
 863              		.loc 1 306 21 is_stmt 1 view .LVU223
 864              		.loc 1 306 8 is_stmt 0 view .LVU224
 865 004e 04F54070 		add	r0, r4, #768
 866 0052 FFF7FEFF 		bl	WIZCHIP_READ
 867              	.LVL74:
 868              		.loc 1 306 21 view .LVU225
 869 0056 60B1     		cbz	r0, .L88
 307:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 308:ioLibrary_Driver-master/Ethernet/socket.c **** 	   if(getSn_IR(sn) & Sn_IR_TIMEOUT)
 870              		.loc 1 308 5 is_stmt 1 view .LVU226
 871              		.loc 1 308 8 is_stmt 0 view .LVU227
 872 0058 04F50070 		add	r0, r4, #512
 873 005c FFF7FEFF 		bl	WIZCHIP_READ
 874              	.LVL75:
 875              		.loc 1 308 7 view .LVU228
 876 0060 10F0080F 		tst	r0, #8
 877 0064 F3D0     		beq	.L78
 309:ioLibrary_Driver-master/Ethernet/socket.c **** 	   {
 310:ioLibrary_Driver-master/Ethernet/socket.c **** 	      close(sn);
 878              		.loc 1 310 8 is_stmt 1 view .LVU229
 879 0066 3046     		mov	r0, r6
 880 0068 FFF7FEFF 		bl	close
 881              	.LVL76:
 311:ioLibrary_Driver-master/Ethernet/socket.c **** 	      return SOCKERR_TIMEOUT;
 882              		.loc 1 311 8 view .LVU230
 883              		.loc 1 311 15 is_stmt 0 view .LVU231
 884 006c 6FF00C00 		mvn	r0, #12
 885 0070 08E0     		b	.L76
 886              	.L88:
 312:ioLibrary_Driver-master/Ethernet/socket.c **** 	   }
 313:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 314:ioLibrary_Driver-master/Ethernet/socket.c **** 	return SOCK_OK;
 887              		.loc 1 314 9 view .LVU232
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 24


 888 0072 0120     		movs	r0, #1
 889 0074 06E0     		b	.L76
 890              	.LVL77:
 891              	.L80:
 892              	.LCFI14:
 893              		.cfi_def_cfa_offset 0
 894              		.cfi_restore 4
 895              		.cfi_restore 5
 896              		.cfi_restore 6
 897              		.cfi_restore 14
 299:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 898              		.loc 1 299 4 view .LVU233
 899 0076 4FF0FF30 		mov	r0, #-1
 900              	.LVL78:
 315:ioLibrary_Driver-master/Ethernet/socket.c **** }
 901              		.loc 1 315 1 view .LVU234
 902 007a 7047     		bx	lr
 903              	.L81:
 904              	.LCFI15:
 905              		.cfi_def_cfa_offset 16
 906              		.cfi_offset 4, -16
 907              		.cfi_offset 5, -12
 908              		.cfi_offset 6, -8
 909              		.cfi_offset 14, -4
 300:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_DISCON);
 910              		.loc 1 300 4 view .LVU235
 911 007c 6FF00400 		mvn	r0, #4
 912 0080 00E0     		b	.L76
 913              	.L87:
 305:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_SR(sn) != SOCK_CLOSED)
 914              		.loc 1 305 38 view .LVU236
 915 0082 0020     		movs	r0, #0
 916              	.L76:
 917              		.loc 1 315 1 view .LVU237
 918 0084 70BD     		pop	{r4, r5, r6, pc}
 919              	.L90:
 920 0086 00BF     		.align	2
 921              	.L89:
 922 0088 00000000 		.word	sock_is_sending
 923 008c 00000000 		.word	sock_io_mode
 924              		.cfi_endproc
 925              	.LFE4:
 927              		.section	.text.send,"ax",%progbits
 928              		.align	1
 929              		.global	send
 930              		.syntax unified
 931              		.thumb
 932              		.thumb_func
 934              	send:
 935              	.LVL79:
 936              	.LFB5:
 316:ioLibrary_Driver-master/Ethernet/socket.c **** 
 317:ioLibrary_Driver-master/Ethernet/socket.c **** int32_t send(uint8_t sn, uint8_t * buf, uint16_t len)
 318:ioLibrary_Driver-master/Ethernet/socket.c **** {
 937              		.loc 1 318 1 is_stmt 1 view -0
 938              		.cfi_startproc
 939              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 25


 940              		@ frame_needed = 0, uses_anonymous_args = 0
 319:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t tmp=0;
 941              		.loc 1 319 4 view .LVU239
 320:ioLibrary_Driver-master/Ethernet/socket.c ****    uint16_t freesize=0;
 942              		.loc 1 320 4 view .LVU240
 321:ioLibrary_Driver-master/Ethernet/socket.c ****    
 322:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 943              		.loc 1 322 4 view .LVU241
 944              		.loc 1 322 4 view .LVU242
 945 0000 0828     		cmp	r0, #8
 946 0002 7ED8     		bhi	.L101
 318:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t tmp=0;
 947              		.loc 1 318 1 is_stmt 0 discriminator 2 view .LVU243
 948 0004 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 949              	.LCFI16:
 950              		.cfi_def_cfa_offset 32
 951              		.cfi_offset 3, -32
 952              		.cfi_offset 4, -28
 953              		.cfi_offset 5, -24
 954              		.cfi_offset 6, -20
 955              		.cfi_offset 7, -16
 956              		.cfi_offset 8, -12
 957              		.cfi_offset 9, -8
 958              		.cfi_offset 14, -4
 959 0008 0546     		mov	r5, r0
 960 000a 8946     		mov	r9, r1
 961 000c 1446     		mov	r4, r2
 962              		.loc 1 322 4 is_stmt 1 discriminator 2 view .LVU244
 963              		.loc 1 322 19 discriminator 2 view .LVU245
 323:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 964              		.loc 1 323 4 discriminator 2 view .LVU246
 965              		.loc 1 323 4 discriminator 2 view .LVU247
 966 000e 8700     		lsls	r7, r0, #2
 967 0010 0137     		adds	r7, r7, #1
 968 0012 FF00     		lsls	r7, r7, #3
 969 0014 3846     		mov	r0, r7
 970              	.LVL80:
 971              		.loc 1 323 4 is_stmt 0 discriminator 2 view .LVU248
 972 0016 FFF7FEFF 		bl	WIZCHIP_READ
 973              	.LVL81:
 974              		.loc 1 323 4 discriminator 2 view .LVU249
 975 001a 00F00F00 		and	r0, r0, #15
 976 001e 0128     		cmp	r0, #1
 977 0020 72D1     		bne	.L102
 978              		.loc 1 323 4 is_stmt 1 discriminator 2 view .LVU250
 979              		.loc 1 323 29 discriminator 2 view .LVU251
 324:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKDATA();
 980              		.loc 1 324 4 discriminator 2 view .LVU252
 981              		.loc 1 324 4 discriminator 2 view .LVU253
 982 0022 002C     		cmp	r4, #0
 983 0024 73D0     		beq	.L103
 984              		.loc 1 324 4 discriminator 2 view .LVU254
 985              		.loc 1 324 20 discriminator 2 view .LVU255
 325:ioLibrary_Driver-master/Ethernet/socket.c ****    tmp = getSn_SR(sn);
 986              		.loc 1 325 4 discriminator 2 view .LVU256
 987              		.loc 1 325 10 is_stmt 0 discriminator 2 view .LVU257
 988 0026 07F54078 		add	r8, r7, #768
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 26


 989 002a 4046     		mov	r0, r8
 990 002c FFF7FEFF 		bl	WIZCHIP_READ
 991              	.LVL82:
 326:ioLibrary_Driver-master/Ethernet/socket.c ****    if(tmp != SOCK_ESTABLISHED && tmp != SOCK_CLOSE_WAIT) return SOCKERR_SOCKSTATUS;
 992              		.loc 1 326 4 is_stmt 1 discriminator 2 view .LVU258
 993              		.loc 1 326 6 is_stmt 0 discriminator 2 view .LVU259
 994 0030 1728     		cmp	r0, #23
 995 0032 01D0     		beq	.L93
 996              		.loc 1 326 31 discriminator 1 view .LVU260
 997 0034 1C28     		cmp	r0, #28
 998 0036 6DD1     		bne	.L104
 999              	.L93:
 327:ioLibrary_Driver-master/Ethernet/socket.c ****    if( sock_is_sending & (1<<sn) )
 1000              		.loc 1 327 4 is_stmt 1 view .LVU261
 1001              		.loc 1 327 8 is_stmt 0 view .LVU262
 1002 0038 384B     		ldr	r3, .L115
 1003 003a 1B88     		ldrh	r3, [r3]
 1004 003c 2B41     		asrs	r3, r3, r5
 1005              		.loc 1 327 6 view .LVU263
 1006 003e 13F0010F 		tst	r3, #1
 1007 0042 19D0     		beq	.L94
 328:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 329:ioLibrary_Driver-master/Ethernet/socket.c ****       tmp = getSn_IR(sn);
 1008              		.loc 1 329 7 is_stmt 1 view .LVU264
 1009              		.loc 1 329 13 is_stmt 0 view .LVU265
 1010 0044 07F50076 		add	r6, r7, #512
 1011 0048 3046     		mov	r0, r6
 1012              	.LVL83:
 1013              		.loc 1 329 13 view .LVU266
 1014 004a FFF7FEFF 		bl	WIZCHIP_READ
 1015              	.LVL84:
 330:ioLibrary_Driver-master/Ethernet/socket.c ****       if(tmp & Sn_IR_SENDOK)
 1016              		.loc 1 330 7 is_stmt 1 view .LVU267
 1017              		.loc 1 330 9 is_stmt 0 view .LVU268
 1018 004e 10F0100F 		tst	r0, #16
 1019 0052 05D1     		bne	.L111
 331:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 332:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn, Sn_IR_SENDOK);
 333:ioLibrary_Driver-master/Ethernet/socket.c ****          //M20150401 : Typing Error
 334:ioLibrary_Driver-master/Ethernet/socket.c ****          //#if _WZICHIP_ == 5200
 335:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ == 5200
 336:ioLibrary_Driver-master/Ethernet/socket.c ****             if(getSn_TX_RD(sn) != sock_next_rd[sn])
 337:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 338:ioLibrary_Driver-master/Ethernet/socket.c ****                setSn_CR(sn,Sn_CR_SEND);
 339:ioLibrary_Driver-master/Ethernet/socket.c ****                while(getSn_CR(sn));
 340:ioLibrary_Driver-master/Ethernet/socket.c ****                return SOCK_BUSY;
 341:ioLibrary_Driver-master/Ethernet/socket.c ****             }
 342:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 343:ioLibrary_Driver-master/Ethernet/socket.c ****          sock_is_sending &= ~(1<<sn);         
 344:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 345:ioLibrary_Driver-master/Ethernet/socket.c ****       else if(tmp & Sn_IR_TIMEOUT)
 1020              		.loc 1 345 12 is_stmt 1 view .LVU269
 1021              		.loc 1 345 14 is_stmt 0 view .LVU270
 1022 0054 10F0080F 		tst	r0, #8
 1023 0058 18D1     		bne	.L112
 346:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 347:ioLibrary_Driver-master/Ethernet/socket.c ****          close(sn);
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 27


 348:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 349:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 350:ioLibrary_Driver-master/Ethernet/socket.c ****       else return SOCK_BUSY;
 1024              		.loc 1 350 19 view .LVU271
 1025 005a 0020     		movs	r0, #0
 1026              	.LVL85:
 1027              	.L91:
 351:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 352:ioLibrary_Driver-master/Ethernet/socket.c ****    freesize = getSn_TxMAX(sn);
 353:ioLibrary_Driver-master/Ethernet/socket.c ****    if (len > freesize) len = freesize; // check size not to exceed MAX size.
 354:ioLibrary_Driver-master/Ethernet/socket.c ****    while(1)
 355:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 356:ioLibrary_Driver-master/Ethernet/socket.c ****       freesize = getSn_TX_FSR(sn);
 357:ioLibrary_Driver-master/Ethernet/socket.c ****       tmp = getSn_SR(sn);
 358:ioLibrary_Driver-master/Ethernet/socket.c ****       if ((tmp != SOCK_ESTABLISHED) && (tmp != SOCK_CLOSE_WAIT))
 359:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 360:ioLibrary_Driver-master/Ethernet/socket.c ****          close(sn);
 361:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKSTATUS;
 362:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 363:ioLibrary_Driver-master/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 364:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 365:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 366:ioLibrary_Driver-master/Ethernet/socket.c ****    wiz_send_data(sn, buf, len);
 367:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200
 368:ioLibrary_Driver-master/Ethernet/socket.c ****       sock_next_rd[sn] = getSn_TX_RD(sn) + len;
 369:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 370:ioLibrary_Driver-master/Ethernet/socket.c **** 
 371:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ == 5300
 372:ioLibrary_Driver-master/Ethernet/socket.c ****       setSn_TX_WRSR(sn,len);
 373:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 374:ioLibrary_Driver-master/Ethernet/socket.c ****    
 375:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_SEND);
 376:ioLibrary_Driver-master/Ethernet/socket.c ****    /* wait to process the command... */
 377:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_CR(sn));
 378:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending |= (1 << sn);
 379:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150409 : Explicit Type Casting
 380:ioLibrary_Driver-master/Ethernet/socket.c ****    //return len;
 381:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int32_t)len;
 382:ioLibrary_Driver-master/Ethernet/socket.c **** }
 1028              		.loc 1 382 1 view .LVU272
 1029 005c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1030              	.LVL86:
 1031              	.L111:
 332:ioLibrary_Driver-master/Ethernet/socket.c ****          //M20150401 : Typing Error
 1032              		.loc 1 332 10 is_stmt 1 view .LVU273
 1033 0060 1021     		movs	r1, #16
 1034 0062 3046     		mov	r0, r6
 1035              	.LVL87:
 332:ioLibrary_Driver-master/Ethernet/socket.c ****          //M20150401 : Typing Error
 1036              		.loc 1 332 10 is_stmt 0 view .LVU274
 1037 0064 FFF7FEFF 		bl	WIZCHIP_WRITE
 1038              	.LVL88:
 343:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 1039              		.loc 1 343 10 is_stmt 1 view .LVU275
 343:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 1040              		.loc 1 343 32 is_stmt 0 view .LVU276
 1041 0068 0123     		movs	r3, #1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 28


 1042 006a AB40     		lsls	r3, r3, r5
 343:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 1043              		.loc 1 343 26 view .LVU277
 1044 006c DB43     		mvns	r3, r3
 1045 006e 1BB2     		sxth	r3, r3
 1046 0070 2A4A     		ldr	r2, .L115
 1047 0072 1188     		ldrh	r1, [r2]
 1048 0074 0B40     		ands	r3, r3, r1
 1049 0076 1380     		strh	r3, [r2]	@ movhi
 1050              	.LVL89:
 1051              	.L94:
 352:ioLibrary_Driver-master/Ethernet/socket.c ****    if (len > freesize) len = freesize; // check size not to exceed MAX size.
 1052              		.loc 1 352 4 is_stmt 1 view .LVU278
 352:ioLibrary_Driver-master/Ethernet/socket.c ****    if (len > freesize) len = freesize; // check size not to exceed MAX size.
 1053              		.loc 1 352 15 is_stmt 0 view .LVU279
 1054 0078 07F5F850 		add	r0, r7, #7936
 1055 007c FFF7FEFF 		bl	WIZCHIP_READ
 1056              	.LVL90:
 352:ioLibrary_Driver-master/Ethernet/socket.c ****    if (len > freesize) len = freesize; // check size not to exceed MAX size.
 1057              		.loc 1 352 13 view .LVU280
 1058 0080 8602     		lsls	r6, r0, #10
 1059 0082 B6B2     		uxth	r6, r6
 1060              	.LVL91:
 353:ioLibrary_Driver-master/Ethernet/socket.c ****    while(1)
 1061              		.loc 1 353 4 is_stmt 1 view .LVU281
 353:ioLibrary_Driver-master/Ethernet/socket.c ****    while(1)
 1062              		.loc 1 353 7 is_stmt 0 view .LVU282
 1063 0084 B442     		cmp	r4, r6
 1064 0086 0FD8     		bhi	.L99
 1065 0088 2646     		mov	r6, r4
 1066              	.LVL92:
 353:ioLibrary_Driver-master/Ethernet/socket.c ****    while(1)
 1067              		.loc 1 353 7 view .LVU283
 1068 008a 0DE0     		b	.L99
 1069              	.LVL93:
 1070              	.L112:
 347:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 1071              		.loc 1 347 10 is_stmt 1 view .LVU284
 1072 008c 2846     		mov	r0, r5
 1073              	.LVL94:
 347:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 1074              		.loc 1 347 10 is_stmt 0 view .LVU285
 1075 008e FFF7FEFF 		bl	close
 1076              	.LVL95:
 348:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 1077              		.loc 1 348 10 is_stmt 1 view .LVU286
 348:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 1078              		.loc 1 348 17 is_stmt 0 view .LVU287
 1079 0092 6FF00C00 		mvn	r0, #12
 1080 0096 E1E7     		b	.L91
 1081              	.LVL96:
 1082              	.L114:
 360:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKSTATUS;
 1083              		.loc 1 360 10 is_stmt 1 view .LVU288
 1084 0098 2846     		mov	r0, r5
 1085              	.LVL97:
 360:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKSTATUS;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 29


 1086              		.loc 1 360 10 is_stmt 0 view .LVU289
 1087 009a FFF7FEFF 		bl	close
 1088              	.LVL98:
 361:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 1089              		.loc 1 361 10 is_stmt 1 view .LVU290
 361:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 1090              		.loc 1 361 17 is_stmt 0 view .LVU291
 1091 009e 6FF00600 		mvn	r0, #6
 1092 00a2 DBE7     		b	.L91
 1093              	.LVL99:
 1094              	.L98:
 364:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 1095              		.loc 1 364 7 is_stmt 1 view .LVU292
 364:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 1096              		.loc 1 364 9 is_stmt 0 view .LVU293
 1097 00a4 B442     		cmp	r4, r6
 1098 00a6 14D2     		bcs	.L113
 1099              	.LVL100:
 1100              	.L99:
 354:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 1101              		.loc 1 354 4 is_stmt 1 view .LVU294
 356:ioLibrary_Driver-master/Ethernet/socket.c ****       tmp = getSn_SR(sn);
 1102              		.loc 1 356 7 view .LVU295
 356:ioLibrary_Driver-master/Ethernet/socket.c ****       tmp = getSn_SR(sn);
 1103              		.loc 1 356 18 is_stmt 0 view .LVU296
 1104 00a8 2846     		mov	r0, r5
 1105 00aa FFF7FEFF 		bl	getSn_TX_FSR
 1106              	.LVL101:
 1107 00ae 0446     		mov	r4, r0
 1108              	.LVL102:
 357:ioLibrary_Driver-master/Ethernet/socket.c ****       if ((tmp != SOCK_ESTABLISHED) && (tmp != SOCK_CLOSE_WAIT))
 1109              		.loc 1 357 7 is_stmt 1 view .LVU297
 357:ioLibrary_Driver-master/Ethernet/socket.c ****       if ((tmp != SOCK_ESTABLISHED) && (tmp != SOCK_CLOSE_WAIT))
 1110              		.loc 1 357 13 is_stmt 0 view .LVU298
 1111 00b0 4046     		mov	r0, r8
 1112 00b2 FFF7FEFF 		bl	WIZCHIP_READ
 1113              	.LVL103:
 358:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 1114              		.loc 1 358 7 is_stmt 1 view .LVU299
 358:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 1115              		.loc 1 358 10 is_stmt 0 view .LVU300
 1116 00b6 1728     		cmp	r0, #23
 1117 00b8 01D0     		beq	.L97
 358:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 1118              		.loc 1 358 37 discriminator 1 view .LVU301
 1119 00ba 1C28     		cmp	r0, #28
 1120 00bc ECD1     		bne	.L114
 1121              	.L97:
 363:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1122              		.loc 1 363 7 is_stmt 1 view .LVU302
 363:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1123              		.loc 1 363 11 is_stmt 0 view .LVU303
 1124 00be 184B     		ldr	r3, .L115+4
 1125 00c0 1B88     		ldrh	r3, [r3]
 1126 00c2 2B41     		asrs	r3, r3, r5
 363:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1127              		.loc 1 363 9 view .LVU304
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 30


 1128 00c4 13F0010F 		tst	r3, #1
 1129 00c8 ECD0     		beq	.L98
 363:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1130              		.loc 1 363 36 discriminator 1 view .LVU305
 1131 00ca B442     		cmp	r4, r6
 1132 00cc EAD2     		bcs	.L98
 363:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1133              		.loc 1 363 65 view .LVU306
 1134 00ce 0020     		movs	r0, #0
 1135              	.LVL104:
 363:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1136              		.loc 1 363 65 view .LVU307
 1137 00d0 C4E7     		b	.L91
 1138              	.LVL105:
 1139              	.L113:
 366:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200
 1140              		.loc 1 366 4 is_stmt 1 view .LVU308
 1141 00d2 3246     		mov	r2, r6
 1142 00d4 4946     		mov	r1, r9
 1143 00d6 2846     		mov	r0, r5
 1144              	.LVL106:
 366:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200
 1145              		.loc 1 366 4 is_stmt 0 view .LVU309
 1146 00d8 FFF7FEFF 		bl	wiz_send_data
 1147              	.LVL107:
 375:ioLibrary_Driver-master/Ethernet/socket.c ****    /* wait to process the command... */
 1148              		.loc 1 375 4 is_stmt 1 view .LVU310
 1149 00dc 07F58077 		add	r7, r7, #256
 1150 00e0 2021     		movs	r1, #32
 1151 00e2 3846     		mov	r0, r7
 1152 00e4 FFF7FEFF 		bl	WIZCHIP_WRITE
 1153              	.LVL108:
 377:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending |= (1 << sn);
 1154              		.loc 1 377 4 view .LVU311
 1155              	.L100:
 377:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_is_sending |= (1 << sn);
 1156              		.loc 1 377 10 discriminator 1 view .LVU312
 1157 00e8 3846     		mov	r0, r7
 1158 00ea FFF7FEFF 		bl	WIZCHIP_READ
 1159              	.LVL109:
 1160 00ee 0028     		cmp	r0, #0
 1161 00f0 FAD1     		bne	.L100
 378:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150409 : Explicit Type Casting
 1162              		.loc 1 378 4 view .LVU313
 378:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150409 : Explicit Type Casting
 1163              		.loc 1 378 26 is_stmt 0 view .LVU314
 1164 00f2 0123     		movs	r3, #1
 1165 00f4 AB40     		lsls	r3, r3, r5
 378:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150409 : Explicit Type Casting
 1166              		.loc 1 378 20 view .LVU315
 1167 00f6 094A     		ldr	r2, .L115
 1168 00f8 1188     		ldrh	r1, [r2]
 1169 00fa 0B43     		orrs	r3, r3, r1
 1170 00fc 1380     		strh	r3, [r2]	@ movhi
 381:ioLibrary_Driver-master/Ethernet/socket.c **** }
 1171              		.loc 1 381 4 is_stmt 1 view .LVU316
 381:ioLibrary_Driver-master/Ethernet/socket.c **** }
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 31


 1172              		.loc 1 381 11 is_stmt 0 view .LVU317
 1173 00fe 3046     		mov	r0, r6
 1174 0100 ACE7     		b	.L91
 1175              	.LVL110:
 1176              	.L101:
 1177              	.LCFI17:
 1178              		.cfi_def_cfa_offset 0
 1179              		.cfi_restore 3
 1180              		.cfi_restore 4
 1181              		.cfi_restore 5
 1182              		.cfi_restore 6
 1183              		.cfi_restore 7
 1184              		.cfi_restore 8
 1185              		.cfi_restore 9
 1186              		.cfi_restore 14
 322:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 1187              		.loc 1 322 4 view .LVU318
 1188 0102 4FF0FF30 		mov	r0, #-1
 1189              	.LVL111:
 1190              		.loc 1 382 1 view .LVU319
 1191 0106 7047     		bx	lr
 1192              	.LVL112:
 1193              	.L102:
 1194              	.LCFI18:
 1195              		.cfi_def_cfa_offset 32
 1196              		.cfi_offset 3, -32
 1197              		.cfi_offset 4, -28
 1198              		.cfi_offset 5, -24
 1199              		.cfi_offset 6, -20
 1200              		.cfi_offset 7, -16
 1201              		.cfi_offset 8, -12
 1202              		.cfi_offset 9, -8
 1203              		.cfi_offset 14, -4
 323:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1204              		.loc 1 323 4 view .LVU320
 1205 0108 6FF00400 		mvn	r0, #4
 1206 010c A6E7     		b	.L91
 1207              	.L103:
 324:ioLibrary_Driver-master/Ethernet/socket.c ****    tmp = getSn_SR(sn);
 1208              		.loc 1 324 4 view .LVU321
 1209 010e 6FF00D00 		mvn	r0, #13
 1210 0112 A3E7     		b	.L91
 1211              	.LVL113:
 1212              	.L104:
 326:ioLibrary_Driver-master/Ethernet/socket.c ****    if( sock_is_sending & (1<<sn) )
 1213              		.loc 1 326 65 view .LVU322
 1214 0114 6FF00600 		mvn	r0, #6
 1215              	.LVL114:
 326:ioLibrary_Driver-master/Ethernet/socket.c ****    if( sock_is_sending & (1<<sn) )
 1216              		.loc 1 326 65 view .LVU323
 1217 0118 A0E7     		b	.L91
 1218              	.L116:
 1219 011a 00BF     		.align	2
 1220              	.L115:
 1221 011c 00000000 		.word	sock_is_sending
 1222 0120 00000000 		.word	sock_io_mode
 1223              		.cfi_endproc
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 32


 1224              	.LFE5:
 1226              		.section	.text.recv,"ax",%progbits
 1227              		.align	1
 1228              		.global	recv
 1229              		.syntax unified
 1230              		.thumb
 1231              		.thumb_func
 1233              	recv:
 1234              	.LVL115:
 1235              	.LFB6:
 383:ioLibrary_Driver-master/Ethernet/socket.c **** 
 384:ioLibrary_Driver-master/Ethernet/socket.c **** 
 385:ioLibrary_Driver-master/Ethernet/socket.c **** int32_t recv(uint8_t sn, uint8_t * buf, uint16_t len)
 386:ioLibrary_Driver-master/Ethernet/socket.c **** {
 1236              		.loc 1 386 1 is_stmt 1 view -0
 1237              		.cfi_startproc
 1238              		@ args = 0, pretend = 0, frame = 0
 1239              		@ frame_needed = 0, uses_anonymous_args = 0
 387:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t  tmp = 0;
 1240              		.loc 1 387 4 view .LVU325
 388:ioLibrary_Driver-master/Ethernet/socket.c ****    uint16_t recvsize = 0;
 1241              		.loc 1 388 4 view .LVU326
 389:ioLibrary_Driver-master/Ethernet/socket.c **** //A20150601 : For integarating with W5300
 390:ioLibrary_Driver-master/Ethernet/socket.c **** #if   _WIZCHIP_ == 5300
 391:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t head[2];
 392:ioLibrary_Driver-master/Ethernet/socket.c ****    uint16_t mr;
 393:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 394:ioLibrary_Driver-master/Ethernet/socket.c **** //
 395:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 1242              		.loc 1 395 4 view .LVU327
 1243              		.loc 1 395 4 view .LVU328
 1244 0000 0828     		cmp	r0, #8
 1245 0002 5FD8     		bhi	.L127
 386:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t  tmp = 0;
 1246              		.loc 1 386 1 is_stmt 0 discriminator 2 view .LVU329
 1247 0004 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1248              	.LCFI19:
 1249              		.cfi_def_cfa_offset 32
 1250              		.cfi_offset 3, -32
 1251              		.cfi_offset 4, -28
 1252              		.cfi_offset 5, -24
 1253              		.cfi_offset 6, -20
 1254              		.cfi_offset 7, -16
 1255              		.cfi_offset 8, -12
 1256              		.cfi_offset 9, -8
 1257              		.cfi_offset 14, -4
 1258 0008 0546     		mov	r5, r0
 1259 000a 8846     		mov	r8, r1
 1260 000c 1446     		mov	r4, r2
 1261              		.loc 1 395 4 is_stmt 1 discriminator 2 view .LVU330
 1262              		.loc 1 395 19 discriminator 2 view .LVU331
 396:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 1263              		.loc 1 396 4 discriminator 2 view .LVU332
 1264              		.loc 1 396 4 discriminator 2 view .LVU333
 1265 000e 8600     		lsls	r6, r0, #2
 1266 0010 0136     		adds	r6, r6, #1
 1267 0012 F600     		lsls	r6, r6, #3
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 33


 1268 0014 3046     		mov	r0, r6
 1269              	.LVL116:
 1270              		.loc 1 396 4 is_stmt 0 discriminator 2 view .LVU334
 1271 0016 FFF7FEFF 		bl	WIZCHIP_READ
 1272              	.LVL117:
 1273              		.loc 1 396 4 discriminator 2 view .LVU335
 1274 001a 00F00F00 		and	r0, r0, #15
 1275 001e 0128     		cmp	r0, #1
 1276 0020 53D1     		bne	.L128
 1277              		.loc 1 396 4 is_stmt 1 discriminator 2 view .LVU336
 1278              		.loc 1 396 29 discriminator 2 view .LVU337
 397:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1279              		.loc 1 397 4 discriminator 2 view .LVU338
 1280              		.loc 1 397 4 discriminator 2 view .LVU339
 1281 0022 002C     		cmp	r4, #0
 1282 0024 54D0     		beq	.L129
 1283              		.loc 1 397 4 discriminator 2 view .LVU340
 1284              		.loc 1 397 20 discriminator 2 view .LVU341
 398:ioLibrary_Driver-master/Ethernet/socket.c ****    
 399:ioLibrary_Driver-master/Ethernet/socket.c ****    recvsize = getSn_RxMAX(sn);
 1285              		.loc 1 399 4 discriminator 2 view .LVU342
 1286              		.loc 1 399 15 is_stmt 0 discriminator 2 view .LVU343
 1287 0026 06F5F050 		add	r0, r6, #7680
 1288 002a FFF7FEFF 		bl	WIZCHIP_READ
 1289              	.LVL118:
 1290              		.loc 1 399 13 discriminator 2 view .LVU344
 1291 002e 8702     		lsls	r7, r0, #10
 1292 0030 BFB2     		uxth	r7, r7
 1293              	.LVL119:
 400:ioLibrary_Driver-master/Ethernet/socket.c ****    if(recvsize < len) len = recvsize;
 1294              		.loc 1 400 4 is_stmt 1 discriminator 2 view .LVU345
 1295              		.loc 1 400 6 is_stmt 0 discriminator 2 view .LVU346
 1296 0032 BC42     		cmp	r4, r7
 1297 0034 0ED8     		bhi	.L124
 1298              		.loc 1 400 6 view .LVU347
 1299 0036 2746     		mov	r7, r4
 1300              	.LVL120:
 1301              		.loc 1 400 6 view .LVU348
 1302 0038 0CE0     		b	.L124
 1303              	.LVL121:
 1304              	.L135:
 401:ioLibrary_Driver-master/Ethernet/socket.c ****       
 402:ioLibrary_Driver-master/Ethernet/socket.c **** //A20150601 : For Integrating with W5300
 403:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300
 404:ioLibrary_Driver-master/Ethernet/socket.c ****    //sock_pack_info[sn] = PACK_COMPLETED;    // for clear      
 405:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_remained_size[sn] == 0)
 406:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 407:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 408:ioLibrary_Driver-master/Ethernet/socket.c **** //
 409:ioLibrary_Driver-master/Ethernet/socket.c ****       while(1)
 410:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 411:ioLibrary_Driver-master/Ethernet/socket.c ****          recvsize = getSn_RX_RSR(sn);
 412:ioLibrary_Driver-master/Ethernet/socket.c ****          tmp = getSn_SR(sn);
 413:ioLibrary_Driver-master/Ethernet/socket.c ****          if (tmp != SOCK_ESTABLISHED)
 414:ioLibrary_Driver-master/Ethernet/socket.c ****          {
 415:ioLibrary_Driver-master/Ethernet/socket.c ****             if(tmp == SOCK_CLOSE_WAIT)
 416:ioLibrary_Driver-master/Ethernet/socket.c ****             {
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 34


 417:ioLibrary_Driver-master/Ethernet/socket.c ****                if(recvsize != 0) break;
 418:ioLibrary_Driver-master/Ethernet/socket.c ****                else if(getSn_TX_FSR(sn) == getSn_TxMAX(sn))
 419:ioLibrary_Driver-master/Ethernet/socket.c ****                {
 420:ioLibrary_Driver-master/Ethernet/socket.c ****                   close(sn);
 1305              		.loc 1 420 19 is_stmt 1 view .LVU349
 1306 003a 2846     		mov	r0, r5
 1307 003c FFF7FEFF 		bl	close
 1308              	.LVL122:
 421:ioLibrary_Driver-master/Ethernet/socket.c ****                   return SOCKERR_SOCKSTATUS;
 1309              		.loc 1 421 19 view .LVU350
 1310              		.loc 1 421 26 is_stmt 0 view .LVU351
 1311 0040 6FF00600 		mvn	r0, #6
 1312 0044 3CE0     		b	.L117
 1313              	.LVL123:
 1314              	.L121:
 422:ioLibrary_Driver-master/Ethernet/socket.c ****                }
 423:ioLibrary_Driver-master/Ethernet/socket.c ****             }
 424:ioLibrary_Driver-master/Ethernet/socket.c ****             else
 425:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 426:ioLibrary_Driver-master/Ethernet/socket.c ****                close(sn);
 1315              		.loc 1 426 16 is_stmt 1 view .LVU352
 1316 0046 2846     		mov	r0, r5
 1317              	.LVL124:
 1318              		.loc 1 426 16 is_stmt 0 view .LVU353
 1319 0048 FFF7FEFF 		bl	close
 1320              	.LVL125:
 427:ioLibrary_Driver-master/Ethernet/socket.c ****                return SOCKERR_SOCKSTATUS;
 1321              		.loc 1 427 16 is_stmt 1 view .LVU354
 1322              		.loc 1 427 23 is_stmt 0 view .LVU355
 1323 004c 6FF00600 		mvn	r0, #6
 1324 0050 36E0     		b	.L117
 1325              	.L123:
 428:ioLibrary_Driver-master/Ethernet/socket.c ****             }
 429:ioLibrary_Driver-master/Ethernet/socket.c ****          }
 430:ioLibrary_Driver-master/Ethernet/socket.c ****          if((sock_io_mode & (1<<sn)) && (recvsize == 0)) return SOCK_BUSY;
 431:ioLibrary_Driver-master/Ethernet/socket.c ****          if(recvsize != 0) break;
 1326              		.loc 1 431 10 is_stmt 1 view .LVU356
 1327              		.loc 1 431 12 is_stmt 0 view .LVU357
 1328 0052 0CBB     		cbnz	r4, .L122
 1329              	.LVL126:
 1330              	.L124:
 409:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 1331              		.loc 1 409 7 is_stmt 1 view .LVU358
 411:ioLibrary_Driver-master/Ethernet/socket.c ****          tmp = getSn_SR(sn);
 1332              		.loc 1 411 10 view .LVU359
 411:ioLibrary_Driver-master/Ethernet/socket.c ****          tmp = getSn_SR(sn);
 1333              		.loc 1 411 21 is_stmt 0 view .LVU360
 1334 0054 2846     		mov	r0, r5
 1335 0056 FFF7FEFF 		bl	getSn_RX_RSR
 1336              	.LVL127:
 1337 005a 0446     		mov	r4, r0
 1338              	.LVL128:
 412:ioLibrary_Driver-master/Ethernet/socket.c ****          if (tmp != SOCK_ESTABLISHED)
 1339              		.loc 1 412 10 is_stmt 1 view .LVU361
 412:ioLibrary_Driver-master/Ethernet/socket.c ****          if (tmp != SOCK_ESTABLISHED)
 1340              		.loc 1 412 16 is_stmt 0 view .LVU362
 1341 005c 06F54070 		add	r0, r6, #768
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 35


 1342 0060 FFF7FEFF 		bl	WIZCHIP_READ
 1343              	.LVL129:
 413:ioLibrary_Driver-master/Ethernet/socket.c ****          {
 1344              		.loc 1 413 10 is_stmt 1 view .LVU363
 413:ioLibrary_Driver-master/Ethernet/socket.c ****          {
 1345              		.loc 1 413 13 is_stmt 0 view .LVU364
 1346 0064 1728     		cmp	r0, #23
 1347 0066 0DD0     		beq	.L120
 415:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 1348              		.loc 1 415 13 is_stmt 1 view .LVU365
 415:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 1349              		.loc 1 415 15 is_stmt 0 view .LVU366
 1350 0068 1C28     		cmp	r0, #28
 1351 006a ECD1     		bne	.L121
 417:ioLibrary_Driver-master/Ethernet/socket.c ****                else if(getSn_TX_FSR(sn) == getSn_TxMAX(sn))
 1352              		.loc 1 417 16 is_stmt 1 view .LVU367
 417:ioLibrary_Driver-master/Ethernet/socket.c ****                else if(getSn_TX_FSR(sn) == getSn_TxMAX(sn))
 1353              		.loc 1 417 18 is_stmt 0 view .LVU368
 1354 006c A4B9     		cbnz	r4, .L122
 418:ioLibrary_Driver-master/Ethernet/socket.c ****                {
 1355              		.loc 1 418 21 is_stmt 1 view .LVU369
 418:ioLibrary_Driver-master/Ethernet/socket.c ****                {
 1356              		.loc 1 418 24 is_stmt 0 view .LVU370
 1357 006e 2846     		mov	r0, r5
 1358              	.LVL130:
 418:ioLibrary_Driver-master/Ethernet/socket.c ****                {
 1359              		.loc 1 418 24 view .LVU371
 1360 0070 FFF7FEFF 		bl	getSn_TX_FSR
 1361              	.LVL131:
 1362 0074 8146     		mov	r9, r0
 418:ioLibrary_Driver-master/Ethernet/socket.c ****                {
 1363              		.loc 1 418 44 view .LVU372
 1364 0076 06F5F850 		add	r0, r6, #7936
 1365 007a FFF7FEFF 		bl	WIZCHIP_READ
 1366              	.LVL132:
 418:ioLibrary_Driver-master/Ethernet/socket.c ****                {
 1367              		.loc 1 418 23 view .LVU373
 1368 007e B9EB802F 		cmp	r9, r0, lsl #10
 1369 0082 DAD0     		beq	.L135
 1370              	.L120:
 430:ioLibrary_Driver-master/Ethernet/socket.c ****          if(recvsize != 0) break;
 1371              		.loc 1 430 10 is_stmt 1 view .LVU374
 430:ioLibrary_Driver-master/Ethernet/socket.c ****          if(recvsize != 0) break;
 1372              		.loc 1 430 13 is_stmt 0 view .LVU375
 1373 0084 144B     		ldr	r3, .L136
 1374 0086 1B88     		ldrh	r3, [r3]
 1375 0088 2B41     		asrs	r3, r3, r5
 430:ioLibrary_Driver-master/Ethernet/socket.c ****          if(recvsize != 0) break;
 1376              		.loc 1 430 12 view .LVU376
 1377 008a 13F0010F 		tst	r3, #1
 1378 008e E0D0     		beq	.L123
 430:ioLibrary_Driver-master/Ethernet/socket.c ****          if(recvsize != 0) break;
 1379              		.loc 1 430 38 discriminator 1 view .LVU377
 1380 0090 002C     		cmp	r4, #0
 1381 0092 DED1     		bne	.L123
 430:ioLibrary_Driver-master/Ethernet/socket.c ****          if(recvsize != 0) break;
 1382              		.loc 1 430 65 view .LVU378
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 36


 1383 0094 0020     		movs	r0, #0
 1384 0096 13E0     		b	.L117
 1385              	.L122:
 432:ioLibrary_Driver-master/Ethernet/socket.c ****       };
 1386              		.loc 1 432 8 is_stmt 1 view .LVU379
 433:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300
 434:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 435:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 436:ioLibrary_Driver-master/Ethernet/socket.c **** 
 437:ioLibrary_Driver-master/Ethernet/socket.c **** //A20150601 : For integrating with W5300
 438:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300
 439:ioLibrary_Driver-master/Ethernet/socket.c ****    if((sock_remained_size[sn] == 0) || (getSn_MR(sn) & Sn_MR_ALIGN))
 440:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 441:ioLibrary_Driver-master/Ethernet/socket.c ****       mr = getMR();
 442:ioLibrary_Driver-master/Ethernet/socket.c ****       if((getSn_MR(sn) & Sn_MR_ALIGN)==0)
 443:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 444:ioLibrary_Driver-master/Ethernet/socket.c ****          wiz_recv_data(sn,head,2);
 445:ioLibrary_Driver-master/Ethernet/socket.c ****          if(mr & MR_FS)
 446:ioLibrary_Driver-master/Ethernet/socket.c ****             recvsize = (((uint16_t)head[1]) << 8) | ((uint16_t)head[0]);
 447:ioLibrary_Driver-master/Ethernet/socket.c ****          else
 448:ioLibrary_Driver-master/Ethernet/socket.c ****             recvsize = (((uint16_t)head[0]) << 8) | ((uint16_t)head[1]);
 449:ioLibrary_Driver-master/Ethernet/socket.c ****          sock_pack_info[sn] = PACK_FIRST;
 450:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 451:ioLibrary_Driver-master/Ethernet/socket.c ****       sock_remained_size[sn] = recvsize;
 452:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 453:ioLibrary_Driver-master/Ethernet/socket.c ****    if(len > sock_remained_size[sn]) len = sock_remained_size[sn];
 454:ioLibrary_Driver-master/Ethernet/socket.c ****    recvsize = len;   
 455:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_pack_info[sn] & PACK_FIFOBYTE)
 456:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 457:ioLibrary_Driver-master/Ethernet/socket.c ****       *buf = sock_remained_byte[sn];
 458:ioLibrary_Driver-master/Ethernet/socket.c ****       buf++;
 459:ioLibrary_Driver-master/Ethernet/socket.c ****       sock_pack_info[sn] &= ~(PACK_FIFOBYTE);
 460:ioLibrary_Driver-master/Ethernet/socket.c ****       recvsize -= 1;
 461:ioLibrary_Driver-master/Ethernet/socket.c ****       sock_remained_size[sn] -= 1;
 462:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 463:ioLibrary_Driver-master/Ethernet/socket.c ****    if(recvsize != 0)
 464:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 465:ioLibrary_Driver-master/Ethernet/socket.c ****       wiz_recv_data(sn, buf, recvsize);
 466:ioLibrary_Driver-master/Ethernet/socket.c ****       setSn_CR(sn,Sn_CR_RECV);
 467:ioLibrary_Driver-master/Ethernet/socket.c ****       while(getSn_CR(sn));
 468:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 469:ioLibrary_Driver-master/Ethernet/socket.c ****    sock_remained_size[sn] -= recvsize;
 470:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_remained_size[sn] != 0)
 471:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 472:ioLibrary_Driver-master/Ethernet/socket.c ****       sock_pack_info[sn] |= PACK_REMAINED;
 473:ioLibrary_Driver-master/Ethernet/socket.c ****       if(recvsize & 0x1) sock_pack_info[sn] |= PACK_FIFOBYTE;
 474:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 475:ioLibrary_Driver-master/Ethernet/socket.c ****    else sock_pack_info[sn] = PACK_COMPLETED;
 476:ioLibrary_Driver-master/Ethernet/socket.c ****    if(getSn_MR(sn) & Sn_MR_ALIGN) sock_remained_size[sn] = 0;
 477:ioLibrary_Driver-master/Ethernet/socket.c ****    //len = recvsize;
 478:ioLibrary_Driver-master/Ethernet/socket.c **** #else   
 479:ioLibrary_Driver-master/Ethernet/socket.c ****    if(recvsize < len) len = recvsize;   
 1387              		.loc 1 479 4 view .LVU380
 1388              		.loc 1 479 6 is_stmt 0 view .LVU381
 1389 0098 BC42     		cmp	r4, r7
 1390 009a 00D3     		bcc	.L125
 1391 009c 3C46     		mov	r4, r7
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 37


 1392              	.LVL133:
 1393              	.L125:
 480:ioLibrary_Driver-master/Ethernet/socket.c ****    wiz_recv_data(sn, buf, len);
 1394              		.loc 1 480 4 is_stmt 1 view .LVU382
 1395 009e 2246     		mov	r2, r4
 1396 00a0 4146     		mov	r1, r8
 1397 00a2 2846     		mov	r0, r5
 1398 00a4 FFF7FEFF 		bl	wiz_recv_data
 1399              	.LVL134:
 481:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_RECV);
 1400              		.loc 1 481 4 view .LVU383
 1401 00a8 06F58076 		add	r6, r6, #256
 1402 00ac 4021     		movs	r1, #64
 1403 00ae 3046     		mov	r0, r6
 1404 00b0 FFF7FEFF 		bl	WIZCHIP_WRITE
 1405              	.LVL135:
 482:ioLibrary_Driver-master/Ethernet/socket.c ****    while(getSn_CR(sn));
 1406              		.loc 1 482 4 view .LVU384
 1407              	.L126:
 1408              		.loc 1 482 10 discriminator 1 view .LVU385
 1409 00b4 3046     		mov	r0, r6
 1410 00b6 FFF7FEFF 		bl	WIZCHIP_READ
 1411              	.LVL136:
 1412 00ba 0028     		cmp	r0, #0
 1413 00bc FAD1     		bne	.L126
 483:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 484:ioLibrary_Driver-master/Ethernet/socket.c ****      
 485:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150409 : Explicit Type Casting
 486:ioLibrary_Driver-master/Ethernet/socket.c ****    //return len;
 487:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int32_t)len;
 1414              		.loc 1 487 4 view .LVU386
 1415              		.loc 1 487 11 is_stmt 0 view .LVU387
 1416 00be 2046     		mov	r0, r4
 1417              	.LVL137:
 1418              	.L117:
 488:ioLibrary_Driver-master/Ethernet/socket.c **** }
 1419              		.loc 1 488 1 view .LVU388
 1420 00c0 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1421              	.LVL138:
 1422              	.L127:
 1423              	.LCFI20:
 1424              		.cfi_def_cfa_offset 0
 1425              		.cfi_restore 3
 1426              		.cfi_restore 4
 1427              		.cfi_restore 5
 1428              		.cfi_restore 6
 1429              		.cfi_restore 7
 1430              		.cfi_restore 8
 1431              		.cfi_restore 9
 1432              		.cfi_restore 14
 395:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 1433              		.loc 1 395 4 view .LVU389
 1434 00c4 4FF0FF30 		mov	r0, #-1
 1435              	.LVL139:
 1436              		.loc 1 488 1 view .LVU390
 1437 00c8 7047     		bx	lr
 1438              	.LVL140:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 38


 1439              	.L128:
 1440              	.LCFI21:
 1441              		.cfi_def_cfa_offset 32
 1442              		.cfi_offset 3, -32
 1443              		.cfi_offset 4, -28
 1444              		.cfi_offset 5, -24
 1445              		.cfi_offset 6, -20
 1446              		.cfi_offset 7, -16
 1447              		.cfi_offset 8, -12
 1448              		.cfi_offset 9, -8
 1449              		.cfi_offset 14, -4
 396:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1450              		.loc 1 396 4 view .LVU391
 1451 00ca 6FF00400 		mvn	r0, #4
 1452 00ce F7E7     		b	.L117
 1453              	.L129:
 397:ioLibrary_Driver-master/Ethernet/socket.c ****    
 1454              		.loc 1 397 4 view .LVU392
 1455 00d0 6FF00D00 		mvn	r0, #13
 1456 00d4 F4E7     		b	.L117
 1457              	.L137:
 1458 00d6 00BF     		.align	2
 1459              	.L136:
 1460 00d8 00000000 		.word	sock_io_mode
 1461              		.cfi_endproc
 1462              	.LFE6:
 1464              		.section	.text.sendto,"ax",%progbits
 1465              		.align	1
 1466              		.global	sendto
 1467              		.syntax unified
 1468              		.thumb
 1469              		.thumb_func
 1471              	sendto:
 1472              	.LVL141:
 1473              	.LFB7:
 489:ioLibrary_Driver-master/Ethernet/socket.c **** 
 490:ioLibrary_Driver-master/Ethernet/socket.c **** int32_t sendto(uint8_t sn, uint8_t * buf, uint16_t len, uint8_t * addr, uint16_t port)
 491:ioLibrary_Driver-master/Ethernet/socket.c **** {
 1474              		.loc 1 491 1 is_stmt 1 view -0
 1475              		.cfi_startproc
 1476              		@ args = 4, pretend = 0, frame = 0
 1477              		@ frame_needed = 0, uses_anonymous_args = 0
 1478              		.loc 1 491 1 is_stmt 0 view .LVU394
 1479 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1480              	.LCFI22:
 1481              		.cfi_def_cfa_offset 32
 1482              		.cfi_offset 4, -32
 1483              		.cfi_offset 5, -28
 1484              		.cfi_offset 6, -24
 1485              		.cfi_offset 7, -20
 1486              		.cfi_offset 8, -16
 1487              		.cfi_offset 9, -12
 1488              		.cfi_offset 10, -8
 1489              		.cfi_offset 14, -4
 1490 0004 BDF82060 		ldrh	r6, [sp, #32]
 492:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t tmp = 0;
 1491              		.loc 1 492 4 is_stmt 1 view .LVU395
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 39


 1492              	.LVL142:
 493:ioLibrary_Driver-master/Ethernet/socket.c ****    uint16_t freesize = 0;
 1493              		.loc 1 493 4 view .LVU396
 494:ioLibrary_Driver-master/Ethernet/socket.c ****    uint32_t taddr;
 1494              		.loc 1 494 4 view .LVU397
 495:ioLibrary_Driver-master/Ethernet/socket.c **** 
 496:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 1495              		.loc 1 496 4 view .LVU398
 1496              		.loc 1 496 4 view .LVU399
 1497 0008 0828     		cmp	r0, #8
 1498 000a 00F29180 		bhi	.L149
 1499 000e 0546     		mov	r5, r0
 1500 0010 8946     		mov	r9, r1
 1501 0012 9246     		mov	r10, r2
 1502 0014 1C46     		mov	r4, r3
 1503              		.loc 1 496 4 discriminator 2 view .LVU400
 1504              		.loc 1 496 19 discriminator 2 view .LVU401
 497:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(getSn_MR(sn) & 0x0F)
 1505              		.loc 1 497 4 discriminator 2 view .LVU402
 1506              		.loc 1 497 11 is_stmt 0 discriminator 2 view .LVU403
 1507 0016 8700     		lsls	r7, r0, #2
 1508 0018 0137     		adds	r7, r7, #1
 1509 001a FF00     		lsls	r7, r7, #3
 1510 001c 3846     		mov	r0, r7
 1511              	.LVL143:
 1512              		.loc 1 497 11 discriminator 2 view .LVU404
 1513 001e FFF7FEFF 		bl	WIZCHIP_READ
 1514              	.LVL144:
 1515              		.loc 1 497 4 discriminator 2 view .LVU405
 1516 0022 00F00F00 		and	r0, r0, #15
 1517 0026 0238     		subs	r0, r0, #2
 1518 0028 0228     		cmp	r0, #2
 1519 002a 00F28480 		bhi	.L150
 498:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 499:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_UDP:
 500:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_MACRAW:
 501:ioLibrary_Driver-master/Ethernet/socket.c **** //         break;
 502:ioLibrary_Driver-master/Ethernet/socket.c **** //   #if ( _WIZCHIP_ < 5200 )
 503:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_IPRAW:
 504:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 1520              		.loc 1 504 10 is_stmt 1 view .LVU406
 505:ioLibrary_Driver-master/Ethernet/socket.c **** //   #endif
 506:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
 507:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKMODE;
 508:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 509:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1521              		.loc 1 509 4 view .LVU407
 1522              		.loc 1 509 4 view .LVU408
 1523 002e BAF1000F 		cmp	r10, #0
 1524 0032 00F08380 		beq	.L151
 1525              		.loc 1 509 4 discriminator 2 view .LVU409
 1526              		.loc 1 509 20 discriminator 2 view .LVU410
 510:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20140501 : For avoiding fatal error on memory align mismatched
 511:ioLibrary_Driver-master/Ethernet/socket.c ****    //if(*((uint32_t*)addr) == 0) return SOCKERR_IPINVALID;
 512:ioLibrary_Driver-master/Ethernet/socket.c ****    //{
 513:ioLibrary_Driver-master/Ethernet/socket.c ****       //uint32_t taddr;
 514:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = ((uint32_t)addr[0]) & 0x000000FF;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 40


 1527              		.loc 1 514 7 discriminator 2 view .LVU411
 1528              		.loc 1 514 30 is_stmt 0 discriminator 2 view .LVU412
 1529 0036 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1530              	.LVL145:
 515:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = (taddr << 8) + ((uint32_t)addr[1] & 0x000000FF);
 1531              		.loc 1 515 7 is_stmt 1 discriminator 2 view .LVU413
 1532              		.loc 1 515 45 is_stmt 0 discriminator 2 view .LVU414
 1533 0038 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1534              		.loc 1 515 13 discriminator 2 view .LVU415
 1535 003a 03EB0223 		add	r3, r3, r2, lsl #8
 1536              	.LVL146:
 516:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = (taddr << 8) + ((uint32_t)addr[2] & 0x000000FF);
 1537              		.loc 1 516 7 is_stmt 1 discriminator 2 view .LVU416
 1538              		.loc 1 516 45 is_stmt 0 discriminator 2 view .LVU417
 1539 003e A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 1540              		.loc 1 516 13 discriminator 2 view .LVU418
 1541 0040 02EB0322 		add	r2, r2, r3, lsl #8
 1542              	.LVL147:
 517:ioLibrary_Driver-master/Ethernet/socket.c ****       taddr = (taddr << 8) + ((uint32_t)addr[3] & 0x000000FF);
 1543              		.loc 1 517 7 is_stmt 1 discriminator 2 view .LVU419
 1544              		.loc 1 517 45 is_stmt 0 discriminator 2 view .LVU420
 1545 0044 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 1546              		.loc 1 517 13 discriminator 2 view .LVU421
 1547 0046 03EB0223 		add	r3, r3, r2, lsl #8
 1548              	.LVL148:
 518:ioLibrary_Driver-master/Ethernet/socket.c ****    //}
 519:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 520:ioLibrary_Driver-master/Ethernet/socket.c ****    //if(*((uint32_t*)addr) == 0) return SOCKERR_IPINVALID;
 521:ioLibrary_Driver-master/Ethernet/socket.c ****    if((taddr == 0) && ((getSn_MR(sn)&Sn_MR_MACRAW) != Sn_MR_MACRAW)) return SOCKERR_IPINVALID;
 1549              		.loc 1 521 4 is_stmt 1 discriminator 2 view .LVU422
 1550              		.loc 1 521 6 is_stmt 0 discriminator 2 view .LVU423
 1551 004a 5BB3     		cbz	r3, .L158
 1552              	.LVL149:
 1553              	.L140:
 522:ioLibrary_Driver-master/Ethernet/socket.c ****    if((port  == 0) && ((getSn_MR(sn)&Sn_MR_MACRAW) != Sn_MR_MACRAW)) return SOCKERR_PORTZERO;
 1554              		.loc 1 522 4 is_stmt 1 view .LVU424
 1555              		.loc 1 522 6 is_stmt 0 view .LVU425
 1556 004c 2EB9     		cbnz	r6, .L141
 1557              		.loc 1 522 25 discriminator 1 view .LVU426
 1558 004e 3846     		mov	r0, r7
 1559 0050 FFF7FEFF 		bl	WIZCHIP_READ
 1560              	.LVL150:
 1561              		.loc 1 522 20 discriminator 1 view .LVU427
 1562 0054 10F0040F 		tst	r0, #4
 1563 0058 73D0     		beq	.L153
 1564              	.L141:
 523:ioLibrary_Driver-master/Ethernet/socket.c ****    tmp = getSn_SR(sn);
 1565              		.loc 1 523 4 is_stmt 1 view .LVU428
 1566              		.loc 1 523 10 is_stmt 0 view .LVU429
 1567 005a 07F54078 		add	r8, r7, #768
 1568 005e 4046     		mov	r0, r8
 1569 0060 FFF7FEFF 		bl	WIZCHIP_READ
 1570              	.LVL151:
 524:ioLibrary_Driver-master/Ethernet/socket.c **** //#if ( _WIZCHIP_ < 5200 )
 525:ioLibrary_Driver-master/Ethernet/socket.c ****    if((tmp != SOCK_MACRAW) && (tmp != SOCK_UDP) && (tmp != SOCK_IPRAW)) return SOCKERR_SOCKSTATUS;
 1571              		.loc 1 525 4 is_stmt 1 view .LVU430
 1572              		.loc 1 525 6 is_stmt 0 view .LVU431
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 41


 1573 0064 4228     		cmp	r0, #66
 1574 0066 03D0     		beq	.L142
 1575              		.loc 1 525 28 discriminator 1 view .LVU432
 1576 0068 2228     		cmp	r0, #34
 1577 006a 01D0     		beq	.L142
 1578              		.loc 1 525 49 discriminator 2 view .LVU433
 1579 006c 3228     		cmp	r0, #50
 1580 006e 6BD1     		bne	.L154
 1581              	.L142:
 526:ioLibrary_Driver-master/Ethernet/socket.c **** //#else
 527:ioLibrary_Driver-master/Ethernet/socket.c **** //   if(tmp != SOCK_MACRAW && tmp != SOCK_UDP) return SOCKERR_SOCKSTATUS;
 528:ioLibrary_Driver-master/Ethernet/socket.c **** //#endif
 529:ioLibrary_Driver-master/Ethernet/socket.c ****       
 530:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_DIPR(sn,addr);
 1582              		.loc 1 530 4 is_stmt 1 view .LVU434
 1583 0070 0422     		movs	r2, #4
 1584 0072 2146     		mov	r1, r4
 1585 0074 07F54060 		add	r0, r7, #3072
 1586              	.LVL152:
 1587              		.loc 1 530 4 is_stmt 0 view .LVU435
 1588 0078 FFF7FEFF 		bl	WIZCHIP_WRITE_BUF
 1589              	.LVL153:
 531:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_DPORT(sn,port);      
 1590              		.loc 1 531 4 is_stmt 1 view .LVU436
 1591 007c 310A     		lsrs	r1, r6, #8
 1592 007e 07F58050 		add	r0, r7, #4096
 1593 0082 FFF7FEFF 		bl	WIZCHIP_WRITE
 1594              	.LVL154:
 1595              		.loc 1 531 4 view .LVU437
 1596 0086 F1B2     		uxtb	r1, r6
 1597 0088 07F58850 		add	r0, r7, #4352
 1598 008c FFF7FEFF 		bl	WIZCHIP_WRITE
 1599              	.LVL155:
 1600              		.loc 1 531 24 view .LVU438
 532:ioLibrary_Driver-master/Ethernet/socket.c ****    freesize = getSn_TxMAX(sn);
 1601              		.loc 1 532 4 view .LVU439
 1602              		.loc 1 532 15 is_stmt 0 view .LVU440
 1603 0090 07F5F850 		add	r0, r7, #7936
 1604 0094 FFF7FEFF 		bl	WIZCHIP_READ
 1605              	.LVL156:
 1606              		.loc 1 532 13 view .LVU441
 1607 0098 8602     		lsls	r6, r0, #10
 1608 009a B6B2     		uxth	r6, r6
 1609              	.LVL157:
 533:ioLibrary_Driver-master/Ethernet/socket.c ****    if (len > freesize) len = freesize; // check size not to exceed MAX size.
 1610              		.loc 1 533 4 is_stmt 1 view .LVU442
 1611              		.loc 1 533 7 is_stmt 0 view .LVU443
 1612 009c B245     		cmp	r10, r6
 1613 009e 0CD8     		bhi	.L145
 1614 00a0 5646     		mov	r6, r10
 1615              	.LVL158:
 1616              		.loc 1 533 7 view .LVU444
 1617 00a2 0AE0     		b	.L145
 1618              	.LVL159:
 1619              	.L158:
 521:ioLibrary_Driver-master/Ethernet/socket.c ****    if((port  == 0) && ((getSn_MR(sn)&Sn_MR_MACRAW) != Sn_MR_MACRAW)) return SOCKERR_PORTZERO;
 1620              		.loc 1 521 25 discriminator 1 view .LVU445
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 42


 1621 00a4 3846     		mov	r0, r7
 1622 00a6 FFF7FEFF 		bl	WIZCHIP_READ
 1623              	.LVL160:
 521:ioLibrary_Driver-master/Ethernet/socket.c ****    if((port  == 0) && ((getSn_MR(sn)&Sn_MR_MACRAW) != Sn_MR_MACRAW)) return SOCKERR_PORTZERO;
 1624              		.loc 1 521 20 discriminator 1 view .LVU446
 1625 00aa 10F0040F 		tst	r0, #4
 1626 00ae CDD1     		bne	.L140
 521:ioLibrary_Driver-master/Ethernet/socket.c ****    if((port  == 0) && ((getSn_MR(sn)&Sn_MR_MACRAW) != Sn_MR_MACRAW)) return SOCKERR_PORTZERO;
 1627              		.loc 1 521 77 view .LVU447
 1628 00b0 6FF00B00 		mvn	r0, #11
 1629 00b4 4DE0     		b	.L138
 1630              	.LVL161:
 1631              	.L144:
 534:ioLibrary_Driver-master/Ethernet/socket.c ****    while(1)
 535:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 536:ioLibrary_Driver-master/Ethernet/socket.c ****       freesize = getSn_TX_FSR(sn);
 537:ioLibrary_Driver-master/Ethernet/socket.c ****       if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 538:ioLibrary_Driver-master/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 539:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1632              		.loc 1 539 7 is_stmt 1 view .LVU448
 1633              		.loc 1 539 9 is_stmt 0 view .LVU449
 1634 00b6 B442     		cmp	r4, r6
 1635 00b8 12D2     		bcs	.L159
 1636              	.LVL162:
 1637              	.L145:
 534:ioLibrary_Driver-master/Ethernet/socket.c ****    while(1)
 1638              		.loc 1 534 4 is_stmt 1 view .LVU450
 536:ioLibrary_Driver-master/Ethernet/socket.c ****       if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 1639              		.loc 1 536 7 view .LVU451
 536:ioLibrary_Driver-master/Ethernet/socket.c ****       if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 1640              		.loc 1 536 18 is_stmt 0 view .LVU452
 1641 00ba 2846     		mov	r0, r5
 1642 00bc FFF7FEFF 		bl	getSn_TX_FSR
 1643              	.LVL163:
 1644 00c0 0446     		mov	r4, r0
 1645              	.LVL164:
 537:ioLibrary_Driver-master/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 1646              		.loc 1 537 7 is_stmt 1 view .LVU453
 537:ioLibrary_Driver-master/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 1647              		.loc 1 537 10 is_stmt 0 view .LVU454
 1648 00c2 4046     		mov	r0, r8
 1649 00c4 FFF7FEFF 		bl	WIZCHIP_READ
 1650              	.LVL165:
 537:ioLibrary_Driver-master/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 1651              		.loc 1 537 9 view .LVU455
 1652 00c8 0028     		cmp	r0, #0
 1653 00ca 40D0     		beq	.L155
 538:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1654              		.loc 1 538 7 is_stmt 1 view .LVU456
 538:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1655              		.loc 1 538 11 is_stmt 0 view .LVU457
 1656 00cc 224B     		ldr	r3, .L161
 1657 00ce 1B88     		ldrh	r3, [r3]
 1658 00d0 2B41     		asrs	r3, r3, r5
 538:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1659              		.loc 1 538 9 view .LVU458
 1660 00d2 13F0010F 		tst	r3, #1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 43


 1661 00d6 EED0     		beq	.L144
 538:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1662              		.loc 1 538 36 discriminator 1 view .LVU459
 1663 00d8 B442     		cmp	r4, r6
 1664 00da ECD2     		bcs	.L144
 538:ioLibrary_Driver-master/Ethernet/socket.c ****       if(len <= freesize) break;
 1665              		.loc 1 538 65 view .LVU460
 1666 00dc 0020     		movs	r0, #0
 1667 00de 38E0     		b	.L138
 1668              	.L159:
 540:ioLibrary_Driver-master/Ethernet/socket.c ****    };
 1669              		.loc 1 540 5 is_stmt 1 view .LVU461
 541:ioLibrary_Driver-master/Ethernet/socket.c **** 	wiz_send_data(sn, buf, len);
 1670              		.loc 1 541 2 view .LVU462
 1671 00e0 3246     		mov	r2, r6
 1672 00e2 4946     		mov	r1, r9
 1673 00e4 2846     		mov	r0, r5
 1674 00e6 FFF7FEFF 		bl	wiz_send_data
 1675              	.LVL166:
 542:ioLibrary_Driver-master/Ethernet/socket.c **** 
 543:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ < 5500   //M20150401 : for WIZCHIP Errata #4, #5 (ARP errata)
 544:ioLibrary_Driver-master/Ethernet/socket.c ****       getSIPR((uint8_t*)&taddr);
 545:ioLibrary_Driver-master/Ethernet/socket.c ****       if(taddr == 0)
 546:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 547:ioLibrary_Driver-master/Ethernet/socket.c ****          getSUBR((uint8_t*)&taddr);
 548:ioLibrary_Driver-master/Ethernet/socket.c ****          setSUBR((uint8_t*)"\x00\x00\x00\x00");
 549:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 550:ioLibrary_Driver-master/Ethernet/socket.c ****       else taddr = 0;
 551:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 552:ioLibrary_Driver-master/Ethernet/socket.c **** 
 553:ioLibrary_Driver-master/Ethernet/socket.c **** //A20150601 : For W5300
 554:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300
 555:ioLibrary_Driver-master/Ethernet/socket.c ****    setSn_TX_WRSR(sn, len);
 556:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 557:ioLibrary_Driver-master/Ethernet/socket.c **** //   
 558:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_SEND);
 1676              		.loc 1 558 2 view .LVU463
 1677 00ea 07F58074 		add	r4, r7, #256
 1678              	.LVL167:
 1679              		.loc 1 558 2 is_stmt 0 view .LVU464
 1680 00ee 2021     		movs	r1, #32
 1681 00f0 2046     		mov	r0, r4
 1682 00f2 FFF7FEFF 		bl	WIZCHIP_WRITE
 1683              	.LVL168:
 559:ioLibrary_Driver-master/Ethernet/socket.c **** 	/* wait to process the command... */
 560:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_CR(sn));
 1684              		.loc 1 560 2 is_stmt 1 view .LVU465
 1685              	.L146:
 1686              		.loc 1 560 8 discriminator 1 view .LVU466
 1687 00f6 2046     		mov	r0, r4
 1688 00f8 FFF7FEFF 		bl	WIZCHIP_READ
 1689              	.LVL169:
 1690 00fc 0028     		cmp	r0, #0
 1691 00fe FAD1     		bne	.L146
 1692              	.LVL170:
 1693              	.L148:
 561:ioLibrary_Driver-master/Ethernet/socket.c ****    while(1)
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 44


 1694              		.loc 1 561 4 view .LVU467
 562:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 563:ioLibrary_Driver-master/Ethernet/socket.c ****       tmp = getSn_IR(sn);
 1695              		.loc 1 563 7 view .LVU468
 1696              		.loc 1 563 13 is_stmt 0 view .LVU469
 1697 0100 07F50074 		add	r4, r7, #512
 1698 0104 2046     		mov	r0, r4
 1699 0106 FFF7FEFF 		bl	WIZCHIP_READ
 1700              	.LVL171:
 564:ioLibrary_Driver-master/Ethernet/socket.c ****       if(tmp & Sn_IR_SENDOK)
 1701              		.loc 1 564 7 is_stmt 1 view .LVU470
 1702              		.loc 1 564 9 is_stmt 0 view .LVU471
 1703 010a 10F0100F 		tst	r0, #16
 1704 010e 09D1     		bne	.L160
 565:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 566:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn, Sn_IR_SENDOK);
 567:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 568:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 569:ioLibrary_Driver-master/Ethernet/socket.c ****       //M:20131104
 570:ioLibrary_Driver-master/Ethernet/socket.c ****       //else if(tmp & Sn_IR_TIMEOUT) return SOCKERR_TIMEOUT;
 571:ioLibrary_Driver-master/Ethernet/socket.c ****       else if(tmp & Sn_IR_TIMEOUT)
 1705              		.loc 1 571 12 is_stmt 1 view .LVU472
 1706              		.loc 1 571 14 is_stmt 0 view .LVU473
 1707 0110 10F0080F 		tst	r0, #8
 1708 0114 F4D0     		beq	.L148
 572:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 573:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn, Sn_IR_TIMEOUT);
 1709              		.loc 1 573 10 is_stmt 1 view .LVU474
 1710 0116 0821     		movs	r1, #8
 1711 0118 2046     		mov	r0, r4
 1712              	.LVL172:
 1713              		.loc 1 573 10 is_stmt 0 view .LVU475
 1714 011a FFF7FEFF 		bl	WIZCHIP_WRITE
 1715              	.LVL173:
 574:ioLibrary_Driver-master/Ethernet/socket.c ****          //M20150409 : Fixed the lost of sign bits by type casting.
 575:ioLibrary_Driver-master/Ethernet/socket.c ****          //len = (uint16_t)SOCKERR_TIMEOUT;
 576:ioLibrary_Driver-master/Ethernet/socket.c ****          //break;
 577:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ < 5500   //M20150401 : for WIZCHIP Errata #4, #5 (ARP errata)
 578:ioLibrary_Driver-master/Ethernet/socket.c ****             if(taddr) setSUBR((uint8_t*)&taddr);
 579:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 580:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 1716              		.loc 1 580 10 is_stmt 1 view .LVU476
 1717              		.loc 1 580 17 is_stmt 0 view .LVU477
 1718 011e 6FF00C00 		mvn	r0, #12
 1719 0122 16E0     		b	.L138
 1720              	.LVL174:
 1721              	.L160:
 566:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 1722              		.loc 1 566 10 is_stmt 1 view .LVU478
 1723 0124 1021     		movs	r1, #16
 1724 0126 2046     		mov	r0, r4
 1725              	.LVL175:
 566:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 1726              		.loc 1 566 10 is_stmt 0 view .LVU479
 1727 0128 FFF7FEFF 		bl	WIZCHIP_WRITE
 1728              	.LVL176:
 567:ioLibrary_Driver-master/Ethernet/socket.c ****       }
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 45


 1729              		.loc 1 567 10 is_stmt 1 view .LVU480
 581:ioLibrary_Driver-master/Ethernet/socket.c ****       }
 582:ioLibrary_Driver-master/Ethernet/socket.c ****       ////////////
 583:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 584:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ < 5500   //M20150401 : for WIZCHIP Errata #4, #5 (ARP errata)
 585:ioLibrary_Driver-master/Ethernet/socket.c ****       if(taddr) setSUBR((uint8_t*)&taddr);
 586:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 587:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150409 : Explicit Type Casting
 588:ioLibrary_Driver-master/Ethernet/socket.c ****    //return len;
 589:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int32_t)len;
 1730              		.loc 1 589 4 view .LVU481
 1731              		.loc 1 589 11 is_stmt 0 view .LVU482
 1732 012c 3046     		mov	r0, r6
 1733 012e 10E0     		b	.L138
 1734              	.LVL177:
 1735              	.L149:
 496:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(getSn_MR(sn) & 0x0F)
 1736              		.loc 1 496 4 view .LVU483
 1737 0130 4FF0FF30 		mov	r0, #-1
 1738              	.LVL178:
 496:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(getSn_MR(sn) & 0x0F)
 1739              		.loc 1 496 4 view .LVU484
 1740 0134 0DE0     		b	.L138
 1741              	.LVL179:
 1742              	.L150:
 507:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 1743              		.loc 1 507 17 view .LVU485
 1744 0136 6FF00400 		mvn	r0, #4
 1745 013a 0AE0     		b	.L138
 1746              	.L151:
 509:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20140501 : For avoiding fatal error on memory align mismatched
 1747              		.loc 1 509 4 view .LVU486
 1748 013c 6FF00D00 		mvn	r0, #13
 1749 0140 07E0     		b	.L138
 1750              	.LVL180:
 1751              	.L153:
 522:ioLibrary_Driver-master/Ethernet/socket.c ****    tmp = getSn_SR(sn);
 1752              		.loc 1 522 77 view .LVU487
 1753 0142 6FF00A00 		mvn	r0, #10
 1754 0146 04E0     		b	.L138
 1755              	.LVL181:
 1756              	.L154:
 525:ioLibrary_Driver-master/Ethernet/socket.c **** //#else
 1757              		.loc 1 525 80 view .LVU488
 1758 0148 6FF00600 		mvn	r0, #6
 1759              	.LVL182:
 525:ioLibrary_Driver-master/Ethernet/socket.c **** //#else
 1760              		.loc 1 525 80 view .LVU489
 1761 014c 01E0     		b	.L138
 1762              	.LVL183:
 1763              	.L155:
 537:ioLibrary_Driver-master/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 1764              		.loc 1 537 46 view .LVU490
 1765 014e 6FF00300 		mvn	r0, #3
 1766              	.LVL184:
 1767              	.L138:
 590:ioLibrary_Driver-master/Ethernet/socket.c **** }
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 46


 1768              		.loc 1 590 1 view .LVU491
 1769 0152 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1770              	.LVL185:
 1771              	.L162:
 1772              		.loc 1 590 1 view .LVU492
 1773 0156 00BF     		.align	2
 1774              	.L161:
 1775 0158 00000000 		.word	sock_io_mode
 1776              		.cfi_endproc
 1777              	.LFE7:
 1779              		.section	.text.recvfrom,"ax",%progbits
 1780              		.align	1
 1781              		.global	recvfrom
 1782              		.syntax unified
 1783              		.thumb
 1784              		.thumb_func
 1786              	recvfrom:
 1787              	.LVL186:
 1788              	.LFB8:
 591:ioLibrary_Driver-master/Ethernet/socket.c **** 
 592:ioLibrary_Driver-master/Ethernet/socket.c **** 
 593:ioLibrary_Driver-master/Ethernet/socket.c **** 
 594:ioLibrary_Driver-master/Ethernet/socket.c **** int32_t recvfrom(uint8_t sn, uint8_t * buf, uint16_t len, uint8_t * addr, uint16_t *port)
 595:ioLibrary_Driver-master/Ethernet/socket.c **** {
 1789              		.loc 1 595 1 is_stmt 1 view -0
 1790              		.cfi_startproc
 1791              		@ args = 4, pretend = 0, frame = 8
 1792              		@ frame_needed = 0, uses_anonymous_args = 0
 596:ioLibrary_Driver-master/Ethernet/socket.c **** //M20150601 : For W5300   
 597:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300
 598:ioLibrary_Driver-master/Ethernet/socket.c ****    uint16_t mr;
 599:ioLibrary_Driver-master/Ethernet/socket.c ****    uint16_t mr1;
 600:ioLibrary_Driver-master/Ethernet/socket.c **** #else   
 601:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t  mr;
 1793              		.loc 1 601 4 view .LVU494
 602:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 603:ioLibrary_Driver-master/Ethernet/socket.c **** //   
 604:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t  head[8];
 1794              		.loc 1 604 4 view .LVU495
 605:ioLibrary_Driver-master/Ethernet/socket.c **** 	uint16_t pack_len=0;
 1795              		.loc 1 605 2 view .LVU496
 606:ioLibrary_Driver-master/Ethernet/socket.c **** 
 607:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 1796              		.loc 1 607 4 view .LVU497
 1797              		.loc 1 607 4 view .LVU498
 1798 0000 0828     		cmp	r0, #8
 1799 0002 00F22D81 		bhi	.L185
 595:ioLibrary_Driver-master/Ethernet/socket.c **** //M20150601 : For W5300   
 1800              		.loc 1 595 1 is_stmt 0 discriminator 2 view .LVU499
 1801 0006 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1802              	.LCFI23:
 1803              		.cfi_def_cfa_offset 32
 1804              		.cfi_offset 4, -32
 1805              		.cfi_offset 5, -28
 1806              		.cfi_offset 6, -24
 1807              		.cfi_offset 7, -20
 1808              		.cfi_offset 8, -16
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 47


 1809              		.cfi_offset 9, -12
 1810              		.cfi_offset 10, -8
 1811              		.cfi_offset 14, -4
 1812 000a 82B0     		sub	sp, sp, #8
 1813              	.LCFI24:
 1814              		.cfi_def_cfa_offset 40
 1815 000c 0546     		mov	r5, r0
 1816 000e 8946     		mov	r9, r1
 1817 0010 9046     		mov	r8, r2
 1818 0012 9A46     		mov	r10, r3
 1819              		.loc 1 607 4 is_stmt 1 discriminator 2 view .LVU500
 1820              		.loc 1 607 19 discriminator 2 view .LVU501
 608:ioLibrary_Driver-master/Ethernet/socket.c ****    //CHECK_SOCKMODE(Sn_MR_UDP);
 609:ioLibrary_Driver-master/Ethernet/socket.c **** //A20150601
 610:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300
 611:ioLibrary_Driver-master/Ethernet/socket.c ****    mr1 = getMR();
 612:ioLibrary_Driver-master/Ethernet/socket.c **** #endif   
 613:ioLibrary_Driver-master/Ethernet/socket.c **** 
 614:ioLibrary_Driver-master/Ethernet/socket.c ****    switch((mr=getSn_MR(sn)) & 0x0F)
 1821              		.loc 1 614 4 discriminator 2 view .LVU502
 1822              		.loc 1 614 15 is_stmt 0 discriminator 2 view .LVU503
 1823 0014 8600     		lsls	r6, r0, #2
 1824 0016 0136     		adds	r6, r6, #1
 1825 0018 F600     		lsls	r6, r6, #3
 1826 001a 3046     		mov	r0, r6
 1827              	.LVL187:
 1828              		.loc 1 614 15 discriminator 2 view .LVU504
 1829 001c FFF7FEFF 		bl	WIZCHIP_READ
 1830              	.LVL188:
 1831              		.loc 1 614 15 discriminator 2 view .LVU505
 1832 0020 0746     		mov	r7, r0
 1833              	.LVL189:
 1834              		.loc 1 614 4 discriminator 2 view .LVU506
 1835 0022 00F00F03 		and	r3, r0, #15
 1836 0026 023B     		subs	r3, r3, #2
 1837 0028 022B     		cmp	r3, #2
 1838 002a 00F21C81 		bhi	.L186
 615:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 616:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_UDP:
 617:ioLibrary_Driver-master/Ethernet/socket.c **** 	  case Sn_MR_IPRAW:
 618:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_MACRAW:
 619:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 1839              		.loc 1 619 10 is_stmt 1 view .LVU507
 620:ioLibrary_Driver-master/Ethernet/socket.c ****    #if ( _WIZCHIP_ < 5200 )         
 621:ioLibrary_Driver-master/Ethernet/socket.c ****       case Sn_MR_PPPoE:
 622:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 623:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 624:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
 625:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKMODE;
 626:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 627:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1840              		.loc 1 627 4 view .LVU508
 1841              		.loc 1 627 4 view .LVU509
 1842 002e B8F1000F 		cmp	r8, #0
 1843 0032 00F01B81 		beq	.L187
 1844              		.loc 1 627 4 discriminator 2 view .LVU510
 1845              		.loc 1 627 20 discriminator 2 view .LVU511
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 48


 628:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_remained_size[sn] == 0)
 1846              		.loc 1 628 4 discriminator 2 view .LVU512
 1847              		.loc 1 628 25 is_stmt 0 discriminator 2 view .LVU513
 1848 0036 904B     		ldr	r3, .L200
 1849 0038 33F81530 		ldrh	r3, [r3, r5, lsl #1]
 1850              		.loc 1 628 6 discriminator 2 view .LVU514
 1851 003c A3B1     		cbz	r3, .L167
 605:ioLibrary_Driver-master/Ethernet/socket.c **** 
 1852              		.loc 1 605 11 view .LVU515
 1853 003e 0024     		movs	r4, #0
 1854              	.LVL190:
 1855              	.L165:
 629:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 630:ioLibrary_Driver-master/Ethernet/socket.c ****       while(1)
 631:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 632:ioLibrary_Driver-master/Ethernet/socket.c ****          pack_len = getSn_RX_RSR(sn);
 633:ioLibrary_Driver-master/Ethernet/socket.c ****          if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 634:ioLibrary_Driver-master/Ethernet/socket.c ****          if( (sock_io_mode & (1<<sn)) && (pack_len == 0) ) return SOCK_BUSY;
 635:ioLibrary_Driver-master/Ethernet/socket.c ****          if(pack_len != 0) break;
 636:ioLibrary_Driver-master/Ethernet/socket.c ****       };
 1856              		.loc 1 636 8 is_stmt 1 view .LVU516
 637:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 638:ioLibrary_Driver-master/Ethernet/socket.c **** //D20150601 : Move it to bottom
 639:ioLibrary_Driver-master/Ethernet/socket.c **** // sock_pack_info[sn] = PACK_COMPLETED;
 640:ioLibrary_Driver-master/Ethernet/socket.c **** 	switch (mr & 0x07)
 1857              		.loc 1 640 2 view .LVU517
 1858 0040 07F00707 		and	r7, r7, #7
 1859 0044 032F     		cmp	r7, #3
 1860 0046 00F0C880 		beq	.L168
 1861 004a 042F     		cmp	r7, #4
 1862 004c 00F08980 		beq	.L169
 1863 0050 022F     		cmp	r7, #2
 1864 0052 20D0     		beq	.L195
 641:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 642:ioLibrary_Driver-master/Ethernet/socket.c **** 	   case Sn_MR_UDP :
 643:ioLibrary_Driver-master/Ethernet/socket.c **** 	      if(sock_remained_size[sn] == 0)
 644:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 645:ioLibrary_Driver-master/Ethernet/socket.c ****    			wiz_recv_data(sn, head, 8);
 646:ioLibrary_Driver-master/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 647:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 648:ioLibrary_Driver-master/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 649:ioLibrary_Driver-master/Ethernet/socket.c ****    	   //A20150601 : For W5300
 650:ioLibrary_Driver-master/Ethernet/socket.c ****    		#if _WIZCHIP_ == 5300
 651:ioLibrary_Driver-master/Ethernet/socket.c ****    		   if(mr1 & MR_FS)
 652:ioLibrary_Driver-master/Ethernet/socket.c ****    		   {
 653:ioLibrary_Driver-master/Ethernet/socket.c ****    		      addr[0] = head[1];
 654:ioLibrary_Driver-master/Ethernet/socket.c ****    		      addr[1] = head[0];
 655:ioLibrary_Driver-master/Ethernet/socket.c ****    		      addr[2] = head[3];
 656:ioLibrary_Driver-master/Ethernet/socket.c ****    		      addr[3] = head[2];
 657:ioLibrary_Driver-master/Ethernet/socket.c ****    		      *port = head[5];
 658:ioLibrary_Driver-master/Ethernet/socket.c ****    		      *port = (*port << 8) + head[4];
 659:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = head[7];
 660:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = (sock_remained_size[sn] << 8) + head[6];
 661:ioLibrary_Driver-master/Ethernet/socket.c ****    		   }
 662:ioLibrary_Driver-master/Ethernet/socket.c ****             else
 663:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 664:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 49


 665:ioLibrary_Driver-master/Ethernet/socket.c ****                addr[0] = head[0];
 666:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[1] = head[1];
 667:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[2] = head[2];
 668:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[3] = head[3];
 669:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = head[4];
 670:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = (*port << 8) + head[5];
 671:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = head[6];
 672:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = (sock_remained_size[sn] << 8) + head[7];
 673:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ == 5300
 674:ioLibrary_Driver-master/Ethernet/socket.c ****             }
 675:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 676:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 677:ioLibrary_Driver-master/Ethernet/socket.c ****    	   }
 678:ioLibrary_Driver-master/Ethernet/socket.c **** 			if(len < sock_remained_size[sn]) pack_len = len;
 679:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 680:ioLibrary_Driver-master/Ethernet/socket.c **** 			//A20150601 : For W5300
 681:ioLibrary_Driver-master/Ethernet/socket.c **** 			len = pack_len;
 682:ioLibrary_Driver-master/Ethernet/socket.c **** 			#if _WIZCHIP_ == 5300
 683:ioLibrary_Driver-master/Ethernet/socket.c **** 			   if(sock_pack_info[sn] & PACK_FIFOBYTE)
 684:ioLibrary_Driver-master/Ethernet/socket.c **** 			   {
 685:ioLibrary_Driver-master/Ethernet/socket.c **** 			      *buf++ = sock_remained_byte[sn];
 686:ioLibrary_Driver-master/Ethernet/socket.c **** 			      pack_len -= 1;
 687:ioLibrary_Driver-master/Ethernet/socket.c **** 			      sock_remained_size[sn] -= 1;
 688:ioLibrary_Driver-master/Ethernet/socket.c **** 			      sock_pack_info[sn] &= ~PACK_FIFOBYTE;
 689:ioLibrary_Driver-master/Ethernet/socket.c **** 			   }
 690:ioLibrary_Driver-master/Ethernet/socket.c **** 			#endif
 691:ioLibrary_Driver-master/Ethernet/socket.c **** 			//
 692:ioLibrary_Driver-master/Ethernet/socket.c **** 			// Need to packet length check (default 1472)
 693:ioLibrary_Driver-master/Ethernet/socket.c **** 			//
 694:ioLibrary_Driver-master/Ethernet/socket.c ****    		wiz_recv_data(sn, buf, pack_len); // data copy.
 695:ioLibrary_Driver-master/Ethernet/socket.c **** 			break;
 696:ioLibrary_Driver-master/Ethernet/socket.c **** 	   case Sn_MR_MACRAW :
 697:ioLibrary_Driver-master/Ethernet/socket.c **** 	      if(sock_remained_size[sn] == 0)
 698:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 699:ioLibrary_Driver-master/Ethernet/socket.c ****    			wiz_recv_data(sn, head, 2);
 700:ioLibrary_Driver-master/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 701:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 702:ioLibrary_Driver-master/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 703:ioLibrary_Driver-master/Ethernet/socket.c ****     			sock_remained_size[sn] = head[0];
 704:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = (sock_remained_size[sn] <<8) + head[1] -2;
 705:ioLibrary_Driver-master/Ethernet/socket.c ****    			#if _WIZCHIP_ == W5300
 706:ioLibrary_Driver-master/Ethernet/socket.c ****    			if(sock_remained_size[sn] & 0x01)
 707:ioLibrary_Driver-master/Ethernet/socket.c ****    				sock_remained_size[sn] = sock_remained_size[sn] + 1 - 4;
 708:ioLibrary_Driver-master/Ethernet/socket.c ****    			else
 709:ioLibrary_Driver-master/Ethernet/socket.c ****    				sock_remained_size[sn] -= 4;
 710:ioLibrary_Driver-master/Ethernet/socket.c **** 			#endif
 711:ioLibrary_Driver-master/Ethernet/socket.c ****    			if(sock_remained_size[sn] > 1514) 
 712:ioLibrary_Driver-master/Ethernet/socket.c ****    			{
 713:ioLibrary_Driver-master/Ethernet/socket.c ****    			   close(sn);
 714:ioLibrary_Driver-master/Ethernet/socket.c ****    			   return SOCKFATAL_PACKLEN;
 715:ioLibrary_Driver-master/Ethernet/socket.c ****    			}
 716:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 717:ioLibrary_Driver-master/Ethernet/socket.c ****    	   }
 718:ioLibrary_Driver-master/Ethernet/socket.c **** 			if(len < sock_remained_size[sn]) pack_len = len;
 719:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 720:ioLibrary_Driver-master/Ethernet/socket.c **** 			wiz_recv_data(sn,buf,pack_len);
 721:ioLibrary_Driver-master/Ethernet/socket.c **** 		   break;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 50


 722:ioLibrary_Driver-master/Ethernet/socket.c ****    //#if ( _WIZCHIP_ < 5200 )
 723:ioLibrary_Driver-master/Ethernet/socket.c **** 		case Sn_MR_IPRAW:
 724:ioLibrary_Driver-master/Ethernet/socket.c **** 		   if(sock_remained_size[sn] == 0)
 725:ioLibrary_Driver-master/Ethernet/socket.c **** 		   {
 726:ioLibrary_Driver-master/Ethernet/socket.c ****    			wiz_recv_data(sn, head, 6);
 727:ioLibrary_Driver-master/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 728:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 729:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[0] = head[0];
 730:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[1] = head[1];
 731:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[2] = head[2];
 732:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[3] = head[3];
 733:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = head[4];
 734:ioLibrary_Driver-master/Ethernet/socket.c ****    			//M20150401 : For Typing Error
 735:ioLibrary_Driver-master/Ethernet/socket.c ****    			//sock_remaiend_size[sn] = (sock_remained_size[sn] << 8) + head[5];
 736:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = (sock_remained_size[sn] << 8) + head[5];
 737:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 738:ioLibrary_Driver-master/Ethernet/socket.c ****          }
 739:ioLibrary_Driver-master/Ethernet/socket.c **** 			//
 740:ioLibrary_Driver-master/Ethernet/socket.c **** 			// Need to packet length check
 741:ioLibrary_Driver-master/Ethernet/socket.c **** 			//
 742:ioLibrary_Driver-master/Ethernet/socket.c **** 			if(len < sock_remained_size[sn]) pack_len = len;
 743:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 744:ioLibrary_Driver-master/Ethernet/socket.c ****    		wiz_recv_data(sn, buf, pack_len); // data copy.
 745:ioLibrary_Driver-master/Ethernet/socket.c **** 			break;
 746:ioLibrary_Driver-master/Ethernet/socket.c ****    //#endif
 747:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
 748:ioLibrary_Driver-master/Ethernet/socket.c ****          wiz_recv_ignore(sn, pack_len); // data copy.
 1865              		.loc 1 748 10 view .LVU518
 1866 0054 2146     		mov	r1, r4
 1867 0056 2846     		mov	r0, r5
 1868 0058 FFF7FEFF 		bl	wiz_recv_ignore
 1869              	.LVL191:
 749:ioLibrary_Driver-master/Ethernet/socket.c ****          sock_remained_size[sn] = pack_len;
 1870              		.loc 1 749 10 view .LVU519
 1871              		.loc 1 749 33 is_stmt 0 view .LVU520
 1872 005c 864B     		ldr	r3, .L200
 1873 005e 23F81540 		strh	r4, [r3, r5, lsl #1]	@ movhi
 750:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 1874              		.loc 1 750 10 is_stmt 1 view .LVU521
 1875 0062 27E0     		b	.L174
 1876              	.L166:
 635:ioLibrary_Driver-master/Ethernet/socket.c ****       };
 1877              		.loc 1 635 10 view .LVU522
 635:ioLibrary_Driver-master/Ethernet/socket.c ****       };
 1878              		.loc 1 635 12 is_stmt 0 view .LVU523
 1879 0064 002C     		cmp	r4, #0
 1880 0066 EBD1     		bne	.L165
 1881              	.LVL192:
 1882              	.L167:
 630:ioLibrary_Driver-master/Ethernet/socket.c ****       {
 1883              		.loc 1 630 7 is_stmt 1 view .LVU524
 632:ioLibrary_Driver-master/Ethernet/socket.c ****          if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 1884              		.loc 1 632 10 view .LVU525
 632:ioLibrary_Driver-master/Ethernet/socket.c ****          if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 1885              		.loc 1 632 21 is_stmt 0 view .LVU526
 1886 0068 2846     		mov	r0, r5
 1887 006a FFF7FEFF 		bl	getSn_RX_RSR
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 51


 1888              	.LVL193:
 1889 006e 0446     		mov	r4, r0
 1890              	.LVL194:
 633:ioLibrary_Driver-master/Ethernet/socket.c ****          if( (sock_io_mode & (1<<sn)) && (pack_len == 0) ) return SOCK_BUSY;
 1891              		.loc 1 633 10 is_stmt 1 view .LVU527
 633:ioLibrary_Driver-master/Ethernet/socket.c ****          if( (sock_io_mode & (1<<sn)) && (pack_len == 0) ) return SOCK_BUSY;
 1892              		.loc 1 633 13 is_stmt 0 view .LVU528
 1893 0070 06F54070 		add	r0, r6, #768
 1894 0074 FFF7FEFF 		bl	WIZCHIP_READ
 1895              	.LVL195:
 633:ioLibrary_Driver-master/Ethernet/socket.c ****          if( (sock_io_mode & (1<<sn)) && (pack_len == 0) ) return SOCK_BUSY;
 1896              		.loc 1 633 12 view .LVU529
 1897 0078 0028     		cmp	r0, #0
 1898 007a 00F0FA80 		beq	.L189
 634:ioLibrary_Driver-master/Ethernet/socket.c ****          if(pack_len != 0) break;
 1899              		.loc 1 634 10 is_stmt 1 view .LVU530
 634:ioLibrary_Driver-master/Ethernet/socket.c ****          if(pack_len != 0) break;
 1900              		.loc 1 634 14 is_stmt 0 view .LVU531
 1901 007e 7F4B     		ldr	r3, .L200+4
 1902 0080 B3F800C0 		ldrh	ip, [r3]
 1903 0084 4CFA05FC 		asr	ip, ip, r5
 634:ioLibrary_Driver-master/Ethernet/socket.c ****          if(pack_len != 0) break;
 1904              		.loc 1 634 12 view .LVU532
 1905 0088 1CF0010F 		tst	ip, #1
 1906 008c EAD0     		beq	.L166
 634:ioLibrary_Driver-master/Ethernet/socket.c ****          if(pack_len != 0) break;
 1907              		.loc 1 634 39 discriminator 1 view .LVU533
 1908 008e 002C     		cmp	r4, #0
 1909 0090 E8D1     		bne	.L166
 634:ioLibrary_Driver-master/Ethernet/socket.c ****          if(pack_len != 0) break;
 1910              		.loc 1 634 67 view .LVU534
 1911 0092 0020     		movs	r0, #0
 1912 0094 29E0     		b	.L163
 1913              	.L195:
 643:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 1914              		.loc 1 643 8 is_stmt 1 view .LVU535
 643:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 1915              		.loc 1 643 29 is_stmt 0 view .LVU536
 1916 0096 784B     		ldr	r3, .L200
 1917 0098 33F81530 		ldrh	r3, [r3, r5, lsl #1]
 643:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 1918              		.loc 1 643 10 view .LVU537
 1919 009c 43B3     		cbz	r3, .L196
 1920              	.LVL196:
 1921              	.L171:
 678:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 1922              		.loc 1 678 4 is_stmt 1 view .LVU538
 678:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 1923              		.loc 1 678 31 is_stmt 0 view .LVU539
 1924 009e 764B     		ldr	r3, .L200
 1925 00a0 33F81540 		ldrh	r4, [r3, r5, lsl #1]
 678:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 1926              		.loc 1 678 6 view .LVU540
 1927 00a4 4445     		cmp	r4, r8
 1928 00a6 00D9     		bls	.L173
 678:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 1929              		.loc 1 678 46 view .LVU541
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 52


 1930 00a8 4446     		mov	r4, r8
 1931              	.L173:
 1932              	.LVL197:
 681:ioLibrary_Driver-master/Ethernet/socket.c **** 			#if _WIZCHIP_ == 5300
 1933              		.loc 1 681 4 is_stmt 1 view .LVU542
 694:ioLibrary_Driver-master/Ethernet/socket.c **** 			break;
 1934              		.loc 1 694 6 view .LVU543
 1935 00aa 2246     		mov	r2, r4
 1936 00ac 4946     		mov	r1, r9
 1937 00ae 2846     		mov	r0, r5
 1938 00b0 FFF7FEFF 		bl	wiz_recv_data
 1939              	.LVL198:
 695:ioLibrary_Driver-master/Ethernet/socket.c **** 	   case Sn_MR_MACRAW :
 1940              		.loc 1 695 4 view .LVU544
 1941              	.L174:
 751:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 752:ioLibrary_Driver-master/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_RECV);
 1942              		.loc 1 752 2 view .LVU545
 1943 00b4 06F58076 		add	r6, r6, #256
 1944 00b8 4021     		movs	r1, #64
 1945 00ba 3046     		mov	r0, r6
 1946 00bc FFF7FEFF 		bl	WIZCHIP_WRITE
 1947              	.LVL199:
 753:ioLibrary_Driver-master/Ethernet/socket.c **** 	/* wait to process the command... */
 754:ioLibrary_Driver-master/Ethernet/socket.c **** 	while(getSn_CR(sn)) ;
 1948              		.loc 1 754 2 view .LVU546
 1949              	.L182:
 1950              		.loc 1 754 8 discriminator 1 view .LVU547
 1951 00c0 3046     		mov	r0, r6
 1952 00c2 FFF7FEFF 		bl	WIZCHIP_READ
 1953              	.LVL200:
 1954 00c6 0028     		cmp	r0, #0
 1955 00c8 FAD1     		bne	.L182
 755:ioLibrary_Driver-master/Ethernet/socket.c **** 	sock_remained_size[sn] -= pack_len;
 1956              		.loc 1 755 2 view .LVU548
 1957              		.loc 1 755 20 is_stmt 0 view .LVU549
 1958 00ca 6B4A     		ldr	r2, .L200
 1959 00cc 32F81530 		ldrh	r3, [r2, r5, lsl #1]
 1960              		.loc 1 755 25 view .LVU550
 1961 00d0 1B1B     		subs	r3, r3, r4
 1962 00d2 9BB2     		uxth	r3, r3
 1963 00d4 22F81530 		strh	r3, [r2, r5, lsl #1]	@ movhi
 756:ioLibrary_Driver-master/Ethernet/socket.c **** 	//M20150601 : 
 757:ioLibrary_Driver-master/Ethernet/socket.c **** 	//if(sock_remained_size[sn] != 0) sock_pack_info[sn] |= 0x01;
 758:ioLibrary_Driver-master/Ethernet/socket.c **** 	if(sock_remained_size[sn] != 0)
 1964              		.loc 1 758 2 is_stmt 1 view .LVU551
 1965              		.loc 1 758 4 is_stmt 0 view .LVU552
 1966 00d8 002B     		cmp	r3, #0
 1967 00da 00F0BD80 		beq	.L183
 759:ioLibrary_Driver-master/Ethernet/socket.c **** 	{
 760:ioLibrary_Driver-master/Ethernet/socket.c **** 	   sock_pack_info[sn] |= PACK_REMAINED;
 1968              		.loc 1 760 5 is_stmt 1 view .LVU553
 1969              		.loc 1 760 19 is_stmt 0 view .LVU554
 1970 00de 684A     		ldr	r2, .L200+8
 1971 00e0 535D     		ldrb	r3, [r2, r5]	@ zero_extendqisi2
 1972              		.loc 1 760 24 view .LVU555
 1973 00e2 43F00103 		orr	r3, r3, #1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 53


 1974 00e6 5355     		strb	r3, [r2, r5]
 1975              	.L184:
 761:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ == 5300	   
 762:ioLibrary_Driver-master/Ethernet/socket.c **** 	   if(pack_len & 0x01) sock_pack_info[sn] |= PACK_FIFOBYTE;
 763:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif	      
 764:ioLibrary_Driver-master/Ethernet/socket.c **** 	}
 765:ioLibrary_Driver-master/Ethernet/socket.c **** 	else sock_pack_info[sn] = PACK_COMPLETED;
 766:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300	   
 767:ioLibrary_Driver-master/Ethernet/socket.c ****    pack_len = len;
 768:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 769:ioLibrary_Driver-master/Ethernet/socket.c ****    //
 770:ioLibrary_Driver-master/Ethernet/socket.c ****    //M20150409 : Explicit Type Casting
 771:ioLibrary_Driver-master/Ethernet/socket.c ****    //return pack_len;
 772:ioLibrary_Driver-master/Ethernet/socket.c ****    return (int32_t)pack_len;
 1976              		.loc 1 772 4 is_stmt 1 view .LVU556
 1977              		.loc 1 772 11 is_stmt 0 view .LVU557
 1978 00e8 2046     		mov	r0, r4
 1979              	.LVL201:
 1980              	.L163:
 773:ioLibrary_Driver-master/Ethernet/socket.c **** }
 1981              		.loc 1 773 1 view .LVU558
 1982 00ea 02B0     		add	sp, sp, #8
 1983              	.LCFI25:
 1984              		.cfi_remember_state
 1985              		.cfi_def_cfa_offset 32
 1986              		@ sp needed
 1987 00ec BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1988              	.LVL202:
 1989              	.L196:
 1990              	.LCFI26:
 1991              		.cfi_restore_state
 645:ioLibrary_Driver-master/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 1992              		.loc 1 645 7 is_stmt 1 view .LVU559
 1993 00f0 0822     		movs	r2, #8
 1994 00f2 6946     		mov	r1, sp
 1995 00f4 2846     		mov	r0, r5
 1996 00f6 FFF7FEFF 		bl	wiz_recv_data
 1997              	.LVL203:
 646:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 1998              		.loc 1 646 7 view .LVU560
 1999 00fa 06F58074 		add	r4, r6, #256
 2000              	.LVL204:
 646:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 2001              		.loc 1 646 7 is_stmt 0 view .LVU561
 2002 00fe 4021     		movs	r1, #64
 2003 0100 2046     		mov	r0, r4
 2004 0102 FFF7FEFF 		bl	WIZCHIP_WRITE
 2005              	.LVL205:
 647:ioLibrary_Driver-master/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 2006              		.loc 1 647 7 is_stmt 1 view .LVU562
 2007              	.L172:
 647:ioLibrary_Driver-master/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 2008              		.loc 1 647 13 discriminator 1 view .LVU563
 2009 0106 2046     		mov	r0, r4
 2010 0108 FFF7FEFF 		bl	WIZCHIP_READ
 2011              	.LVL206:
 2012 010c 0028     		cmp	r0, #0
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 54


 2013 010e FAD1     		bne	.L172
 665:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[1] = head[1];
 2014              		.loc 1 665 16 view .LVU564
 665:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[1] = head[1];
 2015              		.loc 1 665 30 is_stmt 0 view .LVU565
 2016 0110 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 665:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[1] = head[1];
 2017              		.loc 1 665 24 view .LVU566
 2018 0114 8AF80030 		strb	r3, [r10]
 666:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[2] = head[2];
 2019              		.loc 1 666 10 is_stmt 1 view .LVU567
 666:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[2] = head[2];
 2020              		.loc 1 666 24 is_stmt 0 view .LVU568
 2021 0118 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 666:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[2] = head[2];
 2022              		.loc 1 666 18 view .LVU569
 2023 011c 8AF80130 		strb	r3, [r10, #1]
 667:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[3] = head[3];
 2024              		.loc 1 667 10 is_stmt 1 view .LVU570
 667:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[3] = head[3];
 2025              		.loc 1 667 24 is_stmt 0 view .LVU571
 2026 0120 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 667:ioLibrary_Driver-master/Ethernet/socket.c ****       			addr[3] = head[3];
 2027              		.loc 1 667 18 view .LVU572
 2028 0124 8AF80230 		strb	r3, [r10, #2]
 668:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = head[4];
 2029              		.loc 1 668 10 is_stmt 1 view .LVU573
 668:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = head[4];
 2030              		.loc 1 668 24 is_stmt 0 view .LVU574
 2031 0128 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 668:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = head[4];
 2032              		.loc 1 668 18 view .LVU575
 2033 012c 8AF80330 		strb	r3, [r10, #3]
 669:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = (*port << 8) + head[5];
 2034              		.loc 1 669 10 is_stmt 1 view .LVU576
 669:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = (*port << 8) + head[5];
 2035              		.loc 1 669 22 is_stmt 0 view .LVU577
 2036 0130 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 669:ioLibrary_Driver-master/Ethernet/socket.c ****       			*port = (*port << 8) + head[5];
 2037              		.loc 1 669 16 view .LVU578
 2038 0134 0A9B     		ldr	r3, [sp, #40]
 2039 0136 1A80     		strh	r2, [r3]	@ movhi
 670:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = head[6];
 2040              		.loc 1 670 10 is_stmt 1 view .LVU579
 670:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = head[6];
 2041              		.loc 1 670 37 is_stmt 0 view .LVU580
 2042 0138 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 670:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = head[6];
 2043              		.loc 1 670 31 view .LVU581
 2044 013c 03EB0223 		add	r3, r3, r2, lsl #8
 670:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = head[6];
 2045              		.loc 1 670 16 view .LVU582
 2046 0140 0A9A     		ldr	r2, [sp, #40]
 2047 0142 1380     		strh	r3, [r2]	@ movhi
 671:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = (sock_remained_size[sn] << 8) + head[7];
 2048              		.loc 1 671 10 is_stmt 1 view .LVU583
 671:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = (sock_remained_size[sn] << 8) + head[7];
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 55


 2049              		.loc 1 671 39 is_stmt 0 view .LVU584
 2050 0144 9DF80610 		ldrb	r1, [sp, #6]	@ zero_extendqisi2
 671:ioLibrary_Driver-master/Ethernet/socket.c ****       			sock_remained_size[sn] = (sock_remained_size[sn] << 8) + head[7];
 2051              		.loc 1 671 33 view .LVU585
 2052 0148 4B4A     		ldr	r2, .L200
 2053 014a 22F81510 		strh	r1, [r2, r5, lsl #1]	@ movhi
 672:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ == 5300
 2054              		.loc 1 672 10 is_stmt 1 view .LVU586
 672:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ == 5300
 2055              		.loc 1 672 71 is_stmt 0 view .LVU587
 2056 014e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 672:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ == 5300
 2057              		.loc 1 672 65 view .LVU588
 2058 0152 03EB0123 		add	r3, r3, r1, lsl #8
 672:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ == 5300
 2059              		.loc 1 672 33 view .LVU589
 2060 0156 22F81530 		strh	r3, [r2, r5, lsl #1]	@ movhi
 676:ioLibrary_Driver-master/Ethernet/socket.c ****    	   }
 2061              		.loc 1 676 7 is_stmt 1 view .LVU590
 676:ioLibrary_Driver-master/Ethernet/socket.c ****    	   }
 2062              		.loc 1 676 26 is_stmt 0 view .LVU591
 2063 015a 494B     		ldr	r3, .L200+8
 2064 015c 8022     		movs	r2, #128
 2065 015e 5A55     		strb	r2, [r3, r5]
 2066 0160 9DE7     		b	.L171
 2067              	.LVL207:
 2068              	.L169:
 697:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 2069              		.loc 1 697 8 is_stmt 1 view .LVU592
 697:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 2070              		.loc 1 697 29 is_stmt 0 view .LVU593
 2071 0162 454B     		ldr	r3, .L200
 2072 0164 33F81530 		ldrh	r3, [r3, r5, lsl #1]
 697:ioLibrary_Driver-master/Ethernet/socket.c **** 	      {
 2073              		.loc 1 697 10 view .LVU594
 2074 0168 5BB1     		cbz	r3, .L197
 2075              	.LVL208:
 2076              	.L175:
 718:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2077              		.loc 1 718 4 is_stmt 1 view .LVU595
 718:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2078              		.loc 1 718 31 is_stmt 0 view .LVU596
 2079 016a 434B     		ldr	r3, .L200
 2080 016c 33F81540 		ldrh	r4, [r3, r5, lsl #1]
 718:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2081              		.loc 1 718 6 view .LVU597
 2082 0170 4445     		cmp	r4, r8
 2083 0172 00D9     		bls	.L178
 718:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2084              		.loc 1 718 46 view .LVU598
 2085 0174 4446     		mov	r4, r8
 2086              	.L178:
 2087              	.LVL209:
 720:ioLibrary_Driver-master/Ethernet/socket.c **** 		   break;
 2088              		.loc 1 720 4 is_stmt 1 view .LVU599
 2089 0176 2246     		mov	r2, r4
 2090 0178 4946     		mov	r1, r9
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 56


 2091 017a 2846     		mov	r0, r5
 2092 017c FFF7FEFF 		bl	wiz_recv_data
 2093              	.LVL210:
 721:ioLibrary_Driver-master/Ethernet/socket.c ****    //#if ( _WIZCHIP_ < 5200 )
 2094              		.loc 1 721 6 view .LVU600
 2095 0180 98E7     		b	.L174
 2096              	.L197:
 699:ioLibrary_Driver-master/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 2097              		.loc 1 699 7 view .LVU601
 2098 0182 0222     		movs	r2, #2
 2099 0184 6946     		mov	r1, sp
 2100 0186 2846     		mov	r0, r5
 2101 0188 FFF7FEFF 		bl	wiz_recv_data
 2102              	.LVL211:
 700:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 2103              		.loc 1 700 7 view .LVU602
 2104 018c 06F58074 		add	r4, r6, #256
 2105              	.LVL212:
 700:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 2106              		.loc 1 700 7 is_stmt 0 view .LVU603
 2107 0190 4021     		movs	r1, #64
 2108 0192 2046     		mov	r0, r4
 2109 0194 FFF7FEFF 		bl	WIZCHIP_WRITE
 2110              	.LVL213:
 701:ioLibrary_Driver-master/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 2111              		.loc 1 701 7 is_stmt 1 view .LVU604
 2112              	.L176:
 701:ioLibrary_Driver-master/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 2113              		.loc 1 701 13 discriminator 1 view .LVU605
 2114 0198 2046     		mov	r0, r4
 2115 019a FFF7FEFF 		bl	WIZCHIP_READ
 2116              	.LVL214:
 2117 019e 0028     		cmp	r0, #0
 2118 01a0 FAD1     		bne	.L176
 703:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = (sock_remained_size[sn] <<8) + head[1] -2;
 2119              		.loc 1 703 8 view .LVU606
 703:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = (sock_remained_size[sn] <<8) + head[1] -2;
 2120              		.loc 1 703 37 is_stmt 0 view .LVU607
 2121 01a2 9DF80010 		ldrb	r1, [sp]	@ zero_extendqisi2
 703:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = (sock_remained_size[sn] <<8) + head[1] -2;
 2122              		.loc 1 703 31 view .LVU608
 2123 01a6 344A     		ldr	r2, .L200
 2124 01a8 22F81510 		strh	r1, [r2, r5, lsl #1]	@ movhi
 704:ioLibrary_Driver-master/Ethernet/socket.c ****    			#if _WIZCHIP_ == W5300
 2125              		.loc 1 704 7 is_stmt 1 view .LVU609
 704:ioLibrary_Driver-master/Ethernet/socket.c ****    			#if _WIZCHIP_ == W5300
 2126              		.loc 1 704 67 is_stmt 0 view .LVU610
 2127 01ac 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 704:ioLibrary_Driver-master/Ethernet/socket.c ****    			#if _WIZCHIP_ == W5300
 2128              		.loc 1 704 61 view .LVU611
 2129 01b0 03EB0123 		add	r3, r3, r1, lsl #8
 2130 01b4 9BB2     		uxth	r3, r3
 704:ioLibrary_Driver-master/Ethernet/socket.c ****    			#if _WIZCHIP_ == W5300
 2131              		.loc 1 704 71 view .LVU612
 2132 01b6 023B     		subs	r3, r3, #2
 2133 01b8 9BB2     		uxth	r3, r3
 704:ioLibrary_Driver-master/Ethernet/socket.c ****    			#if _WIZCHIP_ == W5300
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 57


 2134              		.loc 1 704 30 view .LVU613
 2135 01ba 22F81530 		strh	r3, [r2, r5, lsl #1]	@ movhi
 711:ioLibrary_Driver-master/Ethernet/socket.c ****    			{
 2136              		.loc 1 711 7 is_stmt 1 view .LVU614
 711:ioLibrary_Driver-master/Ethernet/socket.c ****    			{
 2137              		.loc 1 711 9 is_stmt 0 view .LVU615
 2138 01be 40F2EA52 		movw	r2, #1514
 2139 01c2 9342     		cmp	r3, r2
 2140 01c4 03D8     		bhi	.L198
 716:ioLibrary_Driver-master/Ethernet/socket.c ****    	   }
 2141              		.loc 1 716 7 is_stmt 1 view .LVU616
 716:ioLibrary_Driver-master/Ethernet/socket.c ****    	   }
 2142              		.loc 1 716 26 is_stmt 0 view .LVU617
 2143 01c6 2E4B     		ldr	r3, .L200+8
 2144 01c8 8022     		movs	r2, #128
 2145 01ca 5A55     		strb	r2, [r3, r5]
 2146 01cc CDE7     		b	.L175
 2147              	.L198:
 713:ioLibrary_Driver-master/Ethernet/socket.c ****    			   return SOCKFATAL_PACKLEN;
 2148              		.loc 1 713 10 is_stmt 1 view .LVU618
 2149 01ce 2846     		mov	r0, r5
 2150 01d0 FFF7FEFF 		bl	close
 2151              	.LVL215:
 714:ioLibrary_Driver-master/Ethernet/socket.c ****    			}
 2152              		.loc 1 714 10 view .LVU619
 714:ioLibrary_Driver-master/Ethernet/socket.c ****    			}
 2153              		.loc 1 714 17 is_stmt 0 view .LVU620
 2154 01d4 6FF47A70 		mvn	r0, #1000
 2155 01d8 87E7     		b	.L163
 2156              	.LVL216:
 2157              	.L168:
 724:ioLibrary_Driver-master/Ethernet/socket.c **** 		   {
 2158              		.loc 1 724 6 is_stmt 1 view .LVU621
 724:ioLibrary_Driver-master/Ethernet/socket.c **** 		   {
 2159              		.loc 1 724 27 is_stmt 0 view .LVU622
 2160 01da 274B     		ldr	r3, .L200
 2161 01dc 33F81530 		ldrh	r3, [r3, r5, lsl #1]
 724:ioLibrary_Driver-master/Ethernet/socket.c **** 		   {
 2162              		.loc 1 724 8 view .LVU623
 2163 01e0 5BB1     		cbz	r3, .L199
 2164              	.LVL217:
 2165              	.L179:
 742:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2166              		.loc 1 742 4 is_stmt 1 view .LVU624
 742:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2167              		.loc 1 742 31 is_stmt 0 view .LVU625
 2168 01e2 254B     		ldr	r3, .L200
 2169 01e4 33F81540 		ldrh	r4, [r3, r5, lsl #1]
 742:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2170              		.loc 1 742 6 view .LVU626
 2171 01e8 4445     		cmp	r4, r8
 2172 01ea 00D9     		bls	.L181
 742:ioLibrary_Driver-master/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2173              		.loc 1 742 46 view .LVU627
 2174 01ec 4446     		mov	r4, r8
 2175              	.L181:
 2176              	.LVL218:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 58


 744:ioLibrary_Driver-master/Ethernet/socket.c **** 			break;
 2177              		.loc 1 744 6 is_stmt 1 view .LVU628
 2178 01ee 2246     		mov	r2, r4
 2179 01f0 4946     		mov	r1, r9
 2180 01f2 2846     		mov	r0, r5
 2181 01f4 FFF7FEFF 		bl	wiz_recv_data
 2182              	.LVL219:
 745:ioLibrary_Driver-master/Ethernet/socket.c ****    //#endif
 2183              		.loc 1 745 4 view .LVU629
 2184 01f8 5CE7     		b	.L174
 2185              	.L199:
 726:ioLibrary_Driver-master/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 2186              		.loc 1 726 7 view .LVU630
 2187 01fa 0622     		movs	r2, #6
 2188 01fc 6946     		mov	r1, sp
 2189 01fe 2846     		mov	r0, r5
 2190 0200 FFF7FEFF 		bl	wiz_recv_data
 2191              	.LVL220:
 727:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 2192              		.loc 1 727 7 view .LVU631
 2193 0204 06F58074 		add	r4, r6, #256
 2194              	.LVL221:
 727:ioLibrary_Driver-master/Ethernet/socket.c ****    			while(getSn_CR(sn));
 2195              		.loc 1 727 7 is_stmt 0 view .LVU632
 2196 0208 4021     		movs	r1, #64
 2197 020a 2046     		mov	r0, r4
 2198 020c FFF7FEFF 		bl	WIZCHIP_WRITE
 2199              	.LVL222:
 728:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[0] = head[0];
 2200              		.loc 1 728 7 is_stmt 1 view .LVU633
 2201              	.L180:
 728:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[0] = head[0];
 2202              		.loc 1 728 13 discriminator 1 view .LVU634
 2203 0210 2046     		mov	r0, r4
 2204 0212 FFF7FEFF 		bl	WIZCHIP_READ
 2205              	.LVL223:
 2206 0216 0028     		cmp	r0, #0
 2207 0218 FAD1     		bne	.L180
 729:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[1] = head[1];
 2208              		.loc 1 729 7 view .LVU635
 729:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[1] = head[1];
 2209              		.loc 1 729 21 is_stmt 0 view .LVU636
 2210 021a 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 729:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[1] = head[1];
 2211              		.loc 1 729 15 view .LVU637
 2212 021e 8AF80030 		strb	r3, [r10]
 730:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[2] = head[2];
 2213              		.loc 1 730 7 is_stmt 1 view .LVU638
 730:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[2] = head[2];
 2214              		.loc 1 730 21 is_stmt 0 view .LVU639
 2215 0222 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 730:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[2] = head[2];
 2216              		.loc 1 730 15 view .LVU640
 2217 0226 8AF80130 		strb	r3, [r10, #1]
 731:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[3] = head[3];
 2218              		.loc 1 731 7 is_stmt 1 view .LVU641
 731:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[3] = head[3];
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 59


 2219              		.loc 1 731 21 is_stmt 0 view .LVU642
 2220 022a 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 731:ioLibrary_Driver-master/Ethernet/socket.c ****    			addr[3] = head[3];
 2221              		.loc 1 731 15 view .LVU643
 2222 022e 8AF80230 		strb	r3, [r10, #2]
 732:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = head[4];
 2223              		.loc 1 732 7 is_stmt 1 view .LVU644
 732:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = head[4];
 2224              		.loc 1 732 21 is_stmt 0 view .LVU645
 2225 0232 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 732:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_remained_size[sn] = head[4];
 2226              		.loc 1 732 15 view .LVU646
 2227 0236 8AF80330 		strb	r3, [r10, #3]
 733:ioLibrary_Driver-master/Ethernet/socket.c ****    			//M20150401 : For Typing Error
 2228              		.loc 1 733 7 is_stmt 1 view .LVU647
 733:ioLibrary_Driver-master/Ethernet/socket.c ****    			//M20150401 : For Typing Error
 2229              		.loc 1 733 36 is_stmt 0 view .LVU648
 2230 023a 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 733:ioLibrary_Driver-master/Ethernet/socket.c ****    			//M20150401 : For Typing Error
 2231              		.loc 1 733 30 view .LVU649
 2232 023e 0E4A     		ldr	r2, .L200
 2233 0240 22F81510 		strh	r1, [r2, r5, lsl #1]	@ movhi
 736:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 2234              		.loc 1 736 7 is_stmt 1 view .LVU650
 736:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 2235              		.loc 1 736 68 is_stmt 0 view .LVU651
 2236 0244 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 736:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 2237              		.loc 1 736 62 view .LVU652
 2238 0248 03EB0123 		add	r3, r3, r1, lsl #8
 736:ioLibrary_Driver-master/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 2239              		.loc 1 736 30 view .LVU653
 2240 024c 22F81530 		strh	r3, [r2, r5, lsl #1]	@ movhi
 737:ioLibrary_Driver-master/Ethernet/socket.c ****          }
 2241              		.loc 1 737 7 is_stmt 1 view .LVU654
 737:ioLibrary_Driver-master/Ethernet/socket.c ****          }
 2242              		.loc 1 737 26 is_stmt 0 view .LVU655
 2243 0250 0B4B     		ldr	r3, .L200+8
 2244 0252 8022     		movs	r2, #128
 2245 0254 5A55     		strb	r2, [r3, r5]
 2246 0256 C4E7     		b	.L179
 2247              	.LVL224:
 2248              	.L183:
 765:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300	   
 2249              		.loc 1 765 7 is_stmt 1 view .LVU656
 765:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ == 5300	   
 2250              		.loc 1 765 26 is_stmt 0 view .LVU657
 2251 0258 094B     		ldr	r3, .L200+8
 2252 025a 0022     		movs	r2, #0
 2253 025c 5A55     		strb	r2, [r3, r5]
 2254 025e 43E7     		b	.L184
 2255              	.LVL225:
 2256              	.L185:
 2257              	.LCFI27:
 2258              		.cfi_def_cfa_offset 0
 2259              		.cfi_restore 4
 2260              		.cfi_restore 5
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 60


 2261              		.cfi_restore 6
 2262              		.cfi_restore 7
 2263              		.cfi_restore 8
 2264              		.cfi_restore 9
 2265              		.cfi_restore 10
 2266              		.cfi_restore 14
 607:ioLibrary_Driver-master/Ethernet/socket.c ****    //CHECK_SOCKMODE(Sn_MR_UDP);
 2267              		.loc 1 607 4 view .LVU658
 2268 0260 4FF0FF30 		mov	r0, #-1
 2269              	.LVL226:
 2270              		.loc 1 773 1 view .LVU659
 2271 0264 7047     		bx	lr
 2272              	.LVL227:
 2273              	.L186:
 2274              	.LCFI28:
 2275              		.cfi_def_cfa_offset 40
 2276              		.cfi_offset 4, -32
 2277              		.cfi_offset 5, -28
 2278              		.cfi_offset 6, -24
 2279              		.cfi_offset 7, -20
 2280              		.cfi_offset 8, -16
 2281              		.cfi_offset 9, -12
 2282              		.cfi_offset 10, -8
 2283              		.cfi_offset 14, -4
 625:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 2284              		.loc 1 625 17 view .LVU660
 2285 0266 6FF00400 		mvn	r0, #4
 2286              	.LVL228:
 625:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 2287              		.loc 1 625 17 view .LVU661
 2288 026a 3EE7     		b	.L163
 2289              	.LVL229:
 2290              	.L187:
 627:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_remained_size[sn] == 0)
 2291              		.loc 1 627 4 view .LVU662
 2292 026c 6FF00D00 		mvn	r0, #13
 2293              	.LVL230:
 627:ioLibrary_Driver-master/Ethernet/socket.c ****    if(sock_remained_size[sn] == 0)
 2294              		.loc 1 627 4 view .LVU663
 2295 0270 3BE7     		b	.L163
 2296              	.LVL231:
 2297              	.L189:
 633:ioLibrary_Driver-master/Ethernet/socket.c ****          if( (sock_io_mode & (1<<sn)) && (pack_len == 0) ) return SOCK_BUSY;
 2298              		.loc 1 633 49 view .LVU664
 2299 0272 6FF00300 		mvn	r0, #3
 2300 0276 38E7     		b	.L163
 2301              	.L201:
 2302              		.align	2
 2303              	.L200:
 2304 0278 00000000 		.word	sock_remained_size
 2305 027c 00000000 		.word	sock_io_mode
 2306 0280 00000000 		.word	sock_pack_info
 2307              		.cfi_endproc
 2308              	.LFE8:
 2310              		.section	.text.ctlsocket,"ax",%progbits
 2311              		.align	1
 2312              		.global	ctlsocket
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 61


 2313              		.syntax unified
 2314              		.thumb
 2315              		.thumb_func
 2317              	ctlsocket:
 2318              	.LVL232:
 2319              	.LFB9:
 774:ioLibrary_Driver-master/Ethernet/socket.c **** 
 775:ioLibrary_Driver-master/Ethernet/socket.c **** 
 776:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t  ctlsocket(uint8_t sn, ctlsock_type cstype, void* arg)
 777:ioLibrary_Driver-master/Ethernet/socket.c **** {
 2320              		.loc 1 777 1 is_stmt 1 view -0
 2321              		.cfi_startproc
 2322              		@ args = 0, pretend = 0, frame = 0
 2323              		@ frame_needed = 0, uses_anonymous_args = 0
 778:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t tmp = 0;
 2324              		.loc 1 778 4 view .LVU666
 779:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 2325              		.loc 1 779 4 view .LVU667
 2326              		.loc 1 779 4 view .LVU668
 2327 0000 0828     		cmp	r0, #8
 2328 0002 73D8     		bhi	.L214
 777:ioLibrary_Driver-master/Ethernet/socket.c ****    uint8_t tmp = 0;
 2329              		.loc 1 777 1 is_stmt 0 view .LVU669
 2330 0004 10B5     		push	{r4, lr}
 2331              	.LCFI29:
 2332              		.cfi_def_cfa_offset 8
 2333              		.cfi_offset 4, -8
 2334              		.cfi_offset 14, -4
 2335 0006 1446     		mov	r4, r2
 2336              		.loc 1 779 4 is_stmt 1 view .LVU670
 2337              		.loc 1 779 19 view .LVU671
 780:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(cstype)
 2338              		.loc 1 780 4 view .LVU672
 2339 0008 0729     		cmp	r1, #7
 2340 000a 72D8     		bhi	.L215
 2341 000c DFE801F0 		tbb	[pc, r1]
 2342              	.L205:
 2343 0010 04       		.byte	(.L212-.L205)/2
 2344 0011 1C       		.byte	(.L211-.L205)/2
 2345 0012 24       		.byte	(.L210-.L205)/2
 2346 0013 2F       		.byte	(.L209-.L205)/2
 2347 0014 3A       		.byte	(.L208-.L205)/2
 2348 0015 48       		.byte	(.L207-.L205)/2
 2349 0016 54       		.byte	(.L206-.L205)/2
 2350 0017 62       		.byte	(.L204-.L205)/2
 2351              		.p2align 1
 2352              	.L212:
 781:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 782:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_SET_IOMODE:
 783:ioLibrary_Driver-master/Ethernet/socket.c ****          tmp = *((uint8_t*)arg);
 2353              		.loc 1 783 10 view .LVU673
 2354              		.loc 1 783 14 is_stmt 0 view .LVU674
 2355 0018 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2356              	.LVL233:
 784:ioLibrary_Driver-master/Ethernet/socket.c ****          if(tmp == SOCK_IO_NONBLOCK)  sock_io_mode |= (1<<sn);
 2357              		.loc 1 784 10 is_stmt 1 view .LVU675
 2358              		.loc 1 784 12 is_stmt 0 view .LVU676
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 62


 2359 001a 012B     		cmp	r3, #1
 2360 001c 0CD0     		beq	.L223
 785:ioLibrary_Driver-master/Ethernet/socket.c ****          else if(tmp == SOCK_IO_BLOCK) sock_io_mode &= ~(1<<sn);
 2361              		.loc 1 785 15 is_stmt 1 view .LVU677
 2362              		.loc 1 785 17 is_stmt 0 view .LVU678
 2363 001e 002B     		cmp	r3, #0
 2364 0020 6AD1     		bne	.L216
 2365              		.loc 1 785 40 is_stmt 1 discriminator 1 view .LVU679
 2366              		.loc 1 785 59 is_stmt 0 discriminator 1 view .LVU680
 2367 0022 0123     		movs	r3, #1
 2368              	.LVL234:
 2369              		.loc 1 785 59 discriminator 1 view .LVU681
 2370 0024 03FA00F2 		lsl	r2, r3, r0
 2371              	.LVL235:
 2372              		.loc 1 785 53 discriminator 1 view .LVU682
 2373 0028 D243     		mvns	r2, r2
 2374 002a 12B2     		sxth	r2, r2
 2375 002c 3749     		ldr	r1, .L224
 2376              	.LVL236:
 2377              		.loc 1 785 53 discriminator 1 view .LVU683
 2378 002e 0888     		ldrh	r0, [r1]
 2379              	.LVL237:
 2380              		.loc 1 785 53 discriminator 1 view .LVU684
 2381 0030 0240     		ands	r2, r2, r0
 2382 0032 0A80     		strh	r2, [r1]	@ movhi
 786:ioLibrary_Driver-master/Ethernet/socket.c ****          else return SOCKERR_ARG;
 787:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 788:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_IOMODE:   
 789:ioLibrary_Driver-master/Ethernet/socket.c ****          //M20140501 : implict type casting -> explict type casting
 790:ioLibrary_Driver-master/Ethernet/socket.c ****          //*((uint8_t*)arg) = (sock_io_mode >> sn) & 0x0001;
 791:ioLibrary_Driver-master/Ethernet/socket.c ****          *((uint8_t*)arg) = (uint8_t)((sock_io_mode >> sn) & 0x0001);
 792:ioLibrary_Driver-master/Ethernet/socket.c ****          //
 793:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 794:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_MAXTXBUF:
 795:ioLibrary_Driver-master/Ethernet/socket.c ****          *((uint16_t*)arg) = getSn_TxMAX(sn);
 796:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 797:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_MAXRXBUF:    
 798:ioLibrary_Driver-master/Ethernet/socket.c ****          *((uint16_t*)arg) = getSn_RxMAX(sn);
 799:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 800:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_CLR_INTERRUPT:
 801:ioLibrary_Driver-master/Ethernet/socket.c ****          if( (*(uint8_t*)arg) > SIK_ALL) return SOCKERR_ARG;
 802:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn,*(uint8_t*)arg);
 803:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 804:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_INTERRUPT:
 805:ioLibrary_Driver-master/Ethernet/socket.c ****          *((uint8_t*)arg) = getSn_IR(sn);
 806:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 807:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ != 5100
 808:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_SET_INTMASK:  
 809:ioLibrary_Driver-master/Ethernet/socket.c ****          if( (*(uint8_t*)arg) > SIK_ALL) return SOCKERR_ARG;
 810:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IMR(sn,*(uint8_t*)arg);
 811:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 812:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_INTMASK:   
 813:ioLibrary_Driver-master/Ethernet/socket.c ****          *((uint8_t*)arg) = getSn_IMR(sn);
 814:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 815:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 816:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
 817:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_ARG;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 63


 818:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 819:ioLibrary_Driver-master/Ethernet/socket.c ****    return SOCK_OK;
 2383              		.loc 1 819 11 discriminator 1 view .LVU685
 2384 0034 1846     		mov	r0, r3
 2385 0036 0EE0     		b	.L203
 2386              	.LVL238:
 2387              	.L223:
 784:ioLibrary_Driver-master/Ethernet/socket.c ****          else if(tmp == SOCK_IO_BLOCK) sock_io_mode &= ~(1<<sn);
 2388              		.loc 1 784 39 is_stmt 1 discriminator 1 view .LVU686
 784:ioLibrary_Driver-master/Ethernet/socket.c ****          else if(tmp == SOCK_IO_BLOCK) sock_io_mode &= ~(1<<sn);
 2389              		.loc 1 784 57 is_stmt 0 discriminator 1 view .LVU687
 2390 0038 03FA00F0 		lsl	r0, r3, r0
 2391              	.LVL239:
 784:ioLibrary_Driver-master/Ethernet/socket.c ****          else if(tmp == SOCK_IO_BLOCK) sock_io_mode &= ~(1<<sn);
 2392              		.loc 1 784 52 discriminator 1 view .LVU688
 2393 003c 334A     		ldr	r2, .L224
 2394              	.LVL240:
 784:ioLibrary_Driver-master/Ethernet/socket.c ****          else if(tmp == SOCK_IO_BLOCK) sock_io_mode &= ~(1<<sn);
 2395              		.loc 1 784 52 discriminator 1 view .LVU689
 2396 003e 1188     		ldrh	r1, [r2]
 2397              	.LVL241:
 784:ioLibrary_Driver-master/Ethernet/socket.c ****          else if(tmp == SOCK_IO_BLOCK) sock_io_mode &= ~(1<<sn);
 2398              		.loc 1 784 52 discriminator 1 view .LVU690
 2399 0040 0843     		orrs	r0, r0, r1
 2400 0042 1080     		strh	r0, [r2]	@ movhi
 2401              		.loc 1 819 11 discriminator 1 view .LVU691
 2402 0044 1846     		mov	r0, r3
 2403 0046 06E0     		b	.L203
 2404              	.LVL242:
 2405              	.L211:
 791:ioLibrary_Driver-master/Ethernet/socket.c ****          //
 2406              		.loc 1 791 10 is_stmt 1 view .LVU692
 791:ioLibrary_Driver-master/Ethernet/socket.c ****          //
 2407              		.loc 1 791 53 is_stmt 0 view .LVU693
 2408 0048 304B     		ldr	r3, .L224
 2409 004a 1B88     		ldrh	r3, [r3]
 2410 004c 0341     		asrs	r3, r3, r0
 791:ioLibrary_Driver-master/Ethernet/socket.c ****          //
 2411              		.loc 1 791 29 view .LVU694
 2412 004e 03F00103 		and	r3, r3, #1
 791:ioLibrary_Driver-master/Ethernet/socket.c ****          //
 2413              		.loc 1 791 27 view .LVU695
 2414 0052 1370     		strb	r3, [r2]
 793:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_MAXTXBUF:
 2415              		.loc 1 793 10 is_stmt 1 view .LVU696
 2416              		.loc 1 819 11 is_stmt 0 view .LVU697
 2417 0054 0120     		movs	r0, #1
 2418              	.LVL243:
 2419              	.L203:
 820:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2420              		.loc 1 820 1 view .LVU698
 2421 0056 10BD     		pop	{r4, pc}
 2422              	.LVL244:
 2423              	.L210:
 795:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2424              		.loc 1 795 10 is_stmt 1 view .LVU699
 795:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 64


 2425              		.loc 1 795 30 is_stmt 0 view .LVU700
 2426 0058 8000     		lsls	r0, r0, #2
 2427              	.LVL245:
 795:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2428              		.loc 1 795 30 view .LVU701
 2429 005a 0130     		adds	r0, r0, #1
 2430 005c C000     		lsls	r0, r0, #3
 2431 005e 00F5F850 		add	r0, r0, #7936
 2432 0062 FFF7FEFF 		bl	WIZCHIP_READ
 2433              	.LVL246:
 795:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2434              		.loc 1 795 30 view .LVU702
 2435 0066 8002     		lsls	r0, r0, #10
 795:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2436              		.loc 1 795 28 view .LVU703
 2437 0068 2080     		strh	r0, [r4]	@ movhi
 796:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_MAXRXBUF:    
 2438              		.loc 1 796 10 is_stmt 1 view .LVU704
 819:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2439              		.loc 1 819 11 is_stmt 0 view .LVU705
 2440 006a 0120     		movs	r0, #1
 796:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_MAXRXBUF:    
 2441              		.loc 1 796 10 view .LVU706
 2442 006c F3E7     		b	.L203
 2443              	.LVL247:
 2444              	.L209:
 798:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2445              		.loc 1 798 10 is_stmt 1 view .LVU707
 798:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2446              		.loc 1 798 30 is_stmt 0 view .LVU708
 2447 006e 8000     		lsls	r0, r0, #2
 2448              	.LVL248:
 798:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2449              		.loc 1 798 30 view .LVU709
 2450 0070 0130     		adds	r0, r0, #1
 2451 0072 C000     		lsls	r0, r0, #3
 2452 0074 00F5F050 		add	r0, r0, #7680
 2453 0078 FFF7FEFF 		bl	WIZCHIP_READ
 2454              	.LVL249:
 798:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2455              		.loc 1 798 30 view .LVU710
 2456 007c 8002     		lsls	r0, r0, #10
 798:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2457              		.loc 1 798 28 view .LVU711
 2458 007e 2080     		strh	r0, [r4]	@ movhi
 799:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_CLR_INTERRUPT:
 2459              		.loc 1 799 10 is_stmt 1 view .LVU712
 819:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2460              		.loc 1 819 11 is_stmt 0 view .LVU713
 2461 0080 0120     		movs	r0, #1
 799:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_CLR_INTERRUPT:
 2462              		.loc 1 799 10 view .LVU714
 2463 0082 E8E7     		b	.L203
 2464              	.LVL250:
 2465              	.L208:
 801:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn,*(uint8_t*)arg);
 2466              		.loc 1 801 10 is_stmt 1 view .LVU715
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 65


 801:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn,*(uint8_t*)arg);
 2467              		.loc 1 801 15 is_stmt 0 view .LVU716
 2468 0084 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 2469              	.LVL251:
 801:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn,*(uint8_t*)arg);
 2470              		.loc 1 801 12 view .LVU717
 2471 0086 1F29     		cmp	r1, #31
 2472 0088 39D8     		bhi	.L217
 802:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2473              		.loc 1 802 10 is_stmt 1 view .LVU718
 2474 008a 8000     		lsls	r0, r0, #2
 2475              	.LVL252:
 802:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2476              		.loc 1 802 10 is_stmt 0 view .LVU719
 2477 008c 0130     		adds	r0, r0, #1
 2478 008e C000     		lsls	r0, r0, #3
 2479 0090 01F01F01 		and	r1, r1, #31
 2480 0094 00F50070 		add	r0, r0, #512
 2481 0098 FFF7FEFF 		bl	WIZCHIP_WRITE
 2482              	.LVL253:
 803:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_INTERRUPT:
 2483              		.loc 1 803 10 is_stmt 1 view .LVU720
 819:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2484              		.loc 1 819 11 is_stmt 0 view .LVU721
 2485 009c 0120     		movs	r0, #1
 803:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_INTERRUPT:
 2486              		.loc 1 803 10 view .LVU722
 2487 009e DAE7     		b	.L203
 2488              	.LVL254:
 2489              	.L207:
 805:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2490              		.loc 1 805 10 is_stmt 1 view .LVU723
 805:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2491              		.loc 1 805 29 is_stmt 0 view .LVU724
 2492 00a0 8000     		lsls	r0, r0, #2
 2493              	.LVL255:
 805:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2494              		.loc 1 805 29 view .LVU725
 2495 00a2 0130     		adds	r0, r0, #1
 2496 00a4 C000     		lsls	r0, r0, #3
 2497 00a6 00F50070 		add	r0, r0, #512
 2498 00aa FFF7FEFF 		bl	WIZCHIP_READ
 2499              	.LVL256:
 805:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2500              		.loc 1 805 29 view .LVU726
 2501 00ae 00F01F00 		and	r0, r0, #31
 805:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2502              		.loc 1 805 27 view .LVU727
 2503 00b2 2070     		strb	r0, [r4]
 806:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ != 5100
 2504              		.loc 1 806 10 is_stmt 1 view .LVU728
 819:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2505              		.loc 1 819 11 is_stmt 0 view .LVU729
 2506 00b4 0120     		movs	r0, #1
 806:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ != 5100
 2507              		.loc 1 806 10 view .LVU730
 2508 00b6 CEE7     		b	.L203
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 66


 2509              	.LVL257:
 2510              	.L206:
 809:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IMR(sn,*(uint8_t*)arg);
 2511              		.loc 1 809 10 is_stmt 1 view .LVU731
 809:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IMR(sn,*(uint8_t*)arg);
 2512              		.loc 1 809 15 is_stmt 0 view .LVU732
 2513 00b8 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 2514              	.LVL258:
 809:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IMR(sn,*(uint8_t*)arg);
 2515              		.loc 1 809 12 view .LVU733
 2516 00ba 1F29     		cmp	r1, #31
 2517 00bc 22D8     		bhi	.L218
 810:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2518              		.loc 1 810 10 is_stmt 1 view .LVU734
 2519 00be 8000     		lsls	r0, r0, #2
 2520              	.LVL259:
 810:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2521              		.loc 1 810 10 is_stmt 0 view .LVU735
 2522 00c0 0130     		adds	r0, r0, #1
 2523 00c2 C000     		lsls	r0, r0, #3
 2524 00c4 01F01F01 		and	r1, r1, #31
 2525 00c8 00F53050 		add	r0, r0, #11264
 2526 00cc FFF7FEFF 		bl	WIZCHIP_WRITE
 2527              	.LVL260:
 811:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_INTMASK:   
 2528              		.loc 1 811 10 is_stmt 1 view .LVU736
 819:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2529              		.loc 1 819 11 is_stmt 0 view .LVU737
 2530 00d0 0120     		movs	r0, #1
 811:ioLibrary_Driver-master/Ethernet/socket.c ****       case CS_GET_INTMASK:   
 2531              		.loc 1 811 10 view .LVU738
 2532 00d2 C0E7     		b	.L203
 2533              	.LVL261:
 2534              	.L204:
 813:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2535              		.loc 1 813 10 is_stmt 1 view .LVU739
 813:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2536              		.loc 1 813 29 is_stmt 0 view .LVU740
 2537 00d4 8000     		lsls	r0, r0, #2
 2538              	.LVL262:
 813:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2539              		.loc 1 813 29 view .LVU741
 2540 00d6 0130     		adds	r0, r0, #1
 2541 00d8 C000     		lsls	r0, r0, #3
 2542 00da 00F53050 		add	r0, r0, #11264
 2543 00de FFF7FEFF 		bl	WIZCHIP_READ
 2544              	.LVL263:
 813:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2545              		.loc 1 813 29 view .LVU742
 2546 00e2 00F01F00 		and	r0, r0, #31
 813:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2547              		.loc 1 813 27 view .LVU743
 2548 00e6 2070     		strb	r0, [r4]
 814:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 2549              		.loc 1 814 10 is_stmt 1 view .LVU744
 819:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2550              		.loc 1 819 11 is_stmt 0 view .LVU745
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 67


 2551 00e8 0120     		movs	r0, #1
 814:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif
 2552              		.loc 1 814 10 view .LVU746
 2553 00ea B4E7     		b	.L203
 2554              	.LVL264:
 2555              	.L214:
 2556              	.LCFI30:
 2557              		.cfi_def_cfa_offset 0
 2558              		.cfi_restore 4
 2559              		.cfi_restore 14
 779:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(cstype)
 2560              		.loc 1 779 4 view .LVU747
 2561 00ec 4FF0FF30 		mov	r0, #-1
 2562              	.LVL265:
 2563              		.loc 1 820 1 view .LVU748
 2564 00f0 7047     		bx	lr
 2565              	.LVL266:
 2566              	.L215:
 2567              	.LCFI31:
 2568              		.cfi_def_cfa_offset 8
 2569              		.cfi_offset 4, -8
 2570              		.cfi_offset 14, -4
 780:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 2571              		.loc 1 780 4 view .LVU749
 2572 00f2 6FF00900 		mvn	r0, #9
 2573              	.LVL267:
 780:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 2574              		.loc 1 780 4 view .LVU750
 2575 00f6 AEE7     		b	.L203
 2576              	.LVL268:
 2577              	.L216:
 786:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2578              		.loc 1 786 22 view .LVU751
 2579 00f8 6FF00900 		mvn	r0, #9
 2580              	.LVL269:
 786:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2581              		.loc 1 786 22 view .LVU752
 2582 00fc ABE7     		b	.L203
 2583              	.LVL270:
 2584              	.L217:
 801:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn,*(uint8_t*)arg);
 2585              		.loc 1 801 49 view .LVU753
 2586 00fe 6FF00900 		mvn	r0, #9
 2587              	.LVL271:
 801:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IR(sn,*(uint8_t*)arg);
 2588              		.loc 1 801 49 view .LVU754
 2589 0102 A8E7     		b	.L203
 2590              	.LVL272:
 2591              	.L218:
 809:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IMR(sn,*(uint8_t*)arg);
 2592              		.loc 1 809 49 view .LVU755
 2593 0104 6FF00900 		mvn	r0, #9
 2594              	.LVL273:
 809:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_IMR(sn,*(uint8_t*)arg);
 2595              		.loc 1 809 49 view .LVU756
 2596 0108 A5E7     		b	.L203
 2597              	.L225:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 68


 2598 010a 00BF     		.align	2
 2599              	.L224:
 2600 010c 00000000 		.word	sock_io_mode
 2601              		.cfi_endproc
 2602              	.LFE9:
 2604              		.section	.text.setsockopt,"ax",%progbits
 2605              		.align	1
 2606              		.global	setsockopt
 2607              		.syntax unified
 2608              		.thumb
 2609              		.thumb_func
 2611              	setsockopt:
 2612              	.LVL274:
 2613              	.LFB10:
 821:ioLibrary_Driver-master/Ethernet/socket.c **** 
 822:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t  setsockopt(uint8_t sn, sockopt_type sotype, void* arg)
 823:ioLibrary_Driver-master/Ethernet/socket.c **** {
 2614              		.loc 1 823 1 is_stmt 1 view -0
 2615              		.cfi_startproc
 2616              		@ args = 0, pretend = 0, frame = 0
 2617              		@ frame_needed = 0, uses_anonymous_args = 0
 824:ioLibrary_Driver-master/Ethernet/socket.c ****  // M20131220 : Remove warning
 825:ioLibrary_Driver-master/Ethernet/socket.c ****  //uint8_t tmp;
 826:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 2618              		.loc 1 826 4 view .LVU758
 2619              		.loc 1 826 4 view .LVU759
 2620 0000 0828     		cmp	r0, #8
 2621 0002 00F28680 		bhi	.L238
 823:ioLibrary_Driver-master/Ethernet/socket.c ****  // M20131220 : Remove warning
 2622              		.loc 1 823 1 is_stmt 0 view .LVU760
 2623 0006 70B5     		push	{r4, r5, r6, lr}
 2624              	.LCFI32:
 2625              		.cfi_def_cfa_offset 16
 2626              		.cfi_offset 4, -16
 2627              		.cfi_offset 5, -12
 2628              		.cfi_offset 6, -8
 2629              		.cfi_offset 14, -4
 2630 0008 1546     		mov	r5, r2
 2631              		.loc 1 826 4 is_stmt 1 view .LVU761
 2632              		.loc 1 826 19 view .LVU762
 827:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(sotype)
 2633              		.loc 1 827 4 view .LVU763
 2634 000a 0139     		subs	r1, r1, #1
 2635              	.LVL275:
 2636              		.loc 1 827 4 is_stmt 0 view .LVU764
 2637 000c 0629     		cmp	r1, #6
 2638 000e 00F28380 		bhi	.L239
 2639 0012 DFE801F0 		tbb	[pc, r1]
 2640              	.L229:
 2641 0016 04       		.byte	(.L235-.L229)/2
 2642 0017 0E       		.byte	(.L234-.L229)/2
 2643 0018 18       		.byte	(.L233-.L229)/2
 2644 0019 28       		.byte	(.L232-.L229)/2
 2645 001a 33       		.byte	(.L231-.L229)/2
 2646 001b 43       		.byte	(.L230-.L229)/2
 2647 001c 6D       		.byte	(.L228-.L229)/2
 2648 001d 00       		.p2align 1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 69


 2649              	.L235:
 828:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 829:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_TTL:
 830:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_TTL(sn,*(uint8_t*)arg);
 2650              		.loc 1 830 10 is_stmt 1 view .LVU765
 2651 001e 8000     		lsls	r0, r0, #2
 2652              	.LVL276:
 2653              		.loc 1 830 10 is_stmt 0 view .LVU766
 2654 0020 0130     		adds	r0, r0, #1
 2655 0022 C000     		lsls	r0, r0, #3
 2656 0024 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 2657 0026 00F5B050 		add	r0, r0, #5632
 2658 002a FFF7FEFF 		bl	WIZCHIP_WRITE
 2659              	.LVL277:
 831:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2660              		.loc 1 831 10 is_stmt 1 view .LVU767
 832:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_TOS:
 833:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_TOS(sn,*(uint8_t*)arg);
 834:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 835:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_MSS:
 836:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_MSSR(sn,*(uint16_t*)arg);
 837:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 838:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTIP:
 839:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_DIPR(sn, (uint8_t*)arg);
 840:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 841:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTPORT:
 842:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_DPORT(sn, *(uint16_t*)arg);
 843:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 844:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ != 5100
 845:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_KEEPALIVESEND:
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          CHECK_SOCKMODE(Sn_MR_TCP);
 847:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 848:ioLibrary_Driver-master/Ethernet/socket.c ****             if(getSn_KPALVTR(sn) != 0) return SOCKERR_SOCKOPT;
 849:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 850:ioLibrary_Driver-master/Ethernet/socket.c ****             setSn_CR(sn,Sn_CR_SEND_KEEP);
 851:ioLibrary_Driver-master/Ethernet/socket.c ****             while(getSn_CR(sn) != 0)
 852:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 853:ioLibrary_Driver-master/Ethernet/socket.c ****                // M20131220
 854:ioLibrary_Driver-master/Ethernet/socket.c ****          		//if ((tmp = getSn_IR(sn)) & Sn_IR_TIMEOUT)
 855:ioLibrary_Driver-master/Ethernet/socket.c ****                if (getSn_IR(sn) & Sn_IR_TIMEOUT)
 856:ioLibrary_Driver-master/Ethernet/socket.c ****          		{
 857:ioLibrary_Driver-master/Ethernet/socket.c ****          			setSn_IR(sn, Sn_IR_TIMEOUT);
 858:ioLibrary_Driver-master/Ethernet/socket.c ****                   return SOCKERR_TIMEOUT;
 859:ioLibrary_Driver-master/Ethernet/socket.c ****          		}
 860:ioLibrary_Driver-master/Ethernet/socket.c ****             }
 861:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 862:ioLibrary_Driver-master/Ethernet/socket.c ****    #if !( (_WIZCHIP_ == 5100) || (_WIZCHIP_ == 5200) )
 863:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_KEEPALIVEAUTO:
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          CHECK_SOCKMODE(Sn_MR_TCP);
 865:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 866:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 867:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif      
 868:ioLibrary_Driver-master/Ethernet/socket.c **** #endif   
 869:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
 870:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_ARG;
 871:ioLibrary_Driver-master/Ethernet/socket.c ****    }   
 872:ioLibrary_Driver-master/Ethernet/socket.c ****    return SOCK_OK;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 70


 2661              		.loc 1 872 11 is_stmt 0 view .LVU768
 2662 002e 0120     		movs	r0, #1
 2663              	.LVL278:
 2664              	.L227:
 873:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2665              		.loc 1 873 1 view .LVU769
 2666 0030 70BD     		pop	{r4, r5, r6, pc}
 2667              	.LVL279:
 2668              	.L234:
 833:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2669              		.loc 1 833 10 is_stmt 1 view .LVU770
 2670 0032 8000     		lsls	r0, r0, #2
 2671              	.LVL280:
 833:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2672              		.loc 1 833 10 is_stmt 0 view .LVU771
 2673 0034 0130     		adds	r0, r0, #1
 2674 0036 C000     		lsls	r0, r0, #3
 2675 0038 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 2676 003a 00F5A850 		add	r0, r0, #5376
 2677 003e FFF7FEFF 		bl	WIZCHIP_WRITE
 2678              	.LVL281:
 834:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_MSS:
 2679              		.loc 1 834 10 is_stmt 1 view .LVU772
 872:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2680              		.loc 1 872 11 is_stmt 0 view .LVU773
 2681 0042 0120     		movs	r0, #1
 834:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_MSS:
 2682              		.loc 1 834 10 view .LVU774
 2683 0044 F4E7     		b	.L227
 2684              	.LVL282:
 2685              	.L233:
 836:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2686              		.loc 1 836 10 is_stmt 1 view .LVU775
 2687 0046 8400     		lsls	r4, r0, #2
 2688 0048 0134     		adds	r4, r4, #1
 2689 004a E400     		lsls	r4, r4, #3
 2690 004c 1188     		ldrh	r1, [r2]
 2691 004e 090A     		lsrs	r1, r1, #8
 2692 0050 04F59050 		add	r0, r4, #4608
 2693              	.LVL283:
 836:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2694              		.loc 1 836 10 is_stmt 0 view .LVU776
 2695 0054 FFF7FEFF 		bl	WIZCHIP_WRITE
 2696              	.LVL284:
 836:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2697              		.loc 1 836 10 is_stmt 1 view .LVU777
 2698 0058 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2699 005a 04F59850 		add	r0, r4, #4864
 2700 005e FFF7FEFF 		bl	WIZCHIP_WRITE
 2701              	.LVL285:
 836:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2702              		.loc 1 836 40 view .LVU778
 837:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTIP:
 2703              		.loc 1 837 10 view .LVU779
 872:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2704              		.loc 1 872 11 is_stmt 0 view .LVU780
 2705 0062 0120     		movs	r0, #1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 71


 837:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTIP:
 2706              		.loc 1 837 10 view .LVU781
 2707 0064 E4E7     		b	.L227
 2708              	.LVL286:
 2709              	.L232:
 839:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2710              		.loc 1 839 10 is_stmt 1 view .LVU782
 2711 0066 8000     		lsls	r0, r0, #2
 2712              	.LVL287:
 839:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2713              		.loc 1 839 10 is_stmt 0 view .LVU783
 2714 0068 0130     		adds	r0, r0, #1
 2715 006a C000     		lsls	r0, r0, #3
 2716 006c 0422     		movs	r2, #4
 2717              	.LVL288:
 839:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2718              		.loc 1 839 10 view .LVU784
 2719 006e 2946     		mov	r1, r5
 2720 0070 00F54060 		add	r0, r0, #3072
 2721 0074 FFF7FEFF 		bl	WIZCHIP_WRITE_BUF
 2722              	.LVL289:
 840:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTPORT:
 2723              		.loc 1 840 10 is_stmt 1 view .LVU785
 872:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2724              		.loc 1 872 11 is_stmt 0 view .LVU786
 2725 0078 0120     		movs	r0, #1
 840:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTPORT:
 2726              		.loc 1 840 10 view .LVU787
 2727 007a D9E7     		b	.L227
 2728              	.LVL290:
 2729              	.L231:
 842:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2730              		.loc 1 842 10 is_stmt 1 view .LVU788
 2731 007c 8400     		lsls	r4, r0, #2
 2732 007e 0134     		adds	r4, r4, #1
 2733 0080 E400     		lsls	r4, r4, #3
 2734 0082 1188     		ldrh	r1, [r2]
 2735 0084 090A     		lsrs	r1, r1, #8
 2736 0086 04F58050 		add	r0, r4, #4096
 2737              	.LVL291:
 842:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2738              		.loc 1 842 10 is_stmt 0 view .LVU789
 2739 008a FFF7FEFF 		bl	WIZCHIP_WRITE
 2740              	.LVL292:
 842:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2741              		.loc 1 842 10 is_stmt 1 view .LVU790
 2742 008e 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2743 0090 04F58850 		add	r0, r4, #4352
 2744 0094 FFF7FEFF 		bl	WIZCHIP_WRITE
 2745              	.LVL293:
 842:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2746              		.loc 1 842 42 view .LVU791
 843:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ != 5100
 2747              		.loc 1 843 10 view .LVU792
 872:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2748              		.loc 1 872 11 is_stmt 0 view .LVU793
 2749 0098 0120     		movs	r0, #1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 72


 843:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ != 5100
 2750              		.loc 1 843 10 view .LVU794
 2751 009a C9E7     		b	.L227
 2752              	.LVL294:
 2753              	.L230:
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 2754              		.loc 1 846 10 is_stmt 1 view .LVU795
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 2755              		.loc 1 846 10 view .LVU796
 2756 009c 8400     		lsls	r4, r0, #2
 2757 009e 0134     		adds	r4, r4, #1
 2758 00a0 E400     		lsls	r4, r4, #3
 2759 00a2 2046     		mov	r0, r4
 2760              	.LVL295:
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 2761              		.loc 1 846 10 is_stmt 0 view .LVU797
 2762 00a4 FFF7FEFF 		bl	WIZCHIP_READ
 2763              	.LVL296:
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 2764              		.loc 1 846 10 view .LVU798
 2765 00a8 00F00F00 		and	r0, r0, #15
 2766 00ac 0128     		cmp	r0, #1
 2767 00ae 36D1     		bne	.L240
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 2768              		.loc 1 846 10 is_stmt 1 discriminator 2 view .LVU799
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 2769              		.loc 1 846 35 discriminator 2 view .LVU800
 848:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 2770              		.loc 1 848 13 discriminator 2 view .LVU801
 848:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 2771              		.loc 1 848 16 is_stmt 0 discriminator 2 view .LVU802
 2772 00b0 04F53C50 		add	r0, r4, #12032
 2773 00b4 FFF7FEFF 		bl	WIZCHIP_READ
 2774              	.LVL297:
 848:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 2775              		.loc 1 848 15 discriminator 2 view .LVU803
 2776 00b8 A0BB     		cbnz	r0, .L241
 850:ioLibrary_Driver-master/Ethernet/socket.c ****             while(getSn_CR(sn) != 0)
 2777              		.loc 1 850 13 is_stmt 1 view .LVU804
 2778 00ba 04F58076 		add	r6, r4, #256
 2779 00be 2221     		movs	r1, #34
 2780 00c0 3046     		mov	r0, r6
 2781 00c2 FFF7FEFF 		bl	WIZCHIP_WRITE
 2782              	.LVL298:
 851:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 2783              		.loc 1 851 13 view .LVU805
 2784              	.L236:
 851:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 2785              		.loc 1 851 32 view .LVU806
 851:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 2786              		.loc 1 851 19 is_stmt 0 view .LVU807
 2787 00c6 3046     		mov	r0, r6
 2788 00c8 FFF7FEFF 		bl	WIZCHIP_READ
 2789              	.LVL299:
 851:ioLibrary_Driver-master/Ethernet/socket.c ****             {
 2790              		.loc 1 851 32 view .LVU808
 2791 00cc 70B1     		cbz	r0, .L247
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 73


 855:ioLibrary_Driver-master/Ethernet/socket.c ****          		{
 2792              		.loc 1 855 16 is_stmt 1 view .LVU809
 855:ioLibrary_Driver-master/Ethernet/socket.c ****          		{
 2793              		.loc 1 855 20 is_stmt 0 view .LVU810
 2794 00ce 04F50075 		add	r5, r4, #512
 2795 00d2 2846     		mov	r0, r5
 2796 00d4 FFF7FEFF 		bl	WIZCHIP_READ
 2797              	.LVL300:
 855:ioLibrary_Driver-master/Ethernet/socket.c ****          		{
 2798              		.loc 1 855 19 view .LVU811
 2799 00d8 10F0080F 		tst	r0, #8
 2800 00dc F3D0     		beq	.L236
 857:ioLibrary_Driver-master/Ethernet/socket.c ****                   return SOCKERR_TIMEOUT;
 2801              		.loc 1 857 13 is_stmt 1 view .LVU812
 2802 00de 0821     		movs	r1, #8
 2803 00e0 2846     		mov	r0, r5
 2804 00e2 FFF7FEFF 		bl	WIZCHIP_WRITE
 2805              	.LVL301:
 858:ioLibrary_Driver-master/Ethernet/socket.c ****          		}
 2806              		.loc 1 858 19 view .LVU813
 858:ioLibrary_Driver-master/Ethernet/socket.c ****          		}
 2807              		.loc 1 858 26 is_stmt 0 view .LVU814
 2808 00e6 6FF00C00 		mvn	r0, #12
 2809 00ea A1E7     		b	.L227
 2810              	.L247:
 872:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2811              		.loc 1 872 11 view .LVU815
 2812 00ec 0120     		movs	r0, #1
 2813 00ee 9FE7     		b	.L227
 2814              	.LVL302:
 2815              	.L228:
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2816              		.loc 1 864 10 is_stmt 1 view .LVU816
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2817              		.loc 1 864 10 view .LVU817
 2818 00f0 8400     		lsls	r4, r0, #2
 2819 00f2 0134     		adds	r4, r4, #1
 2820 00f4 E400     		lsls	r4, r4, #3
 2821 00f6 2046     		mov	r0, r4
 2822              	.LVL303:
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2823              		.loc 1 864 10 is_stmt 0 view .LVU818
 2824 00f8 FFF7FEFF 		bl	WIZCHIP_READ
 2825              	.LVL304:
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2826              		.loc 1 864 10 view .LVU819
 2827 00fc 00F00F00 		and	r0, r0, #15
 2828 0100 0128     		cmp	r0, #1
 2829 0102 12D1     		bne	.L242
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2830              		.loc 1 864 10 is_stmt 1 discriminator 2 view .LVU820
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2831              		.loc 1 864 35 discriminator 2 view .LVU821
 865:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2832              		.loc 1 865 10 discriminator 2 view .LVU822
 2833 0104 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2834 0106 04F53C50 		add	r0, r4, #12032
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 74


 2835 010a FFF7FEFF 		bl	WIZCHIP_WRITE
 2836              	.LVL305:
 866:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif      
 2837              		.loc 1 866 10 discriminator 2 view .LVU823
 872:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2838              		.loc 1 872 11 is_stmt 0 discriminator 2 view .LVU824
 2839 010e 0120     		movs	r0, #1
 866:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif      
 2840              		.loc 1 866 10 discriminator 2 view .LVU825
 2841 0110 8EE7     		b	.L227
 2842              	.LVL306:
 2843              	.L238:
 2844              	.LCFI33:
 2845              		.cfi_def_cfa_offset 0
 2846              		.cfi_restore 4
 2847              		.cfi_restore 5
 2848              		.cfi_restore 6
 2849              		.cfi_restore 14
 826:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(sotype)
 2850              		.loc 1 826 4 view .LVU826
 2851 0112 4FF0FF30 		mov	r0, #-1
 2852              	.LVL307:
 2853              		.loc 1 873 1 view .LVU827
 2854 0116 7047     		bx	lr
 2855              	.LVL308:
 2856              	.L239:
 2857              	.LCFI34:
 2858              		.cfi_def_cfa_offset 16
 2859              		.cfi_offset 4, -16
 2860              		.cfi_offset 5, -12
 2861              		.cfi_offset 6, -8
 2862              		.cfi_offset 14, -4
 827:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 2863              		.loc 1 827 4 view .LVU828
 2864 0118 6FF00900 		mvn	r0, #9
 2865              	.LVL309:
 827:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 2866              		.loc 1 827 4 view .LVU829
 2867 011c 88E7     		b	.L227
 2868              	.LVL310:
 2869              	.L240:
 846:ioLibrary_Driver-master/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 2870              		.loc 1 846 10 view .LVU830
 2871 011e 6FF00400 		mvn	r0, #4
 2872 0122 85E7     		b	.L227
 2873              	.L241:
 848:ioLibrary_Driver-master/Ethernet/socket.c ****          #endif
 2874              		.loc 1 848 47 view .LVU831
 2875 0124 6FF00100 		mvn	r0, #1
 2876 0128 82E7     		b	.L227
 2877              	.L242:
 864:ioLibrary_Driver-master/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2878              		.loc 1 864 10 view .LVU832
 2879 012a 6FF00400 		mvn	r0, #4
 2880 012e 7FE7     		b	.L227
 2881              		.cfi_endproc
 2882              	.LFE10:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 75


 2884              		.section	.text.getsockopt,"ax",%progbits
 2885              		.align	1
 2886              		.global	getsockopt
 2887              		.syntax unified
 2888              		.thumb
 2889              		.thumb_func
 2891              	getsockopt:
 2892              	.LVL311:
 2893              	.LFB11:
 874:ioLibrary_Driver-master/Ethernet/socket.c **** 
 875:ioLibrary_Driver-master/Ethernet/socket.c **** int8_t  getsockopt(uint8_t sn, sockopt_type sotype, void* arg)
 876:ioLibrary_Driver-master/Ethernet/socket.c **** {
 2894              		.loc 1 876 1 is_stmt 1 view -0
 2895              		.cfi_startproc
 2896              		@ args = 0, pretend = 0, frame = 0
 2897              		@ frame_needed = 0, uses_anonymous_args = 0
 877:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 2898              		.loc 1 877 4 view .LVU834
 2899              		.loc 1 877 4 view .LVU835
 2900 0000 0828     		cmp	r0, #8
 2901 0002 00F29F80 		bhi	.L264
 876:ioLibrary_Driver-master/Ethernet/socket.c ****    CHECK_SOCKNUM();
 2902              		.loc 1 876 1 is_stmt 0 view .LVU836
 2903 0006 70B5     		push	{r4, r5, r6, lr}
 2904              	.LCFI35:
 2905              		.cfi_def_cfa_offset 16
 2906              		.cfi_offset 4, -16
 2907              		.cfi_offset 5, -12
 2908              		.cfi_offset 6, -8
 2909              		.cfi_offset 14, -4
 2910 0008 0646     		mov	r6, r0
 2911 000a 1546     		mov	r5, r2
 2912              		.loc 1 877 4 is_stmt 1 view .LVU837
 2913              		.loc 1 877 19 view .LVU838
 878:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(sotype)
 2914              		.loc 1 878 4 view .LVU839
 2915 000c 0C29     		cmp	r1, #12
 2916 000e 00F29C80 		bhi	.L265
 2917 0012 DFE801F0 		tbb	[pc, r1]
 2918              	.L251:
 2919 0016 07       		.byte	(.L262-.L251)/2
 2920 0017 11       		.byte	(.L261-.L251)/2
 2921 0018 1B       		.byte	(.L260-.L251)/2
 2922 0019 25       		.byte	(.L259-.L251)/2
 2923 001a 36       		.byte	(.L258-.L251)/2
 2924 001b 41       		.byte	(.L257-.L251)/2
 2925 001c 9A       		.byte	(.L265-.L251)/2
 2926 001d 52       		.byte	(.L256-.L251)/2
 2927 001e 63       		.byte	(.L255-.L251)/2
 2928 001f 68       		.byte	(.L254-.L251)/2
 2929 0020 6D       		.byte	(.L253-.L251)/2
 2930 0021 77       		.byte	(.L252-.L251)/2
 2931 0022 8B       		.byte	(.L250-.L251)/2
 2932 0023 00       		.p2align 1
 2933              	.L262:
 879:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 880:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_FLAG:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 76


 881:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint8_t*)arg = getSn_MR(sn) & 0xF0;
 2934              		.loc 1 881 10 view .LVU840
 2935              		.loc 1 881 27 is_stmt 0 view .LVU841
 2936 0024 8000     		lsls	r0, r0, #2
 2937              	.LVL312:
 2938              		.loc 1 881 27 view .LVU842
 2939 0026 0130     		adds	r0, r0, #1
 2940 0028 C000     		lsls	r0, r0, #3
 2941 002a FFF7FEFF 		bl	WIZCHIP_READ
 2942              	.LVL313:
 2943              		.loc 1 881 40 view .LVU843
 2944 002e 00F0F000 		and	r0, r0, #240
 2945              		.loc 1 881 25 view .LVU844
 2946 0032 2870     		strb	r0, [r5]
 882:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2947              		.loc 1 882 10 is_stmt 1 view .LVU845
 883:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_TTL:
 884:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint8_t*) arg = getSn_TTL(sn);
 885:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 886:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_TOS:
 887:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint8_t*) arg = getSn_TOS(sn);
 888:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 889:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_MSS:   
 890:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_MSSR(sn);
 891:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 892:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTIP:
 893:ioLibrary_Driver-master/Ethernet/socket.c ****          getSn_DIPR(sn, (uint8_t*)arg);
 894:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 895:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTPORT:  
 896:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_DPORT(sn);
 897:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 898:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ > 5200   
 899:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_KEEPALIVEAUTO:
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          CHECK_SOCKMODE(Sn_MR_TCP);
 901:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 902:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 903:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif      
 904:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_SENDBUF:
 905:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_TX_FSR(sn);
 906:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 907:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_RECVBUF:
 908:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_RX_RSR(sn);
 909:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 910:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_STATUS:
 911:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint8_t*) arg = getSn_SR(sn);
 912:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 913:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_REMAINSIZE:
 914:ioLibrary_Driver-master/Ethernet/socket.c ****          if(getSn_MR(sn) & Sn_MR_TCP)
 915:ioLibrary_Driver-master/Ethernet/socket.c ****             *(uint16_t*)arg = getSn_RX_RSR(sn);
 916:ioLibrary_Driver-master/Ethernet/socket.c ****          else
 917:ioLibrary_Driver-master/Ethernet/socket.c ****             *(uint16_t*)arg = sock_remained_size[sn];
 918:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 919:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_PACKINFO:
 920:ioLibrary_Driver-master/Ethernet/socket.c ****          //CHECK_SOCKMODE(Sn_MR_TCP);
 921:ioLibrary_Driver-master/Ethernet/socket.c **** #if _WIZCHIP_ != 5300
 922:ioLibrary_Driver-master/Ethernet/socket.c ****          if((getSn_MR(sn) == Sn_MR_TCP))
 923:ioLibrary_Driver-master/Ethernet/socket.c ****              return SOCKERR_SOCKMODE;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 77


 924:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 925:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint8_t*)arg = sock_pack_info[sn];
 926:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 927:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
 928:ioLibrary_Driver-master/Ethernet/socket.c ****          return SOCKERR_SOCKOPT;
 929:ioLibrary_Driver-master/Ethernet/socket.c ****    }
 930:ioLibrary_Driver-master/Ethernet/socket.c ****    return SOCK_OK;
 2948              		.loc 1 930 11 is_stmt 0 view .LVU846
 2949 0034 0120     		movs	r0, #1
 2950              	.L249:
 931:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2951              		.loc 1 931 1 view .LVU847
 2952 0036 70BD     		pop	{r4, r5, r6, pc}
 2953              	.LVL314:
 2954              	.L261:
 884:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2955              		.loc 1 884 10 is_stmt 1 view .LVU848
 884:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2956              		.loc 1 884 28 is_stmt 0 view .LVU849
 2957 0038 8000     		lsls	r0, r0, #2
 2958              	.LVL315:
 884:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2959              		.loc 1 884 28 view .LVU850
 2960 003a 0130     		adds	r0, r0, #1
 2961 003c C000     		lsls	r0, r0, #3
 2962 003e 00F5B050 		add	r0, r0, #5632
 2963 0042 FFF7FEFF 		bl	WIZCHIP_READ
 2964              	.LVL316:
 884:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2965              		.loc 1 884 26 view .LVU851
 2966 0046 2870     		strb	r0, [r5]
 885:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_TOS:
 2967              		.loc 1 885 10 is_stmt 1 view .LVU852
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2968              		.loc 1 930 11 is_stmt 0 view .LVU853
 2969 0048 0120     		movs	r0, #1
 885:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_TOS:
 2970              		.loc 1 885 10 view .LVU854
 2971 004a F4E7     		b	.L249
 2972              	.LVL317:
 2973              	.L260:
 887:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2974              		.loc 1 887 10 is_stmt 1 view .LVU855
 887:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2975              		.loc 1 887 28 is_stmt 0 view .LVU856
 2976 004c 8000     		lsls	r0, r0, #2
 2977              	.LVL318:
 887:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2978              		.loc 1 887 28 view .LVU857
 2979 004e 0130     		adds	r0, r0, #1
 2980 0050 C000     		lsls	r0, r0, #3
 2981 0052 00F5A850 		add	r0, r0, #5376
 2982 0056 FFF7FEFF 		bl	WIZCHIP_READ
 2983              	.LVL319:
 887:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2984              		.loc 1 887 26 view .LVU858
 2985 005a 2870     		strb	r0, [r5]
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 78


 888:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_MSS:   
 2986              		.loc 1 888 10 is_stmt 1 view .LVU859
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 2987              		.loc 1 930 11 is_stmt 0 view .LVU860
 2988 005c 0120     		movs	r0, #1
 888:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_MSS:   
 2989              		.loc 1 888 10 view .LVU861
 2990 005e EAE7     		b	.L249
 2991              	.LVL320:
 2992              	.L259:
 890:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2993              		.loc 1 890 10 is_stmt 1 view .LVU862
 890:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 2994              		.loc 1 890 29 is_stmt 0 view .LVU863
 2995 0060 8600     		lsls	r6, r0, #2
 2996 0062 0136     		adds	r6, r6, #1
 2997 0064 F600     		lsls	r6, r6, #3
 2998 0066 06F59050 		add	r0, r6, #4608
 2999              	.LVL321:
 890:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3000              		.loc 1 890 29 view .LVU864
 3001 006a FFF7FEFF 		bl	WIZCHIP_READ
 3002              	.LVL322:
 890:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3003              		.loc 1 890 29 view .LVU865
 3004 006e 0402     		lsls	r4, r0, #8
 3005 0070 A4B2     		uxth	r4, r4
 3006 0072 06F59850 		add	r0, r6, #4864
 3007 0076 FFF7FEFF 		bl	WIZCHIP_READ
 3008              	.LVL323:
 3009 007a 0444     		add	r4, r4, r0
 890:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3010              		.loc 1 890 27 view .LVU866
 3011 007c 2C80     		strh	r4, [r5]	@ movhi
 891:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTIP:
 3012              		.loc 1 891 10 is_stmt 1 view .LVU867
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3013              		.loc 1 930 11 is_stmt 0 view .LVU868
 3014 007e 0120     		movs	r0, #1
 891:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTIP:
 3015              		.loc 1 891 10 view .LVU869
 3016 0080 D9E7     		b	.L249
 3017              	.LVL324:
 3018              	.L258:
 893:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3019              		.loc 1 893 10 is_stmt 1 view .LVU870
 3020 0082 8000     		lsls	r0, r0, #2
 3021              	.LVL325:
 893:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3022              		.loc 1 893 10 is_stmt 0 view .LVU871
 3023 0084 0130     		adds	r0, r0, #1
 3024 0086 C000     		lsls	r0, r0, #3
 3025 0088 0422     		movs	r2, #4
 3026              	.LVL326:
 893:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3027              		.loc 1 893 10 view .LVU872
 3028 008a 2946     		mov	r1, r5
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 79


 3029              	.LVL327:
 893:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3030              		.loc 1 893 10 view .LVU873
 3031 008c 00F54060 		add	r0, r0, #3072
 3032 0090 FFF7FEFF 		bl	WIZCHIP_READ_BUF
 3033              	.LVL328:
 894:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTPORT:  
 3034              		.loc 1 894 10 is_stmt 1 view .LVU874
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3035              		.loc 1 930 11 is_stmt 0 view .LVU875
 3036 0094 0120     		movs	r0, #1
 894:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_DESTPORT:  
 3037              		.loc 1 894 10 view .LVU876
 3038 0096 CEE7     		b	.L249
 3039              	.LVL329:
 3040              	.L257:
 896:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3041              		.loc 1 896 10 is_stmt 1 view .LVU877
 896:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3042              		.loc 1 896 29 is_stmt 0 view .LVU878
 3043 0098 8600     		lsls	r6, r0, #2
 3044 009a 0136     		adds	r6, r6, #1
 3045 009c F600     		lsls	r6, r6, #3
 3046 009e 06F58050 		add	r0, r6, #4096
 3047              	.LVL330:
 896:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3048              		.loc 1 896 29 view .LVU879
 3049 00a2 FFF7FEFF 		bl	WIZCHIP_READ
 3050              	.LVL331:
 896:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3051              		.loc 1 896 29 view .LVU880
 3052 00a6 0402     		lsls	r4, r0, #8
 3053 00a8 A4B2     		uxth	r4, r4
 3054 00aa 06F58850 		add	r0, r6, #4352
 3055 00ae FFF7FEFF 		bl	WIZCHIP_READ
 3056              	.LVL332:
 3057 00b2 0444     		add	r4, r4, r0
 896:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3058              		.loc 1 896 27 view .LVU881
 3059 00b4 2C80     		strh	r4, [r5]	@ movhi
 897:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ > 5200   
 3060              		.loc 1 897 10 is_stmt 1 view .LVU882
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3061              		.loc 1 930 11 is_stmt 0 view .LVU883
 3062 00b6 0120     		movs	r0, #1
 897:ioLibrary_Driver-master/Ethernet/socket.c ****    #if _WIZCHIP_ > 5200   
 3063              		.loc 1 897 10 view .LVU884
 3064 00b8 BDE7     		b	.L249
 3065              	.LVL333:
 3066              	.L256:
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 3067              		.loc 1 900 10 is_stmt 1 view .LVU885
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 3068              		.loc 1 900 10 view .LVU886
 3069 00ba 8400     		lsls	r4, r0, #2
 3070 00bc 0134     		adds	r4, r4, #1
 3071 00be E400     		lsls	r4, r4, #3
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 80


 3072 00c0 2046     		mov	r0, r4
 3073              	.LVL334:
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 3074              		.loc 1 900 10 is_stmt 0 view .LVU887
 3075 00c2 FFF7FEFF 		bl	WIZCHIP_READ
 3076              	.LVL335:
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 3077              		.loc 1 900 10 view .LVU888
 3078 00c6 00F00F00 		and	r0, r0, #15
 3079 00ca 0128     		cmp	r0, #1
 3080 00cc 40D1     		bne	.L266
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 3081              		.loc 1 900 10 is_stmt 1 discriminator 2 view .LVU889
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 3082              		.loc 1 900 35 discriminator 2 view .LVU890
 901:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3083              		.loc 1 901 10 discriminator 2 view .LVU891
 901:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3084              		.loc 1 901 29 is_stmt 0 discriminator 2 view .LVU892
 3085 00ce 04F53C50 		add	r0, r4, #12032
 3086 00d2 FFF7FEFF 		bl	WIZCHIP_READ
 3087              	.LVL336:
 901:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3088              		.loc 1 901 27 discriminator 2 view .LVU893
 3089 00d6 2880     		strh	r0, [r5]	@ movhi
 902:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif      
 3090              		.loc 1 902 10 is_stmt 1 discriminator 2 view .LVU894
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3091              		.loc 1 930 11 is_stmt 0 discriminator 2 view .LVU895
 3092 00d8 0120     		movs	r0, #1
 902:ioLibrary_Driver-master/Ethernet/socket.c ****    #endif      
 3093              		.loc 1 902 10 discriminator 2 view .LVU896
 3094 00da ACE7     		b	.L249
 3095              	.LVL337:
 3096              	.L255:
 905:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3097              		.loc 1 905 10 is_stmt 1 view .LVU897
 905:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3098              		.loc 1 905 29 is_stmt 0 view .LVU898
 3099 00dc FFF7FEFF 		bl	getSn_TX_FSR
 3100              	.LVL338:
 905:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3101              		.loc 1 905 27 view .LVU899
 3102 00e0 2880     		strh	r0, [r5]	@ movhi
 906:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_RECVBUF:
 3103              		.loc 1 906 10 is_stmt 1 view .LVU900
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3104              		.loc 1 930 11 is_stmt 0 view .LVU901
 3105 00e2 0120     		movs	r0, #1
 906:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_RECVBUF:
 3106              		.loc 1 906 10 view .LVU902
 3107 00e4 A7E7     		b	.L249
 3108              	.LVL339:
 3109              	.L254:
 908:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3110              		.loc 1 908 10 is_stmt 1 view .LVU903
 908:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 81


 3111              		.loc 1 908 29 is_stmt 0 view .LVU904
 3112 00e6 FFF7FEFF 		bl	getSn_RX_RSR
 3113              	.LVL340:
 908:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3114              		.loc 1 908 27 view .LVU905
 3115 00ea 2880     		strh	r0, [r5]	@ movhi
 909:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_STATUS:
 3116              		.loc 1 909 10 is_stmt 1 view .LVU906
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3117              		.loc 1 930 11 is_stmt 0 view .LVU907
 3118 00ec 0120     		movs	r0, #1
 909:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_STATUS:
 3119              		.loc 1 909 10 view .LVU908
 3120 00ee A2E7     		b	.L249
 3121              	.LVL341:
 3122              	.L253:
 911:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3123              		.loc 1 911 10 is_stmt 1 view .LVU909
 911:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3124              		.loc 1 911 28 is_stmt 0 view .LVU910
 3125 00f0 8000     		lsls	r0, r0, #2
 3126              	.LVL342:
 911:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3127              		.loc 1 911 28 view .LVU911
 3128 00f2 0130     		adds	r0, r0, #1
 3129 00f4 C000     		lsls	r0, r0, #3
 3130 00f6 00F54070 		add	r0, r0, #768
 3131 00fa FFF7FEFF 		bl	WIZCHIP_READ
 3132              	.LVL343:
 911:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3133              		.loc 1 911 26 view .LVU912
 3134 00fe 2870     		strb	r0, [r5]
 912:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_REMAINSIZE:
 3135              		.loc 1 912 10 is_stmt 1 view .LVU913
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3136              		.loc 1 930 11 is_stmt 0 view .LVU914
 3137 0100 0120     		movs	r0, #1
 912:ioLibrary_Driver-master/Ethernet/socket.c ****       case SO_REMAINSIZE:
 3138              		.loc 1 912 10 view .LVU915
 3139 0102 98E7     		b	.L249
 3140              	.LVL344:
 3141              	.L252:
 914:ioLibrary_Driver-master/Ethernet/socket.c ****             *(uint16_t*)arg = getSn_RX_RSR(sn);
 3142              		.loc 1 914 10 is_stmt 1 view .LVU916
 914:ioLibrary_Driver-master/Ethernet/socket.c ****             *(uint16_t*)arg = getSn_RX_RSR(sn);
 3143              		.loc 1 914 13 is_stmt 0 view .LVU917
 3144 0104 8000     		lsls	r0, r0, #2
 3145              	.LVL345:
 914:ioLibrary_Driver-master/Ethernet/socket.c ****             *(uint16_t*)arg = getSn_RX_RSR(sn);
 3146              		.loc 1 914 13 view .LVU918
 3147 0106 0130     		adds	r0, r0, #1
 3148 0108 C000     		lsls	r0, r0, #3
 3149 010a FFF7FEFF 		bl	WIZCHIP_READ
 3150              	.LVL346:
 914:ioLibrary_Driver-master/Ethernet/socket.c ****             *(uint16_t*)arg = getSn_RX_RSR(sn);
 3151              		.loc 1 914 12 view .LVU919
 3152 010e 10F0010F 		tst	r0, #1
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 82


 3153 0112 05D1     		bne	.L272
 917:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3154              		.loc 1 917 13 is_stmt 1 view .LVU920
 917:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3155              		.loc 1 917 49 is_stmt 0 view .LVU921
 3156 0114 114B     		ldr	r3, .L273
 3157 0116 33F81630 		ldrh	r3, [r3, r6, lsl #1]
 917:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3158              		.loc 1 917 29 view .LVU922
 3159 011a 2B80     		strh	r3, [r5]	@ movhi
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3160              		.loc 1 930 11 view .LVU923
 3161 011c 0120     		movs	r0, #1
 3162 011e 8AE7     		b	.L249
 3163              	.L272:
 915:ioLibrary_Driver-master/Ethernet/socket.c ****          else
 3164              		.loc 1 915 13 is_stmt 1 view .LVU924
 915:ioLibrary_Driver-master/Ethernet/socket.c ****          else
 3165              		.loc 1 915 31 is_stmt 0 view .LVU925
 3166 0120 3046     		mov	r0, r6
 3167 0122 FFF7FEFF 		bl	getSn_RX_RSR
 3168              	.LVL347:
 915:ioLibrary_Driver-master/Ethernet/socket.c ****          else
 3169              		.loc 1 915 29 view .LVU926
 3170 0126 2880     		strh	r0, [r5]	@ movhi
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3171              		.loc 1 930 11 view .LVU927
 3172 0128 0120     		movs	r0, #1
 3173 012a 84E7     		b	.L249
 3174              	.LVL348:
 3175              	.L250:
 922:ioLibrary_Driver-master/Ethernet/socket.c ****              return SOCKERR_SOCKMODE;
 3176              		.loc 1 922 10 is_stmt 1 view .LVU928
 922:ioLibrary_Driver-master/Ethernet/socket.c ****              return SOCKERR_SOCKMODE;
 3177              		.loc 1 922 14 is_stmt 0 view .LVU929
 3178 012c 8000     		lsls	r0, r0, #2
 3179              	.LVL349:
 922:ioLibrary_Driver-master/Ethernet/socket.c ****              return SOCKERR_SOCKMODE;
 3180              		.loc 1 922 14 view .LVU930
 3181 012e 0130     		adds	r0, r0, #1
 3182 0130 C000     		lsls	r0, r0, #3
 3183 0132 FFF7FEFF 		bl	WIZCHIP_READ
 3184              	.LVL350:
 922:ioLibrary_Driver-master/Ethernet/socket.c ****              return SOCKERR_SOCKMODE;
 3185              		.loc 1 922 12 view .LVU931
 3186 0136 0128     		cmp	r0, #1
 3187 0138 0DD0     		beq	.L267
 925:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3188              		.loc 1 925 10 is_stmt 1 view .LVU932
 925:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3189              		.loc 1 925 41 is_stmt 0 view .LVU933
 3190 013a 094B     		ldr	r3, .L273+4
 3191 013c 9B5D     		ldrb	r3, [r3, r6]	@ zero_extendqisi2
 925:ioLibrary_Driver-master/Ethernet/socket.c ****          break;
 3192              		.loc 1 925 25 view .LVU934
 3193 013e 2B70     		strb	r3, [r5]
 926:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 83


 3194              		.loc 1 926 10 is_stmt 1 view .LVU935
 930:ioLibrary_Driver-master/Ethernet/socket.c **** }
 3195              		.loc 1 930 11 is_stmt 0 view .LVU936
 3196 0140 0120     		movs	r0, #1
 926:ioLibrary_Driver-master/Ethernet/socket.c ****       default:
 3197              		.loc 1 926 10 view .LVU937
 3198 0142 78E7     		b	.L249
 3199              	.LVL351:
 3200              	.L264:
 3201              	.LCFI36:
 3202              		.cfi_def_cfa_offset 0
 3203              		.cfi_restore 4
 3204              		.cfi_restore 5
 3205              		.cfi_restore 6
 3206              		.cfi_restore 14
 877:ioLibrary_Driver-master/Ethernet/socket.c ****    switch(sotype)
 3207              		.loc 1 877 4 view .LVU938
 3208 0144 4FF0FF30 		mov	r0, #-1
 3209              	.LVL352:
 3210              		.loc 1 931 1 view .LVU939
 3211 0148 7047     		bx	lr
 3212              	.LVL353:
 3213              	.L265:
 3214              	.LCFI37:
 3215              		.cfi_def_cfa_offset 16
 3216              		.cfi_offset 4, -16
 3217              		.cfi_offset 5, -12
 3218              		.cfi_offset 6, -8
 3219              		.cfi_offset 14, -4
 878:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 3220              		.loc 1 878 4 view .LVU940
 3221 014a 6FF00100 		mvn	r0, #1
 3222              	.LVL354:
 878:ioLibrary_Driver-master/Ethernet/socket.c ****    {
 3223              		.loc 1 878 4 view .LVU941
 3224 014e 72E7     		b	.L249
 3225              	.LVL355:
 3226              	.L266:
 900:ioLibrary_Driver-master/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 3227              		.loc 1 900 10 view .LVU942
 3228 0150 6FF00400 		mvn	r0, #4
 3229 0154 6FE7     		b	.L249
 3230              	.L267:
 923:ioLibrary_Driver-master/Ethernet/socket.c **** #endif
 3231              		.loc 1 923 21 view .LVU943
 3232 0156 6FF00400 		mvn	r0, #4
 3233 015a 6CE7     		b	.L249
 3234              	.L274:
 3235              		.align	2
 3236              	.L273:
 3237 015c 00000000 		.word	sock_remained_size
 3238 0160 00000000 		.word	sock_pack_info
 3239              		.cfi_endproc
 3240              	.LFE11:
 3242              		.global	sock_pack_info
 3243              		.section	.bss.sock_pack_info,"aw",%nobits
 3244              		.align	2
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 84


 3247              	sock_pack_info:
 3248 0000 00000000 		.space	8
 3248      00000000 
 3249              		.section	.bss.sock_remained_size,"aw",%nobits
 3250              		.align	2
 3253              	sock_remained_size:
 3254 0000 00000000 		.space	16
 3254      00000000 
 3254      00000000 
 3254      00000000 
 3255              		.section	.bss.sock_is_sending,"aw",%nobits
 3256              		.align	1
 3259              	sock_is_sending:
 3260 0000 0000     		.space	2
 3261              		.section	.bss.sock_io_mode,"aw",%nobits
 3262              		.align	1
 3265              	sock_io_mode:
 3266 0000 0000     		.space	2
 3267              		.section	.data.sock_any_port,"aw"
 3268              		.align	1
 3271              	sock_any_port:
 3272 0000 00C0     		.short	-16384
 3273              		.text
 3274              	.Letext0:
 3275              		.file 2 "c:\\vscode\\vscodestmtools\\arm-none-eabi-gcc\\12.2.1-1.2.1\\.content\\arm-none-eabi\\inc
 3276              		.file 3 "c:\\vscode\\vscodestmtools\\arm-none-eabi-gcc\\12.2.1-1.2.1\\.content\\arm-none-eabi\\inc
 3277              		.file 4 "ioLibrary_Driver-master/Ethernet/socket.h"
 3278              		.file 5 "ioLibrary_Driver-master/Ethernet/W5500/w5500.h"
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 85


DEFINED SYMBOLS
                            *ABS*:0000000000000000 socket.c
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:19     .text.close:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:25     .text.close:0000000000000000 close
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:120    .text.close:0000000000000068 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3265   .bss.sock_io_mode:0000000000000000 sock_io_mode
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3259   .bss.sock_is_sending:0000000000000000 sock_is_sending
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3253   .bss.sock_remained_size:0000000000000000 sock_remained_size
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3247   .bss.sock_pack_info:0000000000000000 sock_pack_info
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:128    .text.socket:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:134    .text.socket:0000000000000000 socket
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:419    .text.socket:000000000000014c $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3271   .data.sock_any_port:0000000000000000 sock_any_port
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:428    .text.listen:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:434    .text.listen:0000000000000000 listen
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:549    .text.connect:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:555    .text.connect:0000000000000000 connect
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:781    .text.connect:00000000000000f8 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:786    .text.disconnect:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:792    .text.disconnect:0000000000000000 disconnect
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:922    .text.disconnect:0000000000000088 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:928    .text.send:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:934    .text.send:0000000000000000 send
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1221   .text.send:000000000000011c $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1227   .text.recv:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1233   .text.recv:0000000000000000 recv
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1460   .text.recv:00000000000000d8 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1465   .text.sendto:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1471   .text.sendto:0000000000000000 sendto
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1775   .text.sendto:0000000000000158 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1780   .text.recvfrom:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:1786   .text.recvfrom:0000000000000000 recvfrom
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2304   .text.recvfrom:0000000000000278 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2311   .text.ctlsocket:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2317   .text.ctlsocket:0000000000000000 ctlsocket
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2343   .text.ctlsocket:0000000000000010 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2351   .text.ctlsocket:0000000000000018 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2600   .text.ctlsocket:000000000000010c $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2605   .text.setsockopt:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2611   .text.setsockopt:0000000000000000 setsockopt
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2641   .text.setsockopt:0000000000000016 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2885   .text.getsockopt:0000000000000000 $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2891   .text.getsockopt:0000000000000000 getsockopt
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2919   .text.getsockopt:0000000000000016 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3237   .text.getsockopt:000000000000015c $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3244   .bss.sock_pack_info:0000000000000000 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3250   .bss.sock_remained_size:0000000000000000 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3256   .bss.sock_is_sending:0000000000000000 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3262   .bss.sock_io_mode:0000000000000000 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:3268   .data.sock_any_port:0000000000000000 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2648   .text.setsockopt:000000000000001d $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2648   .text.setsockopt:000000000000001e $t
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2932   .text.getsockopt:0000000000000023 $d
C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s:2932   .text.getsockopt:0000000000000024 $t

UNDEFINED SYMBOLS
WIZCHIP_WRITE
ARM GAS  C:\Users\VIDCOM~1\AppData\Local\Temp\cciwWNgq.s 			page 86


WIZCHIP_READ
WIZCHIP_READ_BUF
WIZCHIP_WRITE_BUF
getSn_TX_FSR
wiz_send_data
getSn_RX_RSR
wiz_recv_data
wiz_recv_ignore
